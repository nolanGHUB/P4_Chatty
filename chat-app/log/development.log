  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateChatMessages (20200207135207)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "chat_messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200207135207"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-02-07 13:52:20.631879"], ["updated_at", "2020-02-07 13:52:20.631879"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2020-02-07 09:54:13 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 09:54:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 09:54:13 -0500
Started GET "/cable" for ::1 at 2020-02-07 09:54:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 09:54:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-07 14:54:18.185553"], ["updated_at", "2020-02-07 14:54:18.185553"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 28531deb-53af-42d9-832d-fd7f70129cf3) to Async(default) with arguments: #<GlobalID:0x00007fa7afa40a20 @uri=#<URI::GID gid://chat-app/ChatMessage/1>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [28531deb-53af-42d9-832d-fd7f70129cf3] Performing ChatMessageCreationEventBroadcastJob (Job ID: 28531deb-53af-42d9-832d-fd7f70129cf3) from Async(default) enqueued at 2020-02-07T14:54:18Z with arguments: #<GlobalID:0x00007fa7b0afb310 @uri=#<URI::GID gid://chat-app/ChatMessage/1>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [28531deb-53af-42d9-832d-fd7f70129cf3] [ActionCable] Broadcasting to chat_channel: {:id=>1, :created_at=>"14:54", :content=>"test"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [28531deb-53af-42d9-832d-fd7f70129cf3] Performed ChatMessageCreationEventBroadcastJob (Job ID: 28531deb-53af-42d9-832d-fd7f70129cf3) from Async(default) in 13.13ms
ChatChannel transmitting {"id"=>1, "created_at"=>"14:54", "content"=>"test"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-07 14:54:22.502464"], ["updated_at", "2020-02-07 14:54:22.502464"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b872e23b-895c-4b39-aaeb-088b59f9eb5e) to Async(default) with arguments: #<GlobalID:0x00007fa7b042ede8 @uri=#<URI::GID gid://chat-app/ChatMessage/2>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b872e23b-895c-4b39-aaeb-088b59f9eb5e] Performing ChatMessageCreationEventBroadcastJob (Job ID: b872e23b-895c-4b39-aaeb-088b59f9eb5e) from Async(default) enqueued at 2020-02-07T14:54:22Z with arguments: #<GlobalID:0x00007fa7afa91ad8 @uri=#<URI::GID gid://chat-app/ChatMessage/2>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b872e23b-895c-4b39-aaeb-088b59f9eb5e] [ActionCable] Broadcasting to chat_channel: {:id=>2, :created_at=>"14:54", :content=>"Hey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b872e23b-895c-4b39-aaeb-088b59f9eb5e] Performed ChatMessageCreationEventBroadcastJob (Job ID: b872e23b-895c-4b39-aaeb-088b59f9eb5e) from Async(default) in 0.27ms
ChatChannel transmitting {"id"=>2, "created_at"=>"14:54", "content"=>"Hey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"nolan"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (1.8ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "nolan"], ["created_at", "2020-02-07 14:55:06.553552"], ["updated_at", "2020-02-07 14:55:06.553552"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: ebe49d1a-335c-46cd-af83-96a82b6192b1) to Async(default) with arguments: #<GlobalID:0x00007fa7af41b2a8 @uri=#<URI::GID gid://chat-app/ChatMessage/3>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ebe49d1a-335c-46cd-af83-96a82b6192b1] Performing ChatMessageCreationEventBroadcastJob (Job ID: ebe49d1a-335c-46cd-af83-96a82b6192b1) from Async(default) enqueued at 2020-02-07T14:55:06Z with arguments: #<GlobalID:0x00007fa7b0d76090 @uri=#<URI::GID gid://chat-app/ChatMessage/3>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ebe49d1a-335c-46cd-af83-96a82b6192b1] [ActionCable] Broadcasting to chat_channel: {:id=>3, :created_at=>"14:55", :content=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ebe49d1a-335c-46cd-af83-96a82b6192b1] Performed ChatMessageCreationEventBroadcastJob (Job ID: ebe49d1a-335c-46cd-af83-96a82b6192b1) from Async(default) in 0.25ms
ChatChannel transmitting {"id"=>3, "created_at"=>"14:55", "content"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"casey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "casey"], ["created_at", "2020-02-07 14:55:12.566458"], ["updated_at", "2020-02-07 14:55:12.566458"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 84cd6669-eb9e-4ff6-8318-0e9e02f0d453) to Async(default) with arguments: #<GlobalID:0x00007fa7b0a1a6f8 @uri=#<URI::GID gid://chat-app/ChatMessage/4>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84cd6669-eb9e-4ff6-8318-0e9e02f0d453] Performing ChatMessageCreationEventBroadcastJob (Job ID: 84cd6669-eb9e-4ff6-8318-0e9e02f0d453) from Async(default) enqueued at 2020-02-07T14:55:12Z with arguments: #<GlobalID:0x00007fa7af24f9d8 @uri=#<URI::GID gid://chat-app/ChatMessage/4>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84cd6669-eb9e-4ff6-8318-0e9e02f0d453] [ActionCable] Broadcasting to chat_channel: {:id=>4, :created_at=>"14:55", :content=>"casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84cd6669-eb9e-4ff6-8318-0e9e02f0d453] Performed ChatMessageCreationEventBroadcastJob (Job ID: 84cd6669-eb9e-4ff6-8318-0e9e02f0d453) from Async(default) in 0.28ms
ChatChannel transmitting {"id"=>4, "created_at"=>"14:55", "content"=>"casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 09:57:36 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 09:57:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 09:57:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 09:59:00 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 09:59:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 09:59:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 09:59:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 09:59:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 09:59:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 10:00:06 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 10:00:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 10:00:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-07 15:00:09.211925"], ["updated_at", "2020-02-07 15:00:09.211925"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: fe4e2748-6449-402e-a4b0-04d57a8d223f) to Async(default) with arguments: #<GlobalID:0x00007fa7b0bd5268 @uri=#<URI::GID gid://chat-app/ChatMessage/5>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fe4e2748-6449-402e-a4b0-04d57a8d223f] Performing ChatMessageCreationEventBroadcastJob (Job ID: fe4e2748-6449-402e-a4b0-04d57a8d223f) from Async(default) enqueued at 2020-02-07T15:00:09Z with arguments: #<GlobalID:0x00007fa7afa78358 @uri=#<URI::GID gid://chat-app/ChatMessage/5>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fe4e2748-6449-402e-a4b0-04d57a8d223f] [ActionCable] Broadcasting to chat_channel: {:id=>5, :created_at=>"15:00", :content=>"test"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fe4e2748-6449-402e-a4b0-04d57a8d223f] Performed ChatMessageCreationEventBroadcastJob (Job ID: fe4e2748-6449-402e-a4b0-04d57a8d223f) from Async(default) in 0.25ms
ChatChannel transmitting {"id"=>5, "created_at"=>"15:00", "content"=>"test"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-07 15:00:11.739757"], ["updated_at", "2020-02-07 15:00:11.739757"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3351bb34-820d-43ce-a1e8-b2f282de3a94) to Async(default) with arguments: #<GlobalID:0x00007fa7b043dd98 @uri=#<URI::GID gid://chat-app/ChatMessage/6>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3351bb34-820d-43ce-a1e8-b2f282de3a94] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3351bb34-820d-43ce-a1e8-b2f282de3a94) from Async(default) enqueued at 2020-02-07T15:00:11Z with arguments: #<GlobalID:0x00007fa7af3cb348 @uri=#<URI::GID gid://chat-app/ChatMessage/6>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3351bb34-820d-43ce-a1e8-b2f282de3a94] [ActionCable] Broadcasting to chat_channel: {:id=>6, :created_at=>"15:00", :content=>"hey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3351bb34-820d-43ce-a1e8-b2f282de3a94] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3351bb34-820d-43ce-a1e8-b2f282de3a94) from Async(default) in 0.26ms
ChatChannel transmitting {"id"=>6, "created_at"=>"15:00", "content"=>"hey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"my name is"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "my name is"], ["created_at", "2020-02-07 15:00:14.339597"], ["updated_at", "2020-02-07 15:00:14.339597"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6b72eb4d-8274-4b4a-9b82-929c8fbaeead) to Async(default) with arguments: #<GlobalID:0x00007fa7b0d4d708 @uri=#<URI::GID gid://chat-app/ChatMessage/7>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6b72eb4d-8274-4b4a-9b82-929c8fbaeead] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6b72eb4d-8274-4b4a-9b82-929c8fbaeead) from Async(default) enqueued at 2020-02-07T15:00:14Z with arguments: #<GlobalID:0x00007fa7b0d766d0 @uri=#<URI::GID gid://chat-app/ChatMessage/7>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6b72eb4d-8274-4b4a-9b82-929c8fbaeead] [ActionCable] Broadcasting to chat_channel: {:id=>7, :created_at=>"15:00", :content=>"my name is"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6b72eb4d-8274-4b4a-9b82-929c8fbaeead] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6b72eb4d-8274-4b4a-9b82-929c8fbaeead) from Async(default) in 0.26ms
ChatChannel transmitting {"id"=>7, "created_at"=>"15:00", "content"=>"my name is"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Okay how do I do this"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "Okay how do I do this"], ["created_at", "2020-02-07 15:01:30.645715"], ["updated_at", "2020-02-07 15:01:30.645715"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b20360bc-0d55-4782-8979-778a4fda8256) to Async(default) with arguments: #<GlobalID:0x00007fa7b0341020 @uri=#<URI::GID gid://chat-app/ChatMessage/8>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b20360bc-0d55-4782-8979-778a4fda8256] Performing ChatMessageCreationEventBroadcastJob (Job ID: b20360bc-0d55-4782-8979-778a4fda8256) from Async(default) enqueued at 2020-02-07T15:01:30Z with arguments: #<GlobalID:0x00007fa7af2d6938 @uri=#<URI::GID gid://chat-app/ChatMessage/8>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b20360bc-0d55-4782-8979-778a4fda8256] [ActionCable] Broadcasting to chat_channel: {:id=>8, :created_at=>"15:01", :content=>"Okay how do I do this"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b20360bc-0d55-4782-8979-778a4fda8256] Performed ChatMessageCreationEventBroadcastJob (Job ID: b20360bc-0d55-4782-8979-778a4fda8256) from Async(default) in 0.26ms
ChatChannel transmitting {"id"=>8, "created_at"=>"15:01", "content"=>"Okay how do I do this"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-07 10:02:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 10:02:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-07 15:02:06.640477"], ["updated_at", "2020-02-07 15:02:06.640477"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c1c89749-582b-435c-95cf-ad8c9a9bf8cb) to Async(default) with arguments: #<GlobalID:0x00007fa7b03f4210 @uri=#<URI::GID gid://chat-app/ChatMessage/9>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c1c89749-582b-435c-95cf-ad8c9a9bf8cb] Performing ChatMessageCreationEventBroadcastJob (Job ID: c1c89749-582b-435c-95cf-ad8c9a9bf8cb) from Async(default) enqueued at 2020-02-07T15:02:06Z with arguments: #<GlobalID:0x00007fa7b0bdd3c8 @uri=#<URI::GID gid://chat-app/ChatMessage/9>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c1c89749-582b-435c-95cf-ad8c9a9bf8cb] [ActionCable] Broadcasting to chat_channel: {:id=>9, :created_at=>"15:02", :content=>"hey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c1c89749-582b-435c-95cf-ad8c9a9bf8cb] Performed ChatMessageCreationEventBroadcastJob (Job ID: c1c89749-582b-435c-95cf-ad8c9a9bf8cb) from Async(default) in 0.26ms
ChatChannel transmitting {"id"=>9, "created_at"=>"15:02", "content"=>"hey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>9, "created_at"=>"15:02", "content"=>"hey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-07 15:02:09.988278"], ["updated_at", "2020-02-07 15:02:09.988278"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4a0a6a64-ac76-4a18-8b76-8b9a2a623d47) to Async(default) with arguments: #<GlobalID:0x00007fa7b0c5ec48 @uri=#<URI::GID gid://chat-app/ChatMessage/10>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4a0a6a64-ac76-4a18-8b76-8b9a2a623d47] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4a0a6a64-ac76-4a18-8b76-8b9a2a623d47) from Async(default) enqueued at 2020-02-07T15:02:09Z with arguments: #<GlobalID:0x00007fa7b042ec08 @uri=#<URI::GID gid://chat-app/ChatMessage/10>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4a0a6a64-ac76-4a18-8b76-8b9a2a623d47] [ActionCable] Broadcasting to chat_channel: {:id=>10, :created_at=>"15:02", :content=>"test"}
ChatChannel transmitting {"id"=>10, "created_at"=>"15:02", "content"=>"test"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4a0a6a64-ac76-4a18-8b76-8b9a2a623d47] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4a0a6a64-ac76-4a18-8b76-8b9a2a623d47) from Async(default) in 0.26ms
ChatChannel transmitting {"id"=>10, "created_at"=>"15:02", "content"=>"test"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"no fucking way"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "no fucking way"], ["created_at", "2020-02-07 15:02:17.181290"], ["updated_at", "2020-02-07 15:02:17.181290"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 03abfb64-9932-4de8-9797-fa5c724861bc) to Async(default) with arguments: #<GlobalID:0x00007fa7b0d04ee0 @uri=#<URI::GID gid://chat-app/ChatMessage/11>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [03abfb64-9932-4de8-9797-fa5c724861bc] Performing ChatMessageCreationEventBroadcastJob (Job ID: 03abfb64-9932-4de8-9797-fa5c724861bc) from Async(default) enqueued at 2020-02-07T15:02:17Z with arguments: #<GlobalID:0x00007fa7af3bd338 @uri=#<URI::GID gid://chat-app/ChatMessage/11>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [03abfb64-9932-4de8-9797-fa5c724861bc] [ActionCable] Broadcasting to chat_channel: {:id=>11, :created_at=>"15:02", :content=>"no fucking way"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [03abfb64-9932-4de8-9797-fa5c724861bc] Performed ChatMessageCreationEventBroadcastJob (Job ID: 03abfb64-9932-4de8-9797-fa5c724861bc) from Async(default) in 0.3ms
ChatChannel transmitting {"id"=>11, "created_at"=>"15:02", "content"=>"no fucking way"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>11, "created_at"=>"15:02", "content"=>"no fucking way"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"no"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "no"], ["created_at", "2020-02-07 15:03:31.847305"], ["updated_at", "2020-02-07 15:03:31.847305"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1370a8dd-b63c-46ed-bc42-035acaf9df23) to Async(default) with arguments: #<GlobalID:0x00007fa7b0d5fca0 @uri=#<URI::GID gid://chat-app/ChatMessage/12>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1370a8dd-b63c-46ed-bc42-035acaf9df23] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1370a8dd-b63c-46ed-bc42-035acaf9df23) from Async(default) enqueued at 2020-02-07T15:03:31Z with arguments: #<GlobalID:0x00007fa7b0d7c5a8 @uri=#<URI::GID gid://chat-app/ChatMessage/12>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1370a8dd-b63c-46ed-bc42-035acaf9df23] [ActionCable] Broadcasting to chat_channel: {:id=>12, :created_at=>"15:03", :content=>"no"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1370a8dd-b63c-46ed-bc42-035acaf9df23] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1370a8dd-b63c-46ed-bc42-035acaf9df23) from Async(default) in 0.27ms
ChatChannel transmitting {"id"=>12, "created_at"=>"15:03", "content"=>"no"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>12, "created_at"=>"15:03", "content"=>"no"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-07 12:01:08 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 12:01:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 12:01:14 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 12:02:51 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 12:02:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 12:02:53 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 12:02:53 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 12:02:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 12:03:05 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 12:03:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 12:03:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 12:03:08 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 12:03:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 12:03:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-07 12:03:39 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-07 12:03:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-07 12:03:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-07 17:03:41.541006"], ["updated_at", "2020-02-07 17:03:41.541006"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4aa05ea2-a313-4788-ab1b-1248fa9aef75) to Async(default) with arguments: #<GlobalID:0x00007fc1553a54a8 @uri=#<URI::GID gid://chat-app/ChatMessage/13>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4aa05ea2-a313-4788-ab1b-1248fa9aef75] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4aa05ea2-a313-4788-ab1b-1248fa9aef75) from Async(default) enqueued at 2020-02-07T17:03:41Z with arguments: #<GlobalID:0x00007fc1532a7580 @uri=#<URI::GID gid://chat-app/ChatMessage/13>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4aa05ea2-a313-4788-ab1b-1248fa9aef75] [ActionCable] Broadcasting to chat_channel: {:id=>13, :created_at=>"17:03", :content=>"test"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4aa05ea2-a313-4788-ab1b-1248fa9aef75] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4aa05ea2-a313-4788-ab1b-1248fa9aef75) from Async(default) in 1.67ms
ChatChannel transmitting {"id"=>13, "created_at"=>"17:03", "content"=>"test"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 12:11:13 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:11:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 12:11:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:11:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-08 17:12:15.423865"], ["updated_at", "2020-02-08 17:12:15.423865"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 0f263be5-7f80-4538-9cb5-47d831124d77) to Async(default) with arguments: #<GlobalID:0x00007ff5a810f888 @uri=#<URI::GID gid://chat-app/ChatMessage/14>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0f263be5-7f80-4538-9cb5-47d831124d77] Performing ChatMessageCreationEventBroadcastJob (Job ID: 0f263be5-7f80-4538-9cb5-47d831124d77) from Async(default) enqueued at 2020-02-08T17:12:15Z with arguments: #<GlobalID:0x00007ff5a2a89e78 @uri=#<URI::GID gid://chat-app/ChatMessage/14>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0f263be5-7f80-4538-9cb5-47d831124d77] [ActionCable] Broadcasting to chat_channel: {:id=>14, :created_at=>"17:12", :content=>"test"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0f263be5-7f80-4538-9cb5-47d831124d77] Performed ChatMessageCreationEventBroadcastJob (Job ID: 0f263be5-7f80-4538-9cb5-47d831124d77) from Async(default) in 4.43ms
ChatChannel transmitting {"id"=>14, "created_at"=>"17:12", "content"=>"test"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>14, "created_at"=>"17:12", "content"=>"test"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 12:12:15 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 12:12:15 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:12:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-08 17:12:31.354956"], ["updated_at", "2020-02-08 17:12:31.354956"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cb23fc34-1d43-4c72-becf-90f1a2ecfacc) to Async(default) with arguments: #<GlobalID:0x00007ff5a81efa78 @uri=#<URI::GID gid://chat-app/ChatMessage/15>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb23fc34-1d43-4c72-becf-90f1a2ecfacc] Performing ChatMessageCreationEventBroadcastJob (Job ID: cb23fc34-1d43-4c72-becf-90f1a2ecfacc) from Async(default) enqueued at 2020-02-08T17:12:31Z with arguments: #<GlobalID:0x00007ff5a3139ca0 @uri=#<URI::GID gid://chat-app/ChatMessage/15>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb23fc34-1d43-4c72-becf-90f1a2ecfacc] [ActionCable] Broadcasting to chat_channel: {:id=>15, :created_at=>"17:12", :content=>"hey"}
ChatChannel transmitting {"id"=>15, "created_at"=>"17:12", "content"=>"hey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb23fc34-1d43-4c72-becf-90f1a2ecfacc] Performed ChatMessageCreationEventBroadcastJob (Job ID: cb23fc34-1d43-4c72-becf-90f1a2ecfacc) from Async(default) in 0.27ms
ChatChannel transmitting {"id"=>15, "created_at"=>"17:12", "content"=>"hey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-08 17:12:41.914961"], ["updated_at", "2020-02-08 17:12:41.914961"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 51f5b6cd-cb16-4444-bf66-bb83f1381bd3) to Async(default) with arguments: #<GlobalID:0x00007ff5a826af20 @uri=#<URI::GID gid://chat-app/ChatMessage/16>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51f5b6cd-cb16-4444-bf66-bb83f1381bd3] Performing ChatMessageCreationEventBroadcastJob (Job ID: 51f5b6cd-cb16-4444-bf66-bb83f1381bd3) from Async(default) enqueued at 2020-02-08T17:12:41Z with arguments: #<GlobalID:0x00007ff5a519c2b8 @uri=#<URI::GID gid://chat-app/ChatMessage/16>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51f5b6cd-cb16-4444-bf66-bb83f1381bd3] [ActionCable] Broadcasting to chat_channel: {:id=>16, :created_at=>"17:12", :content=>"hey"}
ChatChannel transmitting {"id"=>16, "created_at"=>"17:12", "content"=>"hey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>16, "created_at"=>"17:12", "content"=>"hey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51f5b6cd-cb16-4444-bf66-bb83f1381bd3] Performed ChatMessageCreationEventBroadcastJob (Job ID: 51f5b6cd-cb16-4444-bf66-bb83f1381bd3) from Async(default) in 0.3ms
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-08 17:12:46.644564"], ["updated_at", "2020-02-08 17:12:46.644564"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8437700b-f872-42f1-a993-4372234980cb) to Async(default) with arguments: #<GlobalID:0x00007ff5a82dd458 @uri=#<URI::GID gid://chat-app/ChatMessage/17>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8437700b-f872-42f1-a993-4372234980cb] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8437700b-f872-42f1-a993-4372234980cb) from Async(default) enqueued at 2020-02-08T17:12:46Z with arguments: #<GlobalID:0x00007ff5a51f6e48 @uri=#<URI::GID gid://chat-app/ChatMessage/17>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8437700b-f872-42f1-a993-4372234980cb] [ActionCable] Broadcasting to chat_channel: {:id=>17, :created_at=>"17:12", :content=>"test"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8437700b-f872-42f1-a993-4372234980cb] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8437700b-f872-42f1-a993-4372234980cb) from Async(default) in 0.41ms
ChatChannel transmitting {"id"=>17, "created_at"=>"17:12", "content"=>"test"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>17, "created_at"=>"17:12", "content"=>"test"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"okay"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "okay"], ["created_at", "2020-02-08 17:12:48.700293"], ["updated_at", "2020-02-08 17:12:48.700293"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 31a7d316-da3f-46e9-a15c-2699b1f56879) to Async(default) with arguments: #<GlobalID:0x00007ff5a83363f0 @uri=#<URI::GID gid://chat-app/ChatMessage/18>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [31a7d316-da3f-46e9-a15c-2699b1f56879] Performing ChatMessageCreationEventBroadcastJob (Job ID: 31a7d316-da3f-46e9-a15c-2699b1f56879) from Async(default) enqueued at 2020-02-08T17:12:48Z with arguments: #<GlobalID:0x00007ff5a834cd08 @uri=#<URI::GID gid://chat-app/ChatMessage/18>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [31a7d316-da3f-46e9-a15c-2699b1f56879] [ActionCable] Broadcasting to chat_channel: {:id=>18, :created_at=>"17:12", :content=>"okay"}
ChatChannel transmitting {"id"=>18, "created_at"=>"17:12", "content"=>"okay"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [31a7d316-da3f-46e9-a15c-2699b1f56879] Performed ChatMessageCreationEventBroadcastJob (Job ID: 31a7d316-da3f-46e9-a15c-2699b1f56879) from Async(default) in 0.32ms
ChatChannel transmitting {"id"=>18, "created_at"=>"17:12", "content"=>"okay"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"good"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "good"], ["created_at", "2020-02-08 17:12:50.456063"], ["updated_at", "2020-02-08 17:12:50.456063"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: ac15ef79-fd84-4d0b-8499-f9ee3d31a34e) to Async(default) with arguments: #<GlobalID:0x00007ff5a3f95a38 @uri=#<URI::GID gid://chat-app/ChatMessage/19>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ac15ef79-fd84-4d0b-8499-f9ee3d31a34e] Performing ChatMessageCreationEventBroadcastJob (Job ID: ac15ef79-fd84-4d0b-8499-f9ee3d31a34e) from Async(default) enqueued at 2020-02-08T17:12:50Z with arguments: #<GlobalID:0x00007ff5a2a28bf0 @uri=#<URI::GID gid://chat-app/ChatMessage/19>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ac15ef79-fd84-4d0b-8499-f9ee3d31a34e] [ActionCable] Broadcasting to chat_channel: {:id=>19, :created_at=>"17:12", :content=>"good"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ac15ef79-fd84-4d0b-8499-f9ee3d31a34e] Performed ChatMessageCreationEventBroadcastJob (Job ID: ac15ef79-fd84-4d0b-8499-f9ee3d31a34e) from Async(default) in 0.31ms
ChatChannel transmitting {"id"=>19, "created_at"=>"17:12", "content"=>"good"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>19, "created_at"=>"17:12", "content"=>"good"} (via streamed from chat_channel)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200208173718)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200208173718"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2020-02-08 12:38:01 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:38:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"wat"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "wat"], ["created_at", "2020-02-08 17:38:06.613033"], ["updated_at", "2020-02-08 17:38:06.613033"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 63765a41-7fa5-425f-ac20-74fb8516f377) to Async(default) with arguments: #<GlobalID:0x00007f991c444690 @uri=#<URI::GID gid://chat-app/ChatMessage/20>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [63765a41-7fa5-425f-ac20-74fb8516f377] Performing ChatMessageCreationEventBroadcastJob (Job ID: 63765a41-7fa5-425f-ac20-74fb8516f377) from Async(default) enqueued at 2020-02-08T17:38:06Z with arguments: #<GlobalID:0x00007f991c8e9218 @uri=#<URI::GID gid://chat-app/ChatMessage/20>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [63765a41-7fa5-425f-ac20-74fb8516f377] [ActionCable] Broadcasting to chat_channel: {:id=>20, :created_at=>"17:38", :content=>"wat"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [63765a41-7fa5-425f-ac20-74fb8516f377] Performed ChatMessageCreationEventBroadcastJob (Job ID: 63765a41-7fa5-425f-ac20-74fb8516f377) from Async(default) in 1.93ms
ChatChannel transmitting {"id"=>20, "created_at"=>"17:38", "content"=>"wat"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 12:38:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:38:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 12:41:47 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:41:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 12:41:48 -0500
Started GET "/cable" for ::1 at 2020-02-08 12:41:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:41:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 12:41:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:41:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Heya"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "Heya"], ["created_at", "2020-02-08 17:41:56.523744"], ["updated_at", "2020-02-08 17:41:56.523744"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 24098089-8b50-4598-aa9f-e2533f22f65a) to Async(default) with arguments: #<GlobalID:0x00007fa6c13ff470 @uri=#<URI::GID gid://chat-app/ChatMessage/21>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [24098089-8b50-4598-aa9f-e2533f22f65a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 24098089-8b50-4598-aa9f-e2533f22f65a) from Async(default) enqueued at 2020-02-08T17:41:56Z with arguments: #<GlobalID:0x00007fa6c3245da8 @uri=#<URI::GID gid://chat-app/ChatMessage/21>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [24098089-8b50-4598-aa9f-e2533f22f65a] [ActionCable] Broadcasting to chat_channel: {:id=>21, :created_at=>"17:41", :content=>"Heya"}
ChatChannel transmitting {"id"=>21, "created_at"=>"17:41", "content"=>"Heya"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [24098089-8b50-4598-aa9f-e2533f22f65a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 24098089-8b50-4598-aa9f-e2533f22f65a) from Async(default) in 1.49ms
ChatChannel transmitting {"id"=>21, "created_at"=>"17:41", "content"=>"Heya"} (via streamed from chat_channel)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddCreatedByToChatMessages (20200208174718)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "chat_messages" ADD "created_by" varchar[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200208174718"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2020-02-08 12:50:43 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:50:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"ok"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-08 17:50:47.637851"], ["updated_at", "2020-02-08 17:50:47.637851"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1ce531f9-75be-40a2-9a11-1d4a5b3a6686) to Async(default) with arguments: #<GlobalID:0x00007faf3aa868d0 @uri=#<URI::GID gid://chat-app/ChatMessage/22>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ce531f9-75be-40a2-9a11-1d4a5b3a6686] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1ce531f9-75be-40a2-9a11-1d4a5b3a6686) from Async(default) enqueued at 2020-02-08T17:50:47Z with arguments: #<GlobalID:0x00007faf3b4c8cf8 @uri=#<URI::GID gid://chat-app/ChatMessage/22>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ce531f9-75be-40a2-9a11-1d4a5b3a6686] [ActionCable] Broadcasting to chat_channel: {:id=>22, :created_at=>"17:50", :content=>"ok"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ce531f9-75be-40a2-9a11-1d4a5b3a6686] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1ce531f9-75be-40a2-9a11-1d4a5b3a6686) from Async(default) in 1.49ms
ChatChannel transmitting {"id"=>22, "created_at"=>"17:50", "content"=>"ok"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 12:50:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:50:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"nowai"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "nowai"], ["created_at", "2020-02-08 17:50:53.556976"], ["updated_at", "2020-02-08 17:50:53.556976"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b94a7bab-ba21-484c-906b-3bb05e1394a8) to Async(default) with arguments: #<GlobalID:0x00007faf3c239b58 @uri=#<URI::GID gid://chat-app/ChatMessage/23>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b94a7bab-ba21-484c-906b-3bb05e1394a8] Performing ChatMessageCreationEventBroadcastJob (Job ID: b94a7bab-ba21-484c-906b-3bb05e1394a8) from Async(default) enqueued at 2020-02-08T17:50:53Z with arguments: #<GlobalID:0x00007faf3b263760 @uri=#<URI::GID gid://chat-app/ChatMessage/23>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b94a7bab-ba21-484c-906b-3bb05e1394a8] [ActionCable] Broadcasting to chat_channel: {:id=>23, :created_at=>"17:50", :content=>"nowai"}
ChatChannel transmitting {"id"=>23, "created_at"=>"17:50", "content"=>"nowai"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b94a7bab-ba21-484c-906b-3bb05e1394a8] Performed ChatMessageCreationEventBroadcastJob (Job ID: b94a7bab-ba21-484c-906b-3bb05e1394a8) from Async(default) in 0.31ms
ChatChannel transmitting {"id"=>23, "created_at"=>"17:50", "content"=>"nowai"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 12:54:35 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:54:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"a"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "a"], ["created_at", "2020-02-08 17:54:41.881404"], ["updated_at", "2020-02-08 17:54:41.881404"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 32a942b4-54fa-4bc8-811d-4ff260c2c994) to Async(default) with arguments: #<GlobalID:0x00007fb9a73003f0 @uri=#<URI::GID gid://chat-app/ChatMessage/24>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [32a942b4-54fa-4bc8-811d-4ff260c2c994] Performing ChatMessageCreationEventBroadcastJob (Job ID: 32a942b4-54fa-4bc8-811d-4ff260c2c994) from Async(default) enqueued at 2020-02-08T17:54:41Z with arguments: #<GlobalID:0x00007fb9a638ae48 @uri=#<URI::GID gid://chat-app/ChatMessage/24>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [32a942b4-54fa-4bc8-811d-4ff260c2c994] [ActionCable] Broadcasting to chat_channel: {:id=>24, :created_at=>"17:54", :content=>"a"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [32a942b4-54fa-4bc8-811d-4ff260c2c994] Performed ChatMessageCreationEventBroadcastJob (Job ID: 32a942b4-54fa-4bc8-811d-4ff260c2c994) from Async(default) in 1.27ms
ChatChannel transmitting {"id"=>24, "created_at"=>"17:54", "content"=>"a"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 12:54:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 12:54:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:00:30 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:00:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:00:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:00:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"ok"})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-08 18:00:35.436403"], ["updated_at", "2020-02-08 18:00:35.436403"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: afd54315-93bc-4e4b-b578-1c66bb61dc17) to Async(default) with arguments: #<GlobalID:0x00007ff52b24c408 @uri=#<URI::GID gid://chat-app/ChatMessage/25>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [afd54315-93bc-4e4b-b578-1c66bb61dc17] Performing ChatMessageCreationEventBroadcastJob (Job ID: afd54315-93bc-4e4b-b578-1c66bb61dc17) from Async(default) enqueued at 2020-02-08T18:00:35Z with arguments: #<GlobalID:0x00007ff528ae4b40 @uri=#<URI::GID gid://chat-app/ChatMessage/25>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [afd54315-93bc-4e4b-b578-1c66bb61dc17] [ActionCable] Broadcasting to chat_channel: {:id=>25, :created_at=>"18:00", :content=>"ok"}
ChatChannel transmitting {"id"=>25, "created_at"=>"18:00", "content"=>"ok"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [afd54315-93bc-4e4b-b578-1c66bb61dc17] Performed ChatMessageCreationEventBroadcastJob (Job ID: afd54315-93bc-4e4b-b578-1c66bb61dc17) from Async(default) in 1.66ms
ChatChannel transmitting {"id"=>25, "created_at"=>"18:00", "content"=>"ok"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 13:07:39 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:07:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hey"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-08 18:07:48.335604"], ["updated_at", "2020-02-08 18:07:48.335604"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8bde4a6a-7d53-4a7e-b670-3cea837af974) to Async(default) with arguments: #<GlobalID:0x00007fc90e667220 @uri=#<URI::GID gid://chat-app/ChatMessage/26>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8bde4a6a-7d53-4a7e-b670-3cea837af974] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8bde4a6a-7d53-4a7e-b670-3cea837af974) from Async(default) enqueued at 2020-02-08T18:07:48Z with arguments: #<GlobalID:0x00007fc90f166860 @uri=#<URI::GID gid://chat-app/ChatMessage/26>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8bde4a6a-7d53-4a7e-b670-3cea837af974] [ActionCable] Broadcasting to chat_channel: {:id=>26, :created_at=>"18:07", :content=>"hey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8bde4a6a-7d53-4a7e-b670-3cea837af974] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8bde4a6a-7d53-4a7e-b670-3cea837af974) from Async(default) in 1.33ms
ChatChannel transmitting {"id"=>26, "created_at"=>"18:07", "content"=>"hey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 13:07:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:07:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"this"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "this"], ["created_at", "2020-02-08 18:07:53.296854"], ["updated_at", "2020-02-08 18:07:53.296854"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3060f5af-a57c-4812-92fe-1b2e1e07f7dc) to Async(default) with arguments: #<GlobalID:0x00007fc90e5ced40 @uri=#<URI::GID gid://chat-app/ChatMessage/27>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3060f5af-a57c-4812-92fe-1b2e1e07f7dc] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3060f5af-a57c-4812-92fe-1b2e1e07f7dc) from Async(default) enqueued at 2020-02-08T18:07:53Z with arguments: #<GlobalID:0x00007fc90eacd120 @uri=#<URI::GID gid://chat-app/ChatMessage/27>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3060f5af-a57c-4812-92fe-1b2e1e07f7dc] [ActionCable] Broadcasting to chat_channel: {:id=>27, :created_at=>"18:07", :content=>"this"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3060f5af-a57c-4812-92fe-1b2e1e07f7dc] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3060f5af-a57c-4812-92fe-1b2e1e07f7dc) from Async(default) in 0.39ms
ChatChannel transmitting {"id"=>27, "created_at"=>"18:07", "content"=>"this"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>27, "created_at"=>"18:07", "content"=>"this"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 13:09:30 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:09:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:09:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:09:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"started?"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "started?"], ["created_at", "2020-02-08 18:09:37.662368"], ["updated_at", "2020-02-08 18:09:37.662368"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9ae3ad19-57bc-4cb7-9632-c2810d671250) to Async(default) with arguments: #<GlobalID:0x00007fdffea7c458 @uri=#<URI::GID gid://chat-app/ChatMessage/28>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9ae3ad19-57bc-4cb7-9632-c2810d671250] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9ae3ad19-57bc-4cb7-9632-c2810d671250) from Async(default) enqueued at 2020-02-08T18:09:37Z with arguments: #<GlobalID:0x00007fdffeaa7a40 @uri=#<URI::GID gid://chat-app/ChatMessage/28>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9ae3ad19-57bc-4cb7-9632-c2810d671250] [ActionCable] Broadcasting to chat_channel: {:id=>28, :created_at=>"18:09", :content=>"started?"}
ChatChannel transmitting {"id"=>28, "created_at"=>"18:09", "content"=>"started?"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9ae3ad19-57bc-4cb7-9632-c2810d671250] Performed ChatMessageCreationEventBroadcastJob (Job ID: 9ae3ad19-57bc-4cb7-9632-c2810d671250) from Async(default) in 2.61ms
ChatChannel transmitting {"id"=>28, "created_at"=>"18:09", "content"=>"started?"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 13:12:11 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:12:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:12:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:12:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"j"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "j"], ["created_at", "2020-02-08 18:13:17.269712"], ["updated_at", "2020-02-08 18:13:17.269712"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cf147bde-c40b-4fbb-b7c5-aa2386cc06b6) to Async(default) with arguments: #<GlobalID:0x00007fdabad6ac58 @uri=#<URI::GID gid://chat-app/ChatMessage/29>>
  [1m[36mChatMessage Load (0.4ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf147bde-c40b-4fbb-b7c5-aa2386cc06b6] Performing ChatMessageCreationEventBroadcastJob (Job ID: cf147bde-c40b-4fbb-b7c5-aa2386cc06b6) from Async(default) enqueued at 2020-02-08T18:13:17Z with arguments: #<GlobalID:0x00007fdabadefc28 @uri=#<URI::GID gid://chat-app/ChatMessage/29>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf147bde-c40b-4fbb-b7c5-aa2386cc06b6] [ActionCable] Broadcasting to chat_channel: {:id=>29, :created_at=>"18:13", :content=>"j"}
ChatChannel transmitting {"id"=>29, "created_at"=>"18:13", "content"=>"j"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf147bde-c40b-4fbb-b7c5-aa2386cc06b6] Performed ChatMessageCreationEventBroadcastJob (Job ID: cf147bde-c40b-4fbb-b7c5-aa2386cc06b6) from Async(default) in 1.55ms
ChatChannel transmitting {"id"=>29, "created_at"=>"18:13", "content"=>"j"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hmm"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hmm"], ["created_at", "2020-02-08 18:13:22.558321"], ["updated_at", "2020-02-08 18:13:22.558321"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6ce5ce23-ac78-4318-81e6-a1e5c35bbe19) to Async(default) with arguments: #<GlobalID:0x00007fdabb942c38 @uri=#<URI::GID gid://chat-app/ChatMessage/30>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ce5ce23-ac78-4318-81e6-a1e5c35bbe19] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6ce5ce23-ac78-4318-81e6-a1e5c35bbe19) from Async(default) enqueued at 2020-02-08T18:13:22Z with arguments: #<GlobalID:0x00007fdabc8b8be0 @uri=#<URI::GID gid://chat-app/ChatMessage/30>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ce5ce23-ac78-4318-81e6-a1e5c35bbe19] [ActionCable] Broadcasting to chat_channel: {:id=>30, :created_at=>"18:13", :content=>"hmm"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ce5ce23-ac78-4318-81e6-a1e5c35bbe19] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6ce5ce23-ac78-4318-81e6-a1e5c35bbe19) from Async(default) in 0.32ms
ChatChannel transmitting {"id"=>30, "created_at"=>"18:13", "content"=>"hmm"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>30, "created_at"=>"18:13", "content"=>"hmm"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"k"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "k"], ["created_at", "2020-02-08 18:13:44.848766"], ["updated_at", "2020-02-08 18:13:44.848766"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f3c6c1e2-e786-4a83-b999-2b6958168326) to Async(default) with arguments: #<GlobalID:0x00007fdabbacc298 @uri=#<URI::GID gid://chat-app/ChatMessage/31>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3c6c1e2-e786-4a83-b999-2b6958168326] Performing ChatMessageCreationEventBroadcastJob (Job ID: f3c6c1e2-e786-4a83-b999-2b6958168326) from Async(default) enqueued at 2020-02-08T18:13:44Z with arguments: #<GlobalID:0x00007fdabb3e7e50 @uri=#<URI::GID gid://chat-app/ChatMessage/31>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3c6c1e2-e786-4a83-b999-2b6958168326] [ActionCable] Broadcasting to chat_channel: {:id=>31, :created_at=>"18:13", :content=>"k"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3c6c1e2-e786-4a83-b999-2b6958168326] Performed ChatMessageCreationEventBroadcastJob (Job ID: f3c6c1e2-e786-4a83-b999-2b6958168326) from Async(default) in 0.28ms
ChatChannel transmitting {"id"=>31, "created_at"=>"18:13", "content"=>"k"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>31, "created_at"=>"18:13", "content"=>"k"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 13:13:50 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:13:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:13:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-08 18:13:54.203821"], ["updated_at", "2020-02-08 18:13:54.203821"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c8c49693-950e-4bcb-b2ad-307095d9956f) to Async(default) with arguments: #<GlobalID:0x00007fdabaf6f238 @uri=#<URI::GID gid://chat-app/ChatMessage/32>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c8c49693-950e-4bcb-b2ad-307095d9956f] Performing ChatMessageCreationEventBroadcastJob (Job ID: c8c49693-950e-4bcb-b2ad-307095d9956f) from Async(default) enqueued at 2020-02-08T18:13:54Z with arguments: #<GlobalID:0x00007fdabca1ab50 @uri=#<URI::GID gid://chat-app/ChatMessage/32>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c8c49693-950e-4bcb-b2ad-307095d9956f] [ActionCable] Broadcasting to chat_channel: {:id=>32, :created_at=>"18:13", :content=>"test"}
ChatChannel transmitting {"id"=>32, "created_at"=>"18:13", "content"=>"test"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>32, "created_at"=>"18:13", "content"=>"test"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c8c49693-950e-4bcb-b2ad-307095d9956f] Performed ChatMessageCreationEventBroadcastJob (Job ID: c8c49693-950e-4bcb-b2ad-307095d9956f) from Async(default) in 0.28ms
Started GET "/cable" for ::1 at 2020-02-08 13:14:17 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:14:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:14:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:14:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:21:17 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:21:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test"})
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-08 18:21:21.569585"], ["updated_at", "2020-02-08 18:21:21.569585"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 22417b05-90ef-4144-935f-0f2af2d72901) to Async(default) with arguments: #<GlobalID:0x00007feff5a45c30 @uri=#<URI::GID gid://chat-app/ChatMessage/33>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [22417b05-90ef-4144-935f-0f2af2d72901] Performing ChatMessageCreationEventBroadcastJob (Job ID: 22417b05-90ef-4144-935f-0f2af2d72901) from Async(default) enqueued at 2020-02-08T18:21:21Z with arguments: #<GlobalID:0x00007feff6b21248 @uri=#<URI::GID gid://chat-app/ChatMessage/33>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [22417b05-90ef-4144-935f-0f2af2d72901] [ActionCable] Broadcasting to chat_channel: {:id=>33, :created_at=>"18:21", :content=>"test"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [22417b05-90ef-4144-935f-0f2af2d72901] Performed ChatMessageCreationEventBroadcastJob (Job ID: 22417b05-90ef-4144-935f-0f2af2d72901) from Async(default) in 2.01ms
ChatChannel transmitting {"id"=>33, "created_at"=>"18:21", "content"=>"test"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-08 18:21:24.439615"], ["updated_at", "2020-02-08 18:21:24.439615"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 81afcc75-f476-43b6-ae26-14073e6d2593) to Async(default) with arguments: #<GlobalID:0x00007feff642eaa8 @uri=#<URI::GID gid://chat-app/ChatMessage/34>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81afcc75-f476-43b6-ae26-14073e6d2593] Performing ChatMessageCreationEventBroadcastJob (Job ID: 81afcc75-f476-43b6-ae26-14073e6d2593) from Async(default) enqueued at 2020-02-08T18:21:24Z with arguments: #<GlobalID:0x00007feff73af680 @uri=#<URI::GID gid://chat-app/ChatMessage/34>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81afcc75-f476-43b6-ae26-14073e6d2593] [ActionCable] Broadcasting to chat_channel: {:id=>34, :created_at=>"18:21", :content=>"ok"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81afcc75-f476-43b6-ae26-14073e6d2593] Performed ChatMessageCreationEventBroadcastJob (Job ID: 81afcc75-f476-43b6-ae26-14073e6d2593) from Async(default) in 0.34ms
ChatChannel transmitting {"id"=>34, "created_at"=>"18:21", "content"=>"ok"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 13:21:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:21:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 13:21:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:21:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:21:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"asd"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "asd"], ["created_at", "2020-02-08 18:21:44.157823"], ["updated_at", "2020-02-08 18:21:44.157823"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b2ccd1ab-5dfa-465e-8c13-ff067ed0a64b) to Async(default) with arguments: #<GlobalID:0x00007feff72e10a0 @uri=#<URI::GID gid://chat-app/ChatMessage/35>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2ccd1ab-5dfa-465e-8c13-ff067ed0a64b] Performing ChatMessageCreationEventBroadcastJob (Job ID: b2ccd1ab-5dfa-465e-8c13-ff067ed0a64b) from Async(default) enqueued at 2020-02-08T18:21:44Z with arguments: #<GlobalID:0x00007feff6361c10 @uri=#<URI::GID gid://chat-app/ChatMessage/35>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2ccd1ab-5dfa-465e-8c13-ff067ed0a64b] [ActionCable] Broadcasting to chat_channel: {:id=>35, :created_at=>"18:21", :content=>"asd"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2ccd1ab-5dfa-465e-8c13-ff067ed0a64b] Performed ChatMessageCreationEventBroadcastJob (Job ID: b2ccd1ab-5dfa-465e-8c13-ff067ed0a64b) from Async(default) in 0.3ms
ChatChannel transmitting {"id"=>35, "created_at"=>"18:21", "content"=>"asd"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>35, "created_at"=>"18:21", "content"=>"asd"} (via streamed from chat_channel)
Started POST "/signup" for ::1 at 2020-02-08 13:22:22 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"nolan", "email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"nolan", "email"=>"nolan@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "nolan"], ["email", "nolan@gmail.com"], ["password_digest", "$2a$12$uYOUPaz8N/gfJ.4xisIXg.cbMrOBPF9x2gG1qQGMkSS1iYo5UV8SW"], ["created_at", "2020-02-08 18:22:23.253737"], ["updated_at", "2020-02-08 18:22:23.253737"]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 832ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 13781)


Started GET "/cable" for ::1 at 2020-02-08 13:22:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:22:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:22:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:22:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hello?"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hello?"], ["created_at", "2020-02-08 18:22:44.395268"], ["updated_at", "2020-02-08 18:22:44.395268"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7e7087d2-fa73-45df-a43a-c60631a5cb39) to Async(default) with arguments: #<GlobalID:0x00007feff980d428 @uri=#<URI::GID gid://chat-app/ChatMessage/36>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7e7087d2-fa73-45df-a43a-c60631a5cb39] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7e7087d2-fa73-45df-a43a-c60631a5cb39) from Async(default) enqueued at 2020-02-08T18:22:44Z with arguments: #<GlobalID:0x00007feff64e1810 @uri=#<URI::GID gid://chat-app/ChatMessage/36>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7e7087d2-fa73-45df-a43a-c60631a5cb39] [ActionCable] Broadcasting to chat_channel: {:id=>36, :created_at=>"18:22", :content=>"hello?"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7e7087d2-fa73-45df-a43a-c60631a5cb39] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7e7087d2-fa73-45df-a43a-c60631a5cb39) from Async(default) in 0.28ms
ChatChannel transmitting {"id"=>36, "created_at"=>"18:22", "content"=>"hello?"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>36, "created_at"=>"18:22", "content"=>"hello?"} (via streamed from chat_channel)
Started POST "/signup" for ::1 at 2020-02-08 13:23:16 -0500
Processing by UsersController#create as */*
  Parameters: {"name"=>"nolan", "email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"nolan", "email"=>"nolan@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "nolan"], ["email", "nolan@gmail.com"], ["password_digest", "$2a$12$c8tDwUo5lBgBCEu.P2yo0uRMyE7d14LRtZlL1eLfCJsMEhLPCBCoS"], ["created_at", "2020-02-08 18:23:16.860842"], ["updated_at", "2020-02-08 18:23:16.860842"]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 815ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 4219)


Started POST "/auth/login" for ::1 at 2020-02-08 13:35:01 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 200 OK in 542ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1403)


Started POST "/auth/login" for ::1 at 2020-02-08 13:35:05 -0500
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 280ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 804)


Started POST "/auth/login" for ::1 at 2020-02-08 13:35:08 -0500
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 200 OK in 544ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1341)


Started POST "/auth/login" for ::1 at 2020-02-08 13:35:12 -0500
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nnolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nnolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nnolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 758)


Started POST "/auth/login" for ::1 at 2020-02-08 13:35:16 -0500
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 200 OK in 547ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1357)


Started GET "/cable" for ::1 at 2020-02-08 13:37:21 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:37:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:37:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:37:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"once again"})
Started GET "/cable" for ::1 at 2020-02-08 13:38:45 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:38:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:38:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:38:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"once again"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "once again"], ["created_at", "2020-02-08 18:38:50.411798"], ["updated_at", "2020-02-08 18:38:50.411798"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cd754910-69ba-4ceb-b2ba-7e221ef3fd82) to Async(default) with arguments: #<GlobalID:0x00007fc6c7239c00 @uri=#<URI::GID gid://chat-app/ChatMessage/37>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cd754910-69ba-4ceb-b2ba-7e221ef3fd82] Performing ChatMessageCreationEventBroadcastJob (Job ID: cd754910-69ba-4ceb-b2ba-7e221ef3fd82) from Async(default) enqueued at 2020-02-08T18:38:50Z with arguments: #<GlobalID:0x00007fc6c5cba7f8 @uri=#<URI::GID gid://chat-app/ChatMessage/37>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cd754910-69ba-4ceb-b2ba-7e221ef3fd82] [ActionCable] Broadcasting to chat_channel: {:id=>37, :created_at=>"18:38", :content=>"once again"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cd754910-69ba-4ceb-b2ba-7e221ef3fd82] Performed ChatMessageCreationEventBroadcastJob (Job ID: cd754910-69ba-4ceb-b2ba-7e221ef3fd82) from Async(default) in 2.56ms
ChatChannel transmitting {"id"=>37, "created_at"=>"18:38", "content"=>"once again"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>37, "created_at"=>"18:38", "content"=>"once again"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 13:47:11 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:47:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:47:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:47:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"once"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "once"], ["created_at", "2020-02-08 18:47:18.729446"], ["updated_at", "2020-02-08 18:47:18.729446"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3dc91a23-e71f-4df8-abae-3484cdba9443) to Async(default) with arguments: #<GlobalID:0x00007fbe1929a868 @uri=#<URI::GID gid://chat-app/ChatMessage/38>>
  [1m[36mChatMessage Load (0.4ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3dc91a23-e71f-4df8-abae-3484cdba9443] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3dc91a23-e71f-4df8-abae-3484cdba9443) from Async(default) enqueued at 2020-02-08T18:47:18Z with arguments: #<GlobalID:0x00007fbe1a3b0800 @uri=#<URI::GID gid://chat-app/ChatMessage/38>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3dc91a23-e71f-4df8-abae-3484cdba9443] [ActionCable] Broadcasting to chat_channel: {:id=>38, :created_at=>"18:47", :content=>"once"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3dc91a23-e71f-4df8-abae-3484cdba9443] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3dc91a23-e71f-4df8-abae-3484cdba9443) from Async(default) in 1.75ms
ChatChannel transmitting {"id"=>38, "created_at"=>"18:47", "content"=>"once"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>38, "created_at"=>"18:47", "content"=>"once"} (via streamed from chat_channel)
Started POST "/signup" for ::1 at 2020-02-08 13:47:29 -0500
Processing by UsersController#create as */*
  Parameters: {"name"=>"nolan", "email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"nolan", "email"=>"nolan@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "nolan"], ["email", "nolan@gmail.com"], ["password_digest", "$2a$12$UhzQ3AuWM1H11kyPuKG5KuvWJ6behWqFfW.edUa43SwVwGfH5Q9ym"], ["created_at", "2020-02-08 18:47:29.432697"], ["updated_at", "2020-02-08 18:47:29.432697"]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :user[0m
Completed 201 Created in 847ms (Views: 0.3ms | ActiveRecord: 4.9ms | Allocations: 8705)


Started GET "/cable" for ::1 at 2020-02-08 13:51:06 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:51:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 13:51:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 13:51:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"ok"})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-08 18:52:06.699164"], ["updated_at", "2020-02-08 18:52:06.699164"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a8ced55e-bb42-4a36-87be-4409fad8a5a9) to Async(default) with arguments: #<GlobalID:0x00007f937925b200 @uri=#<URI::GID gid://chat-app/ChatMessage/39>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a8ced55e-bb42-4a36-87be-4409fad8a5a9] Performing ChatMessageCreationEventBroadcastJob (Job ID: a8ced55e-bb42-4a36-87be-4409fad8a5a9) from Async(default) enqueued at 2020-02-08T18:52:06Z with arguments: #<GlobalID:0x00007f937bad10b8 @uri=#<URI::GID gid://chat-app/ChatMessage/39>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a8ced55e-bb42-4a36-87be-4409fad8a5a9] [ActionCable] Broadcasting to chat_channel: {:id=>39, :created_at=>"18:52", :content=>"ok"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a8ced55e-bb42-4a36-87be-4409fad8a5a9] Performed ChatMessageCreationEventBroadcastJob (Job ID: a8ced55e-bb42-4a36-87be-4409fad8a5a9) from Async(default) in 1.58ms
ChatChannel transmitting {"id"=>39, "created_at"=>"18:52", "content"=>"ok"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>39, "created_at"=>"18:52", "content"=>"ok"} (via streamed from chat_channel)
Started POST "/signup" for ::1 at 2020-02-08 13:53:59 -0500
Processing by UsersController#create as */*
  Parameters: {"name"=>"nolan", "email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"nolan", "email"=>"nolan@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
Completed 422 Unprocessable Entity in 285ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7095)


ChatChannel#create({"content"=>"ok"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-08 18:54:20.404787"], ["updated_at", "2020-02-08 18:54:20.404787"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2e3baea0-423c-4ef9-8bd9-72f967ca1ec4) to Async(default) with arguments: #<GlobalID:0x00007f937b8ce5b8 @uri=#<URI::GID gid://chat-app/ChatMessage/40>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e3baea0-423c-4ef9-8bd9-72f967ca1ec4] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2e3baea0-423c-4ef9-8bd9-72f967ca1ec4) from Async(default) enqueued at 2020-02-08T18:54:20Z with arguments: #<GlobalID:0x00007f937abdf320 @uri=#<URI::GID gid://chat-app/ChatMessage/40>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e3baea0-423c-4ef9-8bd9-72f967ca1ec4] [ActionCable] Broadcasting to chat_channel: {:id=>40, :created_at=>"18:54", :content=>"ok"}
ChatChannel transmitting {"id"=>40, "created_at"=>"18:54", "content"=>"ok"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>40, "created_at"=>"18:54", "content"=>"ok"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e3baea0-423c-4ef9-8bd9-72f967ca1ec4] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2e3baea0-423c-4ef9-8bd9-72f967ca1ec4) from Async(default) in 0.29ms
Started POST "/signup" for ::1 at 2020-02-08 13:55:53 -0500
Processing by UsersController#create as */*
  Parameters: {"name"=>"nolan", "email"=>"nolanz@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"nolan", "email"=>"nolanz@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolanz@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "nolan"], ["email", "nolanz@gmail.com"], ["password_digest", "$2a$12$2fpTkyprlPcbEl1UkkcgUOQvgHKiRWOdyAKuHkL1Q6bWRzf.Ar.HS"], ["created_at", "2020-02-08 18:55:54.167739"], ["updated_at", "2020-02-08 18:55:54.167739"]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolanz@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolanz@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 822ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 6674)


Started POST "/auth/login" for ::1 at 2020-02-08 13:56:00 -0500
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 545ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1475)


ChatChannel#create({"content"=>"obama"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "obama"], ["created_at", "2020-02-08 18:56:12.982045"], ["updated_at", "2020-02-08 18:56:12.982045"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8c6199f2-ba7f-486d-bda2-630de3a2af99) to Async(default) with arguments: #<GlobalID:0x00007f937aed8d60 @uri=#<URI::GID gid://chat-app/ChatMessage/41>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8c6199f2-ba7f-486d-bda2-630de3a2af99] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8c6199f2-ba7f-486d-bda2-630de3a2af99) from Async(default) enqueued at 2020-02-08T18:56:12Z with arguments: #<GlobalID:0x00007f937bbf2f50 @uri=#<URI::GID gid://chat-app/ChatMessage/41>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8c6199f2-ba7f-486d-bda2-630de3a2af99] [ActionCable] Broadcasting to chat_channel: {:id=>41, :created_at=>"18:56", :content=>"obama"}
ChatChannel transmitting {"id"=>41, "created_at"=>"18:56", "content"=>"obama"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8c6199f2-ba7f-486d-bda2-630de3a2af99] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8c6199f2-ba7f-486d-bda2-630de3a2af99) from Async(default) in 0.31ms
ChatChannel transmitting {"id"=>41, "created_at"=>"18:56", "content"=>"obama"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 14:20:30 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:20:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:20:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:20:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"working?"})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "working?"], ["created_at", "2020-02-08 19:20:35.392008"], ["updated_at", "2020-02-08 19:20:35.392008"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 783ea995-7921-49a6-a147-bdb49cb72eca) to Async(default) with arguments: #<GlobalID:0x00007fc036306260 @uri=#<URI::GID gid://chat-app/ChatMessage/42>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [783ea995-7921-49a6-a147-bdb49cb72eca] Performing ChatMessageCreationEventBroadcastJob (Job ID: 783ea995-7921-49a6-a147-bdb49cb72eca) from Async(default) enqueued at 2020-02-08T19:20:35Z with arguments: #<GlobalID:0x00007fc036a44a40 @uri=#<URI::GID gid://chat-app/ChatMessage/42>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [783ea995-7921-49a6-a147-bdb49cb72eca] [ActionCable] Broadcasting to chat_channel: {:id=>42, :created_at=>"19:20", :content=>"working?"}
ChatChannel transmitting {"id"=>42, "created_at"=>"19:20", "content"=>"working?"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [783ea995-7921-49a6-a147-bdb49cb72eca] Performed ChatMessageCreationEventBroadcastJob (Job ID: 783ea995-7921-49a6-a147-bdb49cb72eca) from Async(default) in 1.72ms
ChatChannel transmitting {"id"=>42, "created_at"=>"19:20", "content"=>"working?"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 14:45:31 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 14:45:31 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:45:31 -0500
Started GET "/cable" for ::1 at 2020-02-08 14:45:31 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:45:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:45:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:46:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:46:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-08 19:46:11.343599"], ["updated_at", "2020-02-08 19:46:11.343599"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d1ad2b60-0f17-4e52-aa07-57ed159d27ee) to Async(default) with arguments: #<GlobalID:0x00007fc036c81d58 @uri=#<URI::GID gid://chat-app/ChatMessage/43>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d1ad2b60-0f17-4e52-aa07-57ed159d27ee] Performing ChatMessageCreationEventBroadcastJob (Job ID: d1ad2b60-0f17-4e52-aa07-57ed159d27ee) from Async(default) enqueued at 2020-02-08T19:46:11Z with arguments: #<GlobalID:0x00007fc036c91230 @uri=#<URI::GID gid://chat-app/ChatMessage/43>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d1ad2b60-0f17-4e52-aa07-57ed159d27ee] Error performing ChatMessageCreationEventBroadcastJob (Job ID: d1ad2b60-0f17-4e52-aa07-57ed159d27ee) from Async(default) in 2.6ms: NoMethodError (undefined method `name' for #<ChatMessage:0x00007fc036c92c98>):
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activemodel-6.0.2.1/lib/active_model/attribute_methods.rb:431:in `method_missing'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/jobs/chat_message_creation_event_broadcast_job.rb:12:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/i18n-1.8.2/lib/i18n.rb:313:in `with_locale'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:38:in `perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:24:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:71:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:22:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-08 19:47:00.813498"], ["updated_at", "2020-02-08 19:47:00.813498"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: bb2f022d-06ed-41c0-9cde-8ddfe2a15645) to Async(default) with arguments: #<GlobalID:0x00007fc0382824b8 @uri=#<URI::GID gid://chat-app/ChatMessage/44>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb2f022d-06ed-41c0-9cde-8ddfe2a15645] Performing ChatMessageCreationEventBroadcastJob (Job ID: bb2f022d-06ed-41c0-9cde-8ddfe2a15645) from Async(default) enqueued at 2020-02-08T19:47:00Z with arguments: #<GlobalID:0x00007fc0382d2698 @uri=#<URI::GID gid://chat-app/ChatMessage/44>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb2f022d-06ed-41c0-9cde-8ddfe2a15645] Error performing ChatMessageCreationEventBroadcastJob (Job ID: bb2f022d-06ed-41c0-9cde-8ddfe2a15645) from Async(default) in 0.81ms: NoMethodError (undefined method `name' for :current_user:Symbol):
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/jobs/chat_message_creation_event_broadcast_job.rb:12:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/i18n-1.8.2/lib/i18n.rb:313:in `with_locale'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:38:in `perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:24:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:71:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:22:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-08 14:47:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:47:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:47:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:47:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-08 19:47:12.534016"], ["updated_at", "2020-02-08 19:47:12.534016"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 43947cc4-56b0-4da6-a473-227c0e962dd3) to Async(default) with arguments: #<GlobalID:0x00007fc03c893c68 @uri=#<URI::GID gid://chat-app/ChatMessage/45>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [43947cc4-56b0-4da6-a473-227c0e962dd3] Performing ChatMessageCreationEventBroadcastJob (Job ID: 43947cc4-56b0-4da6-a473-227c0e962dd3) from Async(default) enqueued at 2020-02-08T19:47:12Z with arguments: #<GlobalID:0x00007fc037c34750 @uri=#<URI::GID gid://chat-app/ChatMessage/45>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [43947cc4-56b0-4da6-a473-227c0e962dd3] [ActionCable] Broadcasting to chat_channel: {:id=>45, :created_at=>"19:47", :content=>"hi", :name=>:current_user}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [43947cc4-56b0-4da6-a473-227c0e962dd3] Performed ChatMessageCreationEventBroadcastJob (Job ID: 43947cc4-56b0-4da6-a473-227c0e962dd3) from Async(default) in 0.38ms
Started GET "/cable" for ::1 at 2020-02-08 14:47:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:47:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:47:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:47:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-08 19:48:38.361472"], ["updated_at", "2020-02-08 19:48:38.361472"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1ff02e6e-c277-4950-847e-9c4cbd5b32a1) to Async(default) with arguments: #<GlobalID:0x00007fc036c2b138 @uri=#<URI::GID gid://chat-app/ChatMessage/46>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ff02e6e-c277-4950-847e-9c4cbd5b32a1] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1ff02e6e-c277-4950-847e-9c4cbd5b32a1) from Async(default) enqueued at 2020-02-08T19:48:38Z with arguments: #<GlobalID:0x00007fc037fbfc80 @uri=#<URI::GID gid://chat-app/ChatMessage/46>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ff02e6e-c277-4950-847e-9c4cbd5b32a1] [ActionCable] Broadcasting to chat_channel: {:id=>46, :created_at=>"19:48", :content=>"hi", :name=>:current_user}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ff02e6e-c277-4950-847e-9c4cbd5b32a1] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1ff02e6e-c277-4950-847e-9c4cbd5b32a1) from Async(default) in 0.4ms
Started GET "/cable" for ::1 at 2020-02-08 14:48:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:48:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:48:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:48:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-08 19:49:26.434851"], ["updated_at", "2020-02-08 19:49:26.434851"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 14093b95-3a6c-4dcd-9fad-358468a81d9d) to Async(default) with arguments: #<GlobalID:0x00007fc0382d2468 @uri=#<URI::GID gid://chat-app/ChatMessage/47>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [14093b95-3a6c-4dcd-9fad-358468a81d9d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 14093b95-3a6c-4dcd-9fad-358468a81d9d) from Async(default) enqueued at 2020-02-08T19:49:26Z with arguments: #<GlobalID:0x00007fc03c8b01b0 @uri=#<URI::GID gid://chat-app/ChatMessage/47>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [14093b95-3a6c-4dcd-9fad-358468a81d9d] [ActionCable] Broadcasting to chat_channel: {:id=>47, :created_at=>"19:49", :content=>"hi", :name=>:current_user}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [14093b95-3a6c-4dcd-9fad-358468a81d9d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 14093b95-3a6c-4dcd-9fad-358468a81d9d) from Async(default) in 0.42ms
Started GET "/cable" for ::1 at 2020-02-08 14:49:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:49:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 14:49:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:49:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"sick", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "sick"], ["created_at", "2020-02-08 19:50:22.865154"], ["updated_at", "2020-02-08 19:50:22.865154"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b23744a2-0a35-4915-9c5d-ab70484c0d62) to Async(default) with arguments: #<GlobalID:0x00007fc036a6ef48 @uri=#<URI::GID gid://chat-app/ChatMessage/48>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b23744a2-0a35-4915-9c5d-ab70484c0d62] Performing ChatMessageCreationEventBroadcastJob (Job ID: b23744a2-0a35-4915-9c5d-ab70484c0d62) from Async(default) enqueued at 2020-02-08T19:50:22Z with arguments: #<GlobalID:0x00007fc036ac0618 @uri=#<URI::GID gid://chat-app/ChatMessage/48>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b23744a2-0a35-4915-9c5d-ab70484c0d62] [ActionCable] Broadcasting to chat_channel: {:id=>48, :created_at=>"19:50", :content=>"sick", :name=>:current_user}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b23744a2-0a35-4915-9c5d-ab70484c0d62] Performed ChatMessageCreationEventBroadcastJob (Job ID: b23744a2-0a35-4915-9c5d-ab70484c0d62) from Async(default) in 0.32ms
ChatChannel transmitting {"id"=>48, "created_at"=>"19:50", "content"=>"sick", "name"=>"current_user"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>48, "created_at"=>"19:50", "content"=>"sick", "name"=>"current_user"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"wow", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "wow"], ["created_at", "2020-02-08 19:52:01.306763"], ["updated_at", "2020-02-08 19:52:01.306763"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 15a7d263-ff01-486a-a035-2f928a5b0345) to Async(default) with arguments: #<GlobalID:0x00007fc036c70e40 @uri=#<URI::GID gid://chat-app/ChatMessage/49>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [15a7d263-ff01-486a-a035-2f928a5b0345] Performing ChatMessageCreationEventBroadcastJob (Job ID: 15a7d263-ff01-486a-a035-2f928a5b0345) from Async(default) enqueued at 2020-02-08T19:52:01Z with arguments: #<GlobalID:0x00007fc038240428 @uri=#<URI::GID gid://chat-app/ChatMessage/49>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [15a7d263-ff01-486a-a035-2f928a5b0345] [ActionCable] Broadcasting to chat_channel: {:id=>49, :created_at=>"19:52", :content=>"wow", :name=>:current_user}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [15a7d263-ff01-486a-a035-2f928a5b0345] Performed ChatMessageCreationEventBroadcastJob (Job ID: 15a7d263-ff01-486a-a035-2f928a5b0345) from Async(default) in 0.3ms
ChatChannel transmitting {"id"=>49, "created_at"=>"19:52", "content"=>"wow", "name"=>"current_user"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>49, "created_at"=>"19:52", "content"=>"wow", "name"=>"current_user"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"big rake", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "big rake"], ["created_at", "2020-02-08 19:52:04.337580"], ["updated_at", "2020-02-08 19:52:04.337580"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cd5ec505-38f6-4eb1-aa6c-d93ce2ec6636) to Async(default) with arguments: #<GlobalID:0x00007fc036457380 @uri=#<URI::GID gid://chat-app/ChatMessage/50>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cd5ec505-38f6-4eb1-aa6c-d93ce2ec6636] Performing ChatMessageCreationEventBroadcastJob (Job ID: cd5ec505-38f6-4eb1-aa6c-d93ce2ec6636) from Async(default) enqueued at 2020-02-08T19:52:04Z with arguments: #<GlobalID:0x00007fc036caaaf0 @uri=#<URI::GID gid://chat-app/ChatMessage/50>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cd5ec505-38f6-4eb1-aa6c-d93ce2ec6636] [ActionCable] Broadcasting to chat_channel: {:id=>50, :created_at=>"19:52", :content=>"big rake", :name=>:current_user}
ChatChannel transmitting {"id"=>50, "created_at"=>"19:52", "content"=>"big rake", "name"=>"current_user"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cd5ec505-38f6-4eb1-aa6c-d93ce2ec6636] Performed ChatMessageCreationEventBroadcastJob (Job ID: cd5ec505-38f6-4eb1-aa6c-d93ce2ec6636) from Async(default) in 0.3ms
ChatChannel transmitting {"id"=>50, "created_at"=>"19:52", "content"=>"big rake", "name"=>"current_user"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yoyoma", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yoyoma"], ["created_at", "2020-02-08 19:59:52.532606"], ["updated_at", "2020-02-08 19:59:52.532606"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 977c35d5-cf56-42a1-9d74-2f71e89130ab) to Async(default) with arguments: #<GlobalID:0x00007fc03b806ff8 @uri=#<URI::GID gid://chat-app/ChatMessage/51>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [977c35d5-cf56-42a1-9d74-2f71e89130ab] Performing ChatMessageCreationEventBroadcastJob (Job ID: 977c35d5-cf56-42a1-9d74-2f71e89130ab) from Async(default) enqueued at 2020-02-08T19:59:52Z with arguments: #<GlobalID:0x00007fc03829a4a0 @uri=#<URI::GID gid://chat-app/ChatMessage/51>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [977c35d5-cf56-42a1-9d74-2f71e89130ab]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [977c35d5-cf56-42a1-9d74-2f71e89130ab]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [977c35d5-cf56-42a1-9d74-2f71e89130ab] [ActionCable] Broadcasting to chat_channel: {:id=>51, :created_at=>"19:59", :content=>"yoyoma", :name=>#<User id: 1, name: "nolan", email: "nolan@gmail.com", password_digest: [FILTERED], created_at: "2020-02-08 18:22:23", updated_at: "2020-02-08 18:22:23">}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [977c35d5-cf56-42a1-9d74-2f71e89130ab] Performed ChatMessageCreationEventBroadcastJob (Job ID: 977c35d5-cf56-42a1-9d74-2f71e89130ab) from Async(default) in 10.35ms
Started GET "/cable" for ::1 at 2020-02-08 14:59:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 14:59:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 15:00:01 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 15:00:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"okay big", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "okay big"], ["created_at", "2020-02-08 20:00:57.047867"], ["updated_at", "2020-02-08 20:00:57.047867"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d453bc1d-b847-49ec-9292-2b7f0ea15ea5) to Async(default) with arguments: #<GlobalID:0x00007fc03c902ff0 @uri=#<URI::GID gid://chat-app/ChatMessage/52>>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d453bc1d-b847-49ec-9292-2b7f0ea15ea5] Performing ChatMessageCreationEventBroadcastJob (Job ID: d453bc1d-b847-49ec-9292-2b7f0ea15ea5) from Async(default) enqueued at 2020-02-08T20:00:57Z with arguments: #<GlobalID:0x00007fc037dd5348 @uri=#<URI::GID gid://chat-app/ChatMessage/52>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d453bc1d-b847-49ec-9292-2b7f0ea15ea5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d453bc1d-b847-49ec-9292-2b7f0ea15ea5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d453bc1d-b847-49ec-9292-2b7f0ea15ea5] [ActionCable] Broadcasting to chat_channel: {:id=>52, :created_at=>"20:00", :content=>"okay big", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d453bc1d-b847-49ec-9292-2b7f0ea15ea5] Performed ChatMessageCreationEventBroadcastJob (Job ID: d453bc1d-b847-49ec-9292-2b7f0ea15ea5) from Async(default) in 8.73ms
Started GET "/cable" for ::1 at 2020-02-08 15:01:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 15:01:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 15:01:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 15:01:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"ok big", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok big"], ["created_at", "2020-02-08 20:01:09.548506"], ["updated_at", "2020-02-08 20:01:09.548506"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dd03ac2b-3d04-4adf-8591-b2ccaab4755d) to Async(default) with arguments: #<GlobalID:0x00007fc036c80c28 @uri=#<URI::GID gid://chat-app/ChatMessage/53>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dd03ac2b-3d04-4adf-8591-b2ccaab4755d] Performing ChatMessageCreationEventBroadcastJob (Job ID: dd03ac2b-3d04-4adf-8591-b2ccaab4755d) from Async(default) enqueued at 2020-02-08T20:01:09Z with arguments: #<GlobalID:0x00007fc036c902b8 @uri=#<URI::GID gid://chat-app/ChatMessage/53>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dd03ac2b-3d04-4adf-8591-b2ccaab4755d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dd03ac2b-3d04-4adf-8591-b2ccaab4755d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dd03ac2b-3d04-4adf-8591-b2ccaab4755d] [ActionCable] Broadcasting to chat_channel: {:id=>53, :created_at=>"20:01", :content=>"ok big", :name=>"nolan"}
ChatChannel transmitting {"id"=>53, "created_at"=>"20:01", "content"=>"ok big", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dd03ac2b-3d04-4adf-8591-b2ccaab4755d] Performed ChatMessageCreationEventBroadcastJob (Job ID: dd03ac2b-3d04-4adf-8591-b2ccaab4755d) from Async(default) in 0.98ms
ChatChannel transmitting {"id"=>53, "created_at"=>"20:01", "content"=>"ok big", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"big ", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "big "], ["created_at", "2020-02-08 20:01:12.635913"], ["updated_at", "2020-02-08 20:01:12.635913"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7a6df6df-1283-4560-9860-e7416666bd53) to Async(default) with arguments: #<GlobalID:0x00007fc036cc8758 @uri=#<URI::GID gid://chat-app/ChatMessage/54>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7a6df6df-1283-4560-9860-e7416666bd53] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7a6df6df-1283-4560-9860-e7416666bd53) from Async(default) enqueued at 2020-02-08T20:01:12Z with arguments: #<GlobalID:0x00007fc036cd9fa8 @uri=#<URI::GID gid://chat-app/ChatMessage/54>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7a6df6df-1283-4560-9860-e7416666bd53]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7a6df6df-1283-4560-9860-e7416666bd53]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7a6df6df-1283-4560-9860-e7416666bd53] [ActionCable] Broadcasting to chat_channel: {:id=>54, :created_at=>"20:01", :content=>"big ", :name=>"nolan"}
ChatChannel transmitting {"id"=>54, "created_at"=>"20:01", "content"=>"big ", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7a6df6df-1283-4560-9860-e7416666bd53] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7a6df6df-1283-4560-9860-e7416666bd53) from Async(default) in 1.23ms
ChatChannel transmitting {"id"=>54, "created_at"=>"20:01", "content"=>"big ", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"flavour", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "flavour"], ["created_at", "2020-02-08 20:02:48.195028"], ["updated_at", "2020-02-08 20:02:48.195028"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dddafd15-453f-4609-bac3-fa420bf8bf2b) to Async(default) with arguments: #<GlobalID:0x00007fc03c873968 @uri=#<URI::GID gid://chat-app/ChatMessage/55>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dddafd15-453f-4609-bac3-fa420bf8bf2b] Performing ChatMessageCreationEventBroadcastJob (Job ID: dddafd15-453f-4609-bac3-fa420bf8bf2b) from Async(default) enqueued at 2020-02-08T20:02:48Z with arguments: #<GlobalID:0x00007fc038310358 @uri=#<URI::GID gid://chat-app/ChatMessage/55>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dddafd15-453f-4609-bac3-fa420bf8bf2b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dddafd15-453f-4609-bac3-fa420bf8bf2b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dddafd15-453f-4609-bac3-fa420bf8bf2b] [ActionCable] Broadcasting to chat_channel: {:id=>55, :created_at=>"20:02", :content=>"flavour", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dddafd15-453f-4609-bac3-fa420bf8bf2b] Performed ChatMessageCreationEventBroadcastJob (Job ID: dddafd15-453f-4609-bac3-fa420bf8bf2b) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>55, "created_at"=>"20:02", "content"=>"flavour", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>55, "created_at"=>"20:02", "content"=>"flavour", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:13:55 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:13:55 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:13:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:14:03 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:14:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:14:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:20:12 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:20:12 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:20:12 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:20:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:20:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:20:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:22:28 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:22:28 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:22:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:22:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:22:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:22:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Heya", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Heya"], ["created_at", "2020-02-08 21:22:38.629644"], ["updated_at", "2020-02-08 21:22:38.629644"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4513cc97-2323-4d4c-b56f-e7cc17c707a6) to Async(default) with arguments: #<GlobalID:0x00007fc03630df88 @uri=#<URI::GID gid://chat-app/ChatMessage/56>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4513cc97-2323-4d4c-b56f-e7cc17c707a6] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4513cc97-2323-4d4c-b56f-e7cc17c707a6) from Async(default) enqueued at 2020-02-08T21:22:38Z with arguments: #<GlobalID:0x00007fc0363a5428 @uri=#<URI::GID gid://chat-app/ChatMessage/56>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4513cc97-2323-4d4c-b56f-e7cc17c707a6]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4513cc97-2323-4d4c-b56f-e7cc17c707a6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4513cc97-2323-4d4c-b56f-e7cc17c707a6] [ActionCable] Broadcasting to chat_channel: {:id=>56, :created_at=>"21:22", :content=>"Heya", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4513cc97-2323-4d4c-b56f-e7cc17c707a6] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4513cc97-2323-4d4c-b56f-e7cc17c707a6) from Async(default) in 1.21ms
ChatChannel transmitting {"id"=>56, "created_at"=>"21:22", "content"=>"Heya", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>56, "created_at"=>"21:22", "content"=>"Heya", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Test?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Test?"], ["created_at", "2020-02-08 21:22:49.600684"], ["updated_at", "2020-02-08 21:22:49.600684"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 90da35ed-5638-49a1-b111-8a4f76ac0ee8) to Async(default) with arguments: #<GlobalID:0x00007fc037e463e0 @uri=#<URI::GID gid://chat-app/ChatMessage/57>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [90da35ed-5638-49a1-b111-8a4f76ac0ee8] Performing ChatMessageCreationEventBroadcastJob (Job ID: 90da35ed-5638-49a1-b111-8a4f76ac0ee8) from Async(default) enqueued at 2020-02-08T21:22:49Z with arguments: #<GlobalID:0x00007fc037e851a8 @uri=#<URI::GID gid://chat-app/ChatMessage/57>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [90da35ed-5638-49a1-b111-8a4f76ac0ee8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [90da35ed-5638-49a1-b111-8a4f76ac0ee8]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [90da35ed-5638-49a1-b111-8a4f76ac0ee8] [ActionCable] Broadcasting to chat_channel: {:id=>57, :created_at=>"21:22", :content=>"Test?", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [90da35ed-5638-49a1-b111-8a4f76ac0ee8] Performed ChatMessageCreationEventBroadcastJob (Job ID: 90da35ed-5638-49a1-b111-8a4f76ac0ee8) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>57, "created_at"=>"21:22", "content"=>"Test?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>57, "created_at"=>"21:22", "content"=>"Test?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"testy", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "testy"], ["created_at", "2020-02-08 21:23:37.614045"], ["updated_at", "2020-02-08 21:23:37.614045"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8a2549ab-96f1-4aa5-aa73-dac8b0b07866) to Async(default) with arguments: #<GlobalID:0x00007fc036436ea0 @uri=#<URI::GID gid://chat-app/ChatMessage/58>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a2549ab-96f1-4aa5-aa73-dac8b0b07866] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8a2549ab-96f1-4aa5-aa73-dac8b0b07866) from Async(default) enqueued at 2020-02-08T21:23:37Z with arguments: #<GlobalID:0x00007fc036c9a380 @uri=#<URI::GID gid://chat-app/ChatMessage/58>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a2549ab-96f1-4aa5-aa73-dac8b0b07866]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a2549ab-96f1-4aa5-aa73-dac8b0b07866]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a2549ab-96f1-4aa5-aa73-dac8b0b07866] [ActionCable] Broadcasting to chat_channel: {:id=>58, :created_at=>"21:23", :content=>"testy", :name=>"nolan"}
ChatChannel transmitting {"id"=>58, "created_at"=>"21:23", "content"=>"testy", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a2549ab-96f1-4aa5-aa73-dac8b0b07866] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8a2549ab-96f1-4aa5-aa73-dac8b0b07866) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>58, "created_at"=>"21:23", "content"=>"testy", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:08 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:08 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:24:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:24:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:58 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:59 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:24:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:24:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:24:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Success?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Success?"], ["created_at", "2020-02-08 21:25:10.013969"], ["updated_at", "2020-02-08 21:25:10.013969"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c16fe87b-73cf-4f98-bf15-4c7bff1f90d6) to Async(default) with arguments: #<GlobalID:0x00007fc036516a28 @uri=#<URI::GID gid://chat-app/ChatMessage/59>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c16fe87b-73cf-4f98-bf15-4c7bff1f90d6] Performing ChatMessageCreationEventBroadcastJob (Job ID: c16fe87b-73cf-4f98-bf15-4c7bff1f90d6) from Async(default) enqueued at 2020-02-08T21:25:10Z with arguments: #<GlobalID:0x00007fc036524fd8 @uri=#<URI::GID gid://chat-app/ChatMessage/59>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c16fe87b-73cf-4f98-bf15-4c7bff1f90d6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c16fe87b-73cf-4f98-bf15-4c7bff1f90d6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c16fe87b-73cf-4f98-bf15-4c7bff1f90d6] [ActionCable] Broadcasting to chat_channel: {:id=>59, :created_at=>"21:25", :content=>"Success?", :name=>"nolan"}
ChatChannel transmitting {"id"=>59, "created_at"=>"21:25", "content"=>"Success?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>59, "created_at"=>"21:25", "content"=>"Success?", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c16fe87b-73cf-4f98-bf15-4c7bff1f90d6] Performed ChatMessageCreationEventBroadcastJob (Job ID: c16fe87b-73cf-4f98-bf15-4c7bff1f90d6) from Async(default) in 0.95ms
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:06 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:06 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:26:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:26:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:20 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:20 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:26:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:26:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:26:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"okay?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "okay?"], ["created_at", "2020-02-08 21:26:25.075577"], ["updated_at", "2020-02-08 21:26:25.075577"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: ee27c5cb-a1a9-4ef5-88c1-f02010aa7134) to Async(default) with arguments: #<GlobalID:0x00007fc036bbd570 @uri=#<URI::GID gid://chat-app/ChatMessage/60>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ee27c5cb-a1a9-4ef5-88c1-f02010aa7134] Performing ChatMessageCreationEventBroadcastJob (Job ID: ee27c5cb-a1a9-4ef5-88c1-f02010aa7134) from Async(default) enqueued at 2020-02-08T21:26:25Z with arguments: #<GlobalID:0x00007fc037df5da0 @uri=#<URI::GID gid://chat-app/ChatMessage/60>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ee27c5cb-a1a9-4ef5-88c1-f02010aa7134]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ee27c5cb-a1a9-4ef5-88c1-f02010aa7134]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ee27c5cb-a1a9-4ef5-88c1-f02010aa7134] [ActionCable] Broadcasting to chat_channel: {:id=>60, :created_at=>"21:26", :content=>"okay?", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ee27c5cb-a1a9-4ef5-88c1-f02010aa7134] Performed ChatMessageCreationEventBroadcastJob (Job ID: ee27c5cb-a1a9-4ef5-88c1-f02010aa7134) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>60, "created_at"=>"21:26", "content"=>"okay?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>60, "created_at"=>"21:26", "content"=>"okay?", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:27:25 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:27:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:27:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:27:28 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:27:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:27:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"these shoes?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "these shoes?"], ["created_at", "2020-02-08 21:27:37.371059"], ["updated_at", "2020-02-08 21:27:37.371059"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1d49211b-09df-413b-b0c1-b848a40d714c) to Async(default) with arguments: #<GlobalID:0x00007fc036cb3150 @uri=#<URI::GID gid://chat-app/ChatMessage/61>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 61], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d49211b-09df-413b-b0c1-b848a40d714c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1d49211b-09df-413b-b0c1-b848a40d714c) from Async(default) enqueued at 2020-02-08T21:27:37Z with arguments: #<GlobalID:0x00007fc037fbdef8 @uri=#<URI::GID gid://chat-app/ChatMessage/61>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d49211b-09df-413b-b0c1-b848a40d714c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d49211b-09df-413b-b0c1-b848a40d714c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d49211b-09df-413b-b0c1-b848a40d714c] [ActionCable] Broadcasting to chat_channel: {:id=>61, :created_at=>"21:27", :content=>"these shoes?", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d49211b-09df-413b-b0c1-b848a40d714c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1d49211b-09df-413b-b0c1-b848a40d714c) from Async(default) in 1.09ms
ChatChannel transmitting {"id"=>61, "created_at"=>"21:27", "content"=>"these shoes?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>61, "created_at"=>"21:27", "content"=>"these shoes?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"okay..", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "okay.."], ["created_at", "2020-02-08 21:37:29.508127"], ["updated_at", "2020-02-08 21:37:29.508127"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dc05c1fc-72ae-4998-a4d9-edcfdd1becd1) to Async(default) with arguments: #<GlobalID:0x00007fc036b37f38 @uri=#<URI::GID gid://chat-app/ChatMessage/62>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc05c1fc-72ae-4998-a4d9-edcfdd1becd1] Performing ChatMessageCreationEventBroadcastJob (Job ID: dc05c1fc-72ae-4998-a4d9-edcfdd1becd1) from Async(default) enqueued at 2020-02-08T21:37:29Z with arguments: #<GlobalID:0x00007fc036b846d0 @uri=#<URI::GID gid://chat-app/ChatMessage/62>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc05c1fc-72ae-4998-a4d9-edcfdd1becd1]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc05c1fc-72ae-4998-a4d9-edcfdd1becd1]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc05c1fc-72ae-4998-a4d9-edcfdd1becd1] [ActionCable] Broadcasting to chat_channel: {:id=>62, :created_at=>"21:37", :content=>"okay..", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc05c1fc-72ae-4998-a4d9-edcfdd1becd1] Performed ChatMessageCreationEventBroadcastJob (Job ID: dc05c1fc-72ae-4998-a4d9-edcfdd1becd1) from Async(default) in 1.37ms
ChatChannel transmitting {"id"=>62, "created_at"=>"21:37", "content"=>"okay..", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>62, "created_at"=>"21:37", "content"=>"okay..", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:38:09 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 16:38:09 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:38:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:38:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 16:38:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 16:38:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Ahoy", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Ahoy"], ["created_at", "2020-02-08 21:41:08.921943"], ["updated_at", "2020-02-08 21:41:08.921943"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1dd9de77-fb09-4074-97c0-71b45fa97a5c) to Async(default) with arguments: #<GlobalID:0x00007fc03c8792c8 @uri=#<URI::GID gid://chat-app/ChatMessage/63>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dd9de77-fb09-4074-97c0-71b45fa97a5c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1dd9de77-fb09-4074-97c0-71b45fa97a5c) from Async(default) enqueued at 2020-02-08T21:41:08Z with arguments: #<GlobalID:0x00007fc03c880a28 @uri=#<URI::GID gid://chat-app/ChatMessage/63>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dd9de77-fb09-4074-97c0-71b45fa97a5c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dd9de77-fb09-4074-97c0-71b45fa97a5c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dd9de77-fb09-4074-97c0-71b45fa97a5c] [ActionCable] Broadcasting to chat_channel: {:id=>63, :created_at=>"21:41", :content=>"Ahoy", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dd9de77-fb09-4074-97c0-71b45fa97a5c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1dd9de77-fb09-4074-97c0-71b45fa97a5c) from Async(default) in 1.18ms
ChatChannel transmitting {"id"=>63, "created_at"=>"21:41", "content"=>"Ahoy", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>63, "created_at"=>"21:41", "content"=>"Ahoy", "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-08 17:17:07 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 574ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 6666)


Started GET "/cable" for ::1 at 2020-02-08 17:17:15 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 17:17:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 17:17:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 17:17:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 17:29:26 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 842ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 7020)


Started GET "/cable" for ::1 at 2020-02-08 17:29:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 17:29:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 17:29:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 17:29:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 17:40:55 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 17:40:56 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 17:40:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 17:40:58 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 17:40:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 17:40:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:43:16 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:43:17 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:43:17 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:43:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-08 18:43:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:43:17 -0500
ChatChannel is transmitting the subscription confirmation
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from chat_channel
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:46:35 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:46:35 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:47:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:47:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:47:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:47:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:49:20 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:49:20 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:49:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:49:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:49:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:49:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:49:36 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:49:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:49:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:51:22 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:51:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:51:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:51:44 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 18:51:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:51:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:51:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 18:51:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 18:51:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 18:51:54 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 794ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 6951)


Started POST "/signup" for ::1 at 2020-02-08 22:45:00 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"john", "email"=>"john@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"name"=>"john", "email"=>"john@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "john"], ["email", "john@gmail.com"], ["password_digest", "$2a$12$BtNtFwQlfM4EOsBiLGnSDuAdhH2jdHAHbiIehFKwtZltlClNvAklS"], ["created_at", "2020-02-09 03:45:00.664794"], ["updated_at", "2020-02-09 03:45:00.664794"]]
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:8:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1375ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 11502)


Started GET "/cable" for ::1 at 2020-02-08 22:45:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:45:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 22:45:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:45:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 22:56:44 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 22:56:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 22:56:45 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:56:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 22:56:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:56:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 22:58:16 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 22:58:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:58:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 22:58:18 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 22:58:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:58:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Quick Test"})
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"content\":\"Quick Test\",\"action\":\"create\"}"}) [KeyError - key not found: "created_by"]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `fetch' | /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `create' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Started POST "/auth/login" for ::1 at 2020-02-08 22:59:39 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1021ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3363)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 22:59:43 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 22:59:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 22:59:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 22:59:53 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


ChatChannel#create({"content"=>"Nolan, you there?"})
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"content\":\"Nolan, you there?\",\"action\":\"create\"}"}) [KeyError - key not found: "created_by"]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `fetch' | /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `create' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action'
ChatChannel#create({"content"=>"nope"})
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"content\":\"nope\",\"action\":\"create\"}"}) [KeyError - key not found: "created_by"]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `fetch' | /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `create' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:02:34 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:02:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:02:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:02:34 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:02:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:02:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:02:46 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1048ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2391)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:04:26 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:04:26 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:04:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:04:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:04:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:04:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:04:35 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started POST "/auth/login" for ::1 at 2020-02-08 23:04:51 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2530)


ChatChannel#create({"content"=>"Nolan, you there?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Nolan, you there?"], ["created_at", "2020-02-09 04:05:47.761136"], ["updated_at", "2020-02-09 04:05:47.761136"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 91133375-1c82-4c95-b439-f6c96043de9c) to Async(default) with arguments: #<GlobalID:0x00007fc03c8e12d8 @uri=#<URI::GID gid://chat-app/ChatMessage/64>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [91133375-1c82-4c95-b439-f6c96043de9c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 91133375-1c82-4c95-b439-f6c96043de9c) from Async(default) enqueued at 2020-02-09T04:05:47Z with arguments: #<GlobalID:0x00007fc036584a78 @uri=#<URI::GID gid://chat-app/ChatMessage/64>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [91133375-1c82-4c95-b439-f6c96043de9c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [91133375-1c82-4c95-b439-f6c96043de9c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [91133375-1c82-4c95-b439-f6c96043de9c] [ActionCable] Broadcasting to chat_channel: {:id=>64, :created_at=>"04:05", :content=>"Nolan, you there?", :name=>"john"}
ChatChannel transmitting {"id"=>64, "created_at"=>"04:05", "content"=>"Nolan, you there?", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [91133375-1c82-4c95-b439-f6c96043de9c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 91133375-1c82-4c95-b439-f6c96043de9c) from Async(default) in 1.32ms
ChatChannel transmitting {"id"=>64, "created_at"=>"04:05", "content"=>"Nolan, you there?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey John!", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey John!"], ["created_at", "2020-02-09 04:05:58.674036"], ["updated_at", "2020-02-09 04:05:58.674036"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f596356b-bcb2-4d4e-9dc0-9c52b546babb) to Async(default) with arguments: #<GlobalID:0x00007fc0362bd0d8 @uri=#<URI::GID gid://chat-app/ChatMessage/65>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f596356b-bcb2-4d4e-9dc0-9c52b546babb] Performing ChatMessageCreationEventBroadcastJob (Job ID: f596356b-bcb2-4d4e-9dc0-9c52b546babb) from Async(default) enqueued at 2020-02-09T04:05:58Z with arguments: #<GlobalID:0x00007fc03630e988 @uri=#<URI::GID gid://chat-app/ChatMessage/65>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f596356b-bcb2-4d4e-9dc0-9c52b546babb]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f596356b-bcb2-4d4e-9dc0-9c52b546babb]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f596356b-bcb2-4d4e-9dc0-9c52b546babb] [ActionCable] Broadcasting to chat_channel: {:id=>65, :created_at=>"04:05", :content=>"Hey John!", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f596356b-bcb2-4d4e-9dc0-9c52b546babb] Performed ChatMessageCreationEventBroadcastJob (Job ID: f596356b-bcb2-4d4e-9dc0-9c52b546babb) from Async(default) in 1.06ms
ChatChannel transmitting {"id"=>65, "created_at"=>"04:05", "content"=>"Hey John!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>65, "created_at"=>"04:05", "content"=>"Hey John!", "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 23:22:36 -0500
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:22:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:22:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:22:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:22:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:22:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:22:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:22:50 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1068ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 9182)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:22:54 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:22:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:22:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:23:00 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2595)


ChatChannel#create({"content"=>"Nolan?", "created_by"=>5})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Nolan?"], ["created_at", "2020-02-09 04:23:04.212428"], ["updated_at", "2020-02-09 04:23:04.212428"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c29a902d-41ad-4661-990d-1bd95b98f8aa) to Async(default) with arguments: #<GlobalID:0x00007fb668281b50 @uri=#<URI::GID gid://chat-app/ChatMessage/66>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c29a902d-41ad-4661-990d-1bd95b98f8aa] Performing ChatMessageCreationEventBroadcastJob (Job ID: c29a902d-41ad-4661-990d-1bd95b98f8aa) from Async(default) enqueued at 2020-02-09T04:23:04Z with arguments: #<GlobalID:0x00007fb6663102f8 @uri=#<URI::GID gid://chat-app/ChatMessage/66>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c29a902d-41ad-4661-990d-1bd95b98f8aa]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c29a902d-41ad-4661-990d-1bd95b98f8aa]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c29a902d-41ad-4661-990d-1bd95b98f8aa] [ActionCable] Broadcasting to chat_channel: {:id=>66, :created_at=>"04:23", :content=>"Nolan?", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c29a902d-41ad-4661-990d-1bd95b98f8aa] Performed ChatMessageCreationEventBroadcastJob (Job ID: c29a902d-41ad-4661-990d-1bd95b98f8aa) from Async(default) in 8.17ms
ChatChannel transmitting {"id"=>66, "created_at"=>"04:23", "content"=>"Nolan?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>66, "created_at"=>"04:23", "content"=>"Nolan?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"John?!", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "John?!"], ["created_at", "2020-02-09 04:23:10.031142"], ["updated_at", "2020-02-09 04:23:10.031142"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 80e4b77f-961e-458f-bf17-afa790780694) to Async(default) with arguments: #<GlobalID:0x00007fb6694be6b0 @uri=#<URI::GID gid://chat-app/ChatMessage/67>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [80e4b77f-961e-458f-bf17-afa790780694] Performing ChatMessageCreationEventBroadcastJob (Job ID: 80e4b77f-961e-458f-bf17-afa790780694) from Async(default) enqueued at 2020-02-09T04:23:10Z with arguments: #<GlobalID:0x00007fb6695639a8 @uri=#<URI::GID gid://chat-app/ChatMessage/67>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [80e4b77f-961e-458f-bf17-afa790780694]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [80e4b77f-961e-458f-bf17-afa790780694]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [80e4b77f-961e-458f-bf17-afa790780694] [ActionCable] Broadcasting to chat_channel: {:id=>67, :created_at=>"04:23", :content=>"John?!", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [80e4b77f-961e-458f-bf17-afa790780694] Performed ChatMessageCreationEventBroadcastJob (Job ID: 80e4b77f-961e-458f-bf17-afa790780694) from Async(default) in 3.65ms
ChatChannel transmitting {"id"=>67, "created_at"=>"04:23", "content"=>"John?!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>67, "created_at"=>"04:23", "content"=>"John?!", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:27:58 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:27:58 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:27:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:27:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:27:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:27:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:35:00 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:35:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:35:02 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:35:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:35:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"john?", "created_by"=>nil})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "john?"], ["created_at", "2020-02-09 04:35:08.564194"], ["updated_at", "2020-02-09 04:35:08.564194"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 0d85e7ba-f9db-4aff-9ee8-37f9fdeb5d86) to Async(default) with arguments: #<GlobalID:0x00007fc184403dd0 @uri=#<URI::GID gid://chat-app/ChatMessage/68>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 68], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0d85e7ba-f9db-4aff-9ee8-37f9fdeb5d86] Performing ChatMessageCreationEventBroadcastJob (Job ID: 0d85e7ba-f9db-4aff-9ee8-37f9fdeb5d86) from Async(default) enqueued at 2020-02-09T04:35:08Z with arguments: #<GlobalID:0x00007fc186441660 @uri=#<URI::GID gid://chat-app/ChatMessage/68>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0d85e7ba-f9db-4aff-9ee8-37f9fdeb5d86] Error performing ChatMessageCreationEventBroadcastJob (Job ID: 0d85e7ba-f9db-4aff-9ee8-37f9fdeb5d86) from Async(default) in 6.04ms: ActiveRecord::RecordNotFound (Couldn't find User without an ID):
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:432:in `find_with_ids'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:69:in `find'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/querying.rb:21:in `find'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/core.rb:167:in `find'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/i18n-1.8.2/lib/i18n.rb:313:in `with_locale'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:38:in `perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:24:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:71:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:22:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-08 23:35:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:35:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:35:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 6480)


ChatChannel#create({"content"=>"Nolan?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Nolan?"], ["created_at", "2020-02-09 04:35:25.864246"], ["updated_at", "2020-02-09 04:35:25.864246"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 845f99ed-46dd-44f2-83de-b3f3bf9fbf5d) to Async(default) with arguments: #<GlobalID:0x00007fc1864df720 @uri=#<URI::GID gid://chat-app/ChatMessage/69>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [845f99ed-46dd-44f2-83de-b3f3bf9fbf5d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 845f99ed-46dd-44f2-83de-b3f3bf9fbf5d) from Async(default) enqueued at 2020-02-09T04:35:25Z with arguments: #<GlobalID:0x00007fc18652c9d0 @uri=#<URI::GID gid://chat-app/ChatMessage/69>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [845f99ed-46dd-44f2-83de-b3f3bf9fbf5d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [845f99ed-46dd-44f2-83de-b3f3bf9fbf5d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [845f99ed-46dd-44f2-83de-b3f3bf9fbf5d] [ActionCable] Broadcasting to chat_channel: {:id=>69, :created_at=>"04:35", :content=>"Nolan?", :name=>"john"}
ChatChannel transmitting {"id"=>69, "created_at"=>"04:35", "content"=>"Nolan?", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [845f99ed-46dd-44f2-83de-b3f3bf9fbf5d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 845f99ed-46dd-44f2-83de-b3f3bf9fbf5d) from Async(default) in 3.07ms
ChatChannel transmitting {"id"=>69, "created_at"=>"04:35", "content"=>"Nolan?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"John?", "created_by"=>nil})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "John?"], ["created_at", "2020-02-09 04:35:29.994238"], ["updated_at", "2020-02-09 04:35:29.994238"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: bb3875d7-bcc3-46d1-b95c-5e089aa0b612) to Async(default) with arguments: #<GlobalID:0x00007fc1852d24d8 @uri=#<URI::GID gid://chat-app/ChatMessage/70>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb3875d7-bcc3-46d1-b95c-5e089aa0b612] Performing ChatMessageCreationEventBroadcastJob (Job ID: bb3875d7-bcc3-46d1-b95c-5e089aa0b612) from Async(default) enqueued at 2020-02-09T04:35:30Z with arguments: #<GlobalID:0x00007fc184b8dd80 @uri=#<URI::GID gid://chat-app/ChatMessage/70>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb3875d7-bcc3-46d1-b95c-5e089aa0b612] Error performing ChatMessageCreationEventBroadcastJob (Job ID: bb3875d7-bcc3-46d1-b95c-5e089aa0b612) from Async(default) in 0.21ms: ActiveRecord::RecordNotFound (Couldn't find User without an ID):
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:432:in `find_with_ids'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:69:in `find'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/querying.rb:21:in `find'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/core.rb:167:in `find'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/i18n-1.8.2/lib/i18n.rb:313:in `with_locale'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:38:in `perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:24:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:71:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:22:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:36:51 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:36:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:36:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"John?", "created_by"=>nil})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "John?"], ["created_at", "2020-02-09 04:36:59.996256"], ["updated_at", "2020-02-09 04:36:59.996256"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9ebd2b35-62bc-4b0d-adcc-0e0c287a20f9) to Async(default) with arguments: #<GlobalID:0x00007fc186274b20 @uri=#<URI::GID gid://chat-app/ChatMessage/71>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9ebd2b35-62bc-4b0d-adcc-0e0c287a20f9] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9ebd2b35-62bc-4b0d-adcc-0e0c287a20f9) from Async(default) enqueued at 2020-02-09T04:37:00Z with arguments: #<GlobalID:0x00007fc18632ce00 @uri=#<URI::GID gid://chat-app/ChatMessage/71>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9ebd2b35-62bc-4b0d-adcc-0e0c287a20f9] Error performing ChatMessageCreationEventBroadcastJob (Job ID: 9ebd2b35-62bc-4b0d-adcc-0e0c287a20f9) from Async(default) in 0.17ms: ActiveRecord::RecordNotFound (Couldn't find User without an ID):
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:432:in `find_with_ids'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:69:in `find'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/querying.rb:21:in `find'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/core.rb:167:in `find'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:39:in `block in perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/i18n-1.8.2/lib/i18n.rb:313:in `with_locale'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:180:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `block in tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:45:in `tag_logger'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:38:in `perform_now'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:24:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:72:in `block in wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/reloader.rb:71:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/execution.rb:22:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activejob-6.0.2.1/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:39:19 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:39:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:39:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:39:56 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:39:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:39:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:40:05 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1040ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2398)


ChatChannel#create({"content"=>"John?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "John?"], ["created_at", "2020-02-09 04:40:09.784676"], ["updated_at", "2020-02-09 04:40:09.784676"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a6cfec52-5ad0-45e0-953a-dabbacedbac0) to Async(default) with arguments: #<GlobalID:0x00007fc1865d6c78 @uri=#<URI::GID gid://chat-app/ChatMessage/72>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6cfec52-5ad0-45e0-953a-dabbacedbac0] Performing ChatMessageCreationEventBroadcastJob (Job ID: a6cfec52-5ad0-45e0-953a-dabbacedbac0) from Async(default) enqueued at 2020-02-09T04:40:09Z with arguments: #<GlobalID:0x00007fc184bcf730 @uri=#<URI::GID gid://chat-app/ChatMessage/72>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6cfec52-5ad0-45e0-953a-dabbacedbac0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6cfec52-5ad0-45e0-953a-dabbacedbac0]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6cfec52-5ad0-45e0-953a-dabbacedbac0] [ActionCable] Broadcasting to chat_channel: {:id=>72, :created_at=>"04:40", :content=>"John?", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6cfec52-5ad0-45e0-953a-dabbacedbac0] Performed ChatMessageCreationEventBroadcastJob (Job ID: a6cfec52-5ad0-45e0-953a-dabbacedbac0) from Async(default) in 1.0ms
ChatChannel transmitting {"id"=>72, "created_at"=>"04:40", "content"=>"John?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>72, "created_at"=>"04:40", "content"=>"John?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"OMG NOLAN", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "OMG NOLAN"], ["created_at", "2020-02-09 04:40:16.313508"], ["updated_at", "2020-02-09 04:40:16.313508"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8a82cbdb-acb1-40aa-af98-30164dc357b9) to Async(default) with arguments: #<GlobalID:0x00007fc185305108 @uri=#<URI::GID gid://chat-app/ChatMessage/73>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a82cbdb-acb1-40aa-af98-30164dc357b9] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8a82cbdb-acb1-40aa-af98-30164dc357b9) from Async(default) enqueued at 2020-02-09T04:40:16Z with arguments: #<GlobalID:0x00007fc186624978 @uri=#<URI::GID gid://chat-app/ChatMessage/73>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a82cbdb-acb1-40aa-af98-30164dc357b9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a82cbdb-acb1-40aa-af98-30164dc357b9]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a82cbdb-acb1-40aa-af98-30164dc357b9] [ActionCable] Broadcasting to chat_channel: {:id=>73, :created_at=>"04:40", :content=>"OMG NOLAN", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8a82cbdb-acb1-40aa-af98-30164dc357b9] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8a82cbdb-acb1-40aa-af98-30164dc357b9) from Async(default) in 0.98ms
ChatChannel transmitting {"id"=>73, "created_at"=>"04:40", "content"=>"OMG NOLAN", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>73, "created_at"=>"04:40", "content"=>"OMG NOLAN", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Where oh where have you been?!", "created_by"=>5})
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Where oh where have you been?!"], ["created_at", "2020-02-09 04:40:29.785403"], ["updated_at", "2020-02-09 04:40:29.785403"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 087bd761-ae6d-4746-826f-7b4b5fd5a083) to Async(default) with arguments: #<GlobalID:0x00007fc18533f6a0 @uri=#<URI::GID gid://chat-app/ChatMessage/74>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [087bd761-ae6d-4746-826f-7b4b5fd5a083] Performing ChatMessageCreationEventBroadcastJob (Job ID: 087bd761-ae6d-4746-826f-7b4b5fd5a083) from Async(default) enqueued at 2020-02-09T04:40:29Z with arguments: #<GlobalID:0x00007fc18459af68 @uri=#<URI::GID gid://chat-app/ChatMessage/74>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [087bd761-ae6d-4746-826f-7b4b5fd5a083]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [087bd761-ae6d-4746-826f-7b4b5fd5a083]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [087bd761-ae6d-4746-826f-7b4b5fd5a083] [ActionCable] Broadcasting to chat_channel: {:id=>74, :created_at=>"04:40", :content=>"Where oh where have you been?!", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [087bd761-ae6d-4746-826f-7b4b5fd5a083] Performed ChatMessageCreationEventBroadcastJob (Job ID: 087bd761-ae6d-4746-826f-7b4b5fd5a083) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>74, "created_at"=>"04:40", "content"=>"Where oh where have you been?!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>74, "created_at"=>"04:40", "content"=>"Where oh where have you been?!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Goodbye John, we may never speak again I hear I'm due for a refactoring..", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Goodbye John, we may never speak again I hear I'm due for a refactoring.."], ["created_at", "2020-02-09 04:40:45.592367"], ["updated_at", "2020-02-09 04:40:45.592367"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 33a20f66-88b5-44a9-bf44-8a1709b53b1f) to Async(default) with arguments: #<GlobalID:0x00007fc1845cb488 @uri=#<URI::GID gid://chat-app/ChatMessage/75>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [33a20f66-88b5-44a9-bf44-8a1709b53b1f] Performing ChatMessageCreationEventBroadcastJob (Job ID: 33a20f66-88b5-44a9-bf44-8a1709b53b1f) from Async(default) enqueued at 2020-02-09T04:40:45Z with arguments: #<GlobalID:0x00007fc18665ed80 @uri=#<URI::GID gid://chat-app/ChatMessage/75>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [33a20f66-88b5-44a9-bf44-8a1709b53b1f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [33a20f66-88b5-44a9-bf44-8a1709b53b1f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [33a20f66-88b5-44a9-bf44-8a1709b53b1f] [ActionCable] Broadcasting to chat_channel: {:id=>75, :created_at=>"04:40", :content=>"Goodbye John, we may never speak again I hear I'm due for a refactoring..", :name=>"nolan"}
ChatChannel transmitting {"id"=>75, "created_at"=>"04:40", "content"=>"Goodbye John, we may never speak again I hear I'm due for a refactoring..", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>75, "created_at"=>"04:40", "content"=>"Goodbye John, we may never speak again I hear I'm due for a refactoring..", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [33a20f66-88b5-44a9-bf44-8a1709b53b1f] Performed ChatMessageCreationEventBroadcastJob (Job ID: 33a20f66-88b5-44a9-bf44-8a1709b53b1f) from Async(default) in 0.99ms
ChatChannel#create({"content"=>"NOO NOLAN WAIT!", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "NOO NOLAN WAIT!"], ["created_at", "2020-02-09 04:40:54.243309"], ["updated_at", "2020-02-09 04:40:54.243309"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2f035b52-915f-4f2d-8ed0-8ac33fdd4d91) to Async(default) with arguments: #<GlobalID:0x00007fc1846100d8 @uri=#<URI::GID gid://chat-app/ChatMessage/76>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f035b52-915f-4f2d-8ed0-8ac33fdd4d91] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2f035b52-915f-4f2d-8ed0-8ac33fdd4d91) from Async(default) enqueued at 2020-02-09T04:40:54Z with arguments: #<GlobalID:0x00007fc184633920 @uri=#<URI::GID gid://chat-app/ChatMessage/76>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f035b52-915f-4f2d-8ed0-8ac33fdd4d91]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f035b52-915f-4f2d-8ed0-8ac33fdd4d91]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f035b52-915f-4f2d-8ed0-8ac33fdd4d91] [ActionCable] Broadcasting to chat_channel: {:id=>76, :created_at=>"04:40", :content=>"NOO NOLAN WAIT!", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f035b52-915f-4f2d-8ed0-8ac33fdd4d91] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2f035b52-915f-4f2d-8ed0-8ac33fdd4d91) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>76, "created_at"=>"04:40", "content"=>"NOO NOLAN WAIT!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>76, "created_at"=>"04:40", "content"=>"NOO NOLAN WAIT!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Nolan?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Nolan?"], ["created_at", "2020-02-09 04:41:05.777034"], ["updated_at", "2020-02-09 04:41:05.777034"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5f484111-fd97-4827-8f18-7b54739b31ac) to Async(default) with arguments: #<GlobalID:0x00007fc184662608 @uri=#<URI::GID gid://chat-app/ChatMessage/77>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5f484111-fd97-4827-8f18-7b54739b31ac] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5f484111-fd97-4827-8f18-7b54739b31ac) from Async(default) enqueued at 2020-02-09T04:41:05Z with arguments: #<GlobalID:0x00007fc1866c5e90 @uri=#<URI::GID gid://chat-app/ChatMessage/77>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5f484111-fd97-4827-8f18-7b54739b31ac]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5f484111-fd97-4827-8f18-7b54739b31ac]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5f484111-fd97-4827-8f18-7b54739b31ac] [ActionCable] Broadcasting to chat_channel: {:id=>77, :created_at=>"04:41", :content=>"Nolan?", :name=>"john"}
ChatChannel transmitting {"id"=>77, "created_at"=>"04:41", "content"=>"Nolan?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>77, "created_at"=>"04:41", "content"=>"Nolan?", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5f484111-fd97-4827-8f18-7b54739b31ac] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5f484111-fd97-4827-8f18-7b54739b31ac) from Async(default) in 0.95ms
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:41:12 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:41:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:41:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:51:36 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:51:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:51:56 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1063ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 8825)


ChatChannel#create({"content"=>"Hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-09 04:52:03.717359"], ["updated_at", "2020-02-09 04:52:03.717359"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 701aeb33-3886-4a2f-aa59-f2a74c02e5ac) to Async(default) with arguments: #<GlobalID:0x00007fe249b528f8 @uri=#<URI::GID gid://chat-app/ChatMessage/78>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [701aeb33-3886-4a2f-aa59-f2a74c02e5ac] Performing ChatMessageCreationEventBroadcastJob (Job ID: 701aeb33-3886-4a2f-aa59-f2a74c02e5ac) from Async(default) enqueued at 2020-02-09T04:52:03Z with arguments: #<GlobalID:0x00007fe249c02528 @uri=#<URI::GID gid://chat-app/ChatMessage/78>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [701aeb33-3886-4a2f-aa59-f2a74c02e5ac]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [701aeb33-3886-4a2f-aa59-f2a74c02e5ac]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [701aeb33-3886-4a2f-aa59-f2a74c02e5ac] [ActionCable] Broadcasting to chat_channel: {:id=>78, :created_at=>"04:52", :content=>"Hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [701aeb33-3886-4a2f-aa59-f2a74c02e5ac] Performed ChatMessageCreationEventBroadcastJob (Job ID: 701aeb33-3886-4a2f-aa59-f2a74c02e5ac) from Async(default) in 2.85ms
ChatChannel transmitting {"id"=>78, "created_at"=>"04:52", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-08 23:52:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:52:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-08 23:52:12 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1053ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 2595)


ChatChannel#create({"content"=>"Hey?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey?"], ["created_at", "2020-02-09 04:52:17.106875"], ["updated_at", "2020-02-09 04:52:17.106875"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 863c30ab-bcf0-4990-a5f3-7d82b9084e56) to Async(default) with arguments: #<GlobalID:0x00007fe249b20e48 @uri=#<URI::GID gid://chat-app/ChatMessage/79>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [863c30ab-bcf0-4990-a5f3-7d82b9084e56] Performing ChatMessageCreationEventBroadcastJob (Job ID: 863c30ab-bcf0-4990-a5f3-7d82b9084e56) from Async(default) enqueued at 2020-02-09T04:52:17Z with arguments: #<GlobalID:0x00007fe249bb9648 @uri=#<URI::GID gid://chat-app/ChatMessage/79>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [863c30ab-bcf0-4990-a5f3-7d82b9084e56]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [863c30ab-bcf0-4990-a5f3-7d82b9084e56]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [863c30ab-bcf0-4990-a5f3-7d82b9084e56] [ActionCable] Broadcasting to chat_channel: {:id=>79, :created_at=>"04:52", :content=>"Hey?", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [863c30ab-bcf0-4990-a5f3-7d82b9084e56] Performed ChatMessageCreationEventBroadcastJob (Job ID: 863c30ab-bcf0-4990-a5f3-7d82b9084e56) from Async(default) in 2.14ms
ChatChannel transmitting {"id"=>79, "created_at"=>"04:52", "content"=>"Hey?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>79, "created_at"=>"04:52", "content"=>"Hey?", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:53:31 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:53:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:53:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-08 23:54:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-08 23:54:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-08 23:54:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:11:58 -0500
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:11:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:12:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:12:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-09 03:12:14 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1081ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 8724)


ChatChannel#create({"content"=>"Hey", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-09 08:12:22.720293"], ["updated_at", "2020-02-09 08:12:22.720293"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 632652a1-bf6c-4f7e-a854-00e638459269) to Async(default) with arguments: #<GlobalID:0x00007fe7a4ed2fe0 @uri=#<URI::GID gid://chat-app/ChatMessage/80>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [632652a1-bf6c-4f7e-a854-00e638459269] Performing ChatMessageCreationEventBroadcastJob (Job ID: 632652a1-bf6c-4f7e-a854-00e638459269) from Async(default) enqueued at 2020-02-09T08:12:22Z with arguments: #<GlobalID:0x00007fe7a41fdb08 @uri=#<URI::GID gid://chat-app/ChatMessage/80>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [632652a1-bf6c-4f7e-a854-00e638459269]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [632652a1-bf6c-4f7e-a854-00e638459269]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [632652a1-bf6c-4f7e-a854-00e638459269] [ActionCable] Broadcasting to chat_channel: {:id=>80, :created_at=>"08:12", :content=>"Hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [632652a1-bf6c-4f7e-a854-00e638459269] Performed ChatMessageCreationEventBroadcastJob (Job ID: 632652a1-bf6c-4f7e-a854-00e638459269) from Async(default) in 9.67ms
ChatChannel transmitting {"id"=>80, "created_at"=>"08:12", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>80, "created_at"=>"08:12", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:17:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:17:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:17:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Test 123", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Test 123"], ["created_at", "2020-02-09 08:17:45.855594"], ["updated_at", "2020-02-09 08:17:45.855594"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c3bc924e-28b4-4d08-9629-d64610cdcde9) to Async(default) with arguments: #<GlobalID:0x00007fe7a5256068 @uri=#<URI::GID gid://chat-app/ChatMessage/81>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c3bc924e-28b4-4d08-9629-d64610cdcde9] Performing ChatMessageCreationEventBroadcastJob (Job ID: c3bc924e-28b4-4d08-9629-d64610cdcde9) from Async(default) enqueued at 2020-02-09T08:17:45Z with arguments: #<GlobalID:0x00007fe7a528c550 @uri=#<URI::GID gid://chat-app/ChatMessage/81>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c3bc924e-28b4-4d08-9629-d64610cdcde9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c3bc924e-28b4-4d08-9629-d64610cdcde9]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c3bc924e-28b4-4d08-9629-d64610cdcde9] [ActionCable] Broadcasting to chat_channel: {:id=>81, :created_at=>"08:17", :content=>"Test 123", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c3bc924e-28b4-4d08-9629-d64610cdcde9] Performed ChatMessageCreationEventBroadcastJob (Job ID: c3bc924e-28b4-4d08-9629-d64610cdcde9) from Async(default) in 1.02ms
ChatChannel transmitting {"id"=>81, "created_at"=>"08:17", "content"=>"Test 123", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>81, "created_at"=>"08:17", "content"=>"Test 123", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:19:42 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:19:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:19:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test testing test", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "test testing test"], ["created_at", "2020-02-09 08:19:51.060954"], ["updated_at", "2020-02-09 08:19:51.060954"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 781223c6-5b9b-481f-ac32-201ad6b1c237) to Async(default) with arguments: #<GlobalID:0x00007fe7a541e990 @uri=#<URI::GID gid://chat-app/ChatMessage/82>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 82], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [781223c6-5b9b-481f-ac32-201ad6b1c237] Performing ChatMessageCreationEventBroadcastJob (Job ID: 781223c6-5b9b-481f-ac32-201ad6b1c237) from Async(default) enqueued at 2020-02-09T08:19:51Z with arguments: #<GlobalID:0x00007fe7a91832b8 @uri=#<URI::GID gid://chat-app/ChatMessage/82>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [781223c6-5b9b-481f-ac32-201ad6b1c237]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [781223c6-5b9b-481f-ac32-201ad6b1c237]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [781223c6-5b9b-481f-ac32-201ad6b1c237] [ActionCable] Broadcasting to chat_channel: {:id=>82, :created_at=>"08:19", :content=>"test testing test", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [781223c6-5b9b-481f-ac32-201ad6b1c237] Performed ChatMessageCreationEventBroadcastJob (Job ID: 781223c6-5b9b-481f-ac32-201ad6b1c237) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>82, "created_at"=>"08:19", "content"=>"test testing test", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>82, "created_at"=>"08:19", "content"=>"test testing test", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:25:35 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:25:35 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:25:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"testy", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "testy"], ["created_at", "2020-02-09 08:28:18.992052"], ["updated_at", "2020-02-09 08:28:18.992052"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95) to Async(default) with arguments: #<GlobalID:0x00007fe7a554de60 @uri=#<URI::GID gid://chat-app/ChatMessage/83>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 83], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95] Performing ChatMessageCreationEventBroadcastJob (Job ID: e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95) from Async(default) enqueued at 2020-02-09T08:28:18Z with arguments: #<GlobalID:0x00007fe7a42ed478 @uri=#<URI::GID gid://chat-app/ChatMessage/83>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95] [ActionCable] Broadcasting to chat_channel: {:id=>83, :created_at=>"08:28", :content=>"testy", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95] Performed ChatMessageCreationEventBroadcastJob (Job ID: e6cdb6d0-cc34-4745-b9e3-1abaec9c4e95) from Async(default) in 1.16ms
ChatChannel transmitting {"id"=>83, "created_at"=>"08:28", "content"=>"testy", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>83, "created_at"=>"08:28", "content"=>"testy", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:29:26 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:29:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:29:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test1", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "test1"], ["created_at", "2020-02-09 08:30:18.427260"], ["updated_at", "2020-02-09 08:30:18.427260"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 0a0c9636-71ac-4678-b781-bffbb12721d2) to Async(default) with arguments: #<GlobalID:0x00007fe7a5597448 @uri=#<URI::GID gid://chat-app/ChatMessage/84>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 84], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0a0c9636-71ac-4678-b781-bffbb12721d2] Performing ChatMessageCreationEventBroadcastJob (Job ID: 0a0c9636-71ac-4678-b781-bffbb12721d2) from Async(default) enqueued at 2020-02-09T08:30:18Z with arguments: #<GlobalID:0x00007fe7a4b9f008 @uri=#<URI::GID gid://chat-app/ChatMessage/84>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0a0c9636-71ac-4678-b781-bffbb12721d2]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0a0c9636-71ac-4678-b781-bffbb12721d2]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0a0c9636-71ac-4678-b781-bffbb12721d2] [ActionCable] Broadcasting to chat_channel: {:id=>84, :created_at=>"08:30", :content=>"test1", :name=>"nolan"}
ChatChannel transmitting {"id"=>84, "created_at"=>"08:30", "content"=>"test1", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>84, "created_at"=>"08:30", "content"=>"test1", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0a0c9636-71ac-4678-b781-bffbb12721d2] Performed ChatMessageCreationEventBroadcastJob (Job ID: 0a0c9636-71ac-4678-b781-bffbb12721d2) from Async(default) in 0.99ms
ChatChannel#create({"content"=>"test2", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "test2"], ["created_at", "2020-02-09 08:30:19.566209"], ["updated_at", "2020-02-09 08:30:19.566209"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: df5230a5-80b4-439d-9fec-1222b8465882) to Async(default) with arguments: #<GlobalID:0x00007fe7a41e4bf8 @uri=#<URI::GID gid://chat-app/ChatMessage/85>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [df5230a5-80b4-439d-9fec-1222b8465882] Performing ChatMessageCreationEventBroadcastJob (Job ID: df5230a5-80b4-439d-9fec-1222b8465882) from Async(default) enqueued at 2020-02-09T08:30:19Z with arguments: #<GlobalID:0x00007fe7a4f43a88 @uri=#<URI::GID gid://chat-app/ChatMessage/85>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [df5230a5-80b4-439d-9fec-1222b8465882]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [df5230a5-80b4-439d-9fec-1222b8465882]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [df5230a5-80b4-439d-9fec-1222b8465882] [ActionCable] Broadcasting to chat_channel: {:id=>85, :created_at=>"08:30", :content=>"test2", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [df5230a5-80b4-439d-9fec-1222b8465882] Performed ChatMessageCreationEventBroadcastJob (Job ID: df5230a5-80b4-439d-9fec-1222b8465882) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>85, "created_at"=>"08:30", "content"=>"test2", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>85, "created_at"=>"08:30", "content"=>"test2", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:34:57 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:34:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:34:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test1", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "test1"], ["created_at", "2020-02-09 08:34:59.273549"], ["updated_at", "2020-02-09 08:34:59.273549"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cf6d9381-9862-4e97-b411-4240c1d02934) to Async(default) with arguments: #<GlobalID:0x00007fe7a547c680 @uri=#<URI::GID gid://chat-app/ChatMessage/86>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf6d9381-9862-4e97-b411-4240c1d02934] Performing ChatMessageCreationEventBroadcastJob (Job ID: cf6d9381-9862-4e97-b411-4240c1d02934) from Async(default) enqueued at 2020-02-09T08:34:59Z with arguments: #<GlobalID:0x00007fe7a61aff28 @uri=#<URI::GID gid://chat-app/ChatMessage/86>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf6d9381-9862-4e97-b411-4240c1d02934]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf6d9381-9862-4e97-b411-4240c1d02934]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf6d9381-9862-4e97-b411-4240c1d02934] [ActionCable] Broadcasting to chat_channel: {:id=>86, :created_at=>"08:34", :content=>"test1", :name=>"nolan"}
ChatChannel transmitting {"id"=>86, "created_at"=>"08:34", "content"=>"test1", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cf6d9381-9862-4e97-b411-4240c1d02934] Performed ChatMessageCreationEventBroadcastJob (Job ID: cf6d9381-9862-4e97-b411-4240c1d02934) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>86, "created_at"=>"08:34", "content"=>"test1", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:35:07 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:35:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:35:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"tes12", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "tes12"], ["created_at", "2020-02-09 08:35:10.900671"], ["updated_at", "2020-02-09 08:35:10.900671"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 19baa39a-8e17-4b61-8909-142fbf1f6fee) to Async(default) with arguments: #<GlobalID:0x00007fe7a91e1980 @uri=#<URI::GID gid://chat-app/ChatMessage/87>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [19baa39a-8e17-4b61-8909-142fbf1f6fee] Performing ChatMessageCreationEventBroadcastJob (Job ID: 19baa39a-8e17-4b61-8909-142fbf1f6fee) from Async(default) enqueued at 2020-02-09T08:35:10Z with arguments: #<GlobalID:0x00007fe7a54ad258 @uri=#<URI::GID gid://chat-app/ChatMessage/87>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [19baa39a-8e17-4b61-8909-142fbf1f6fee]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [19baa39a-8e17-4b61-8909-142fbf1f6fee]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [19baa39a-8e17-4b61-8909-142fbf1f6fee] [ActionCable] Broadcasting to chat_channel: {:id=>87, :created_at=>"08:35", :content=>"tes12", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [19baa39a-8e17-4b61-8909-142fbf1f6fee] Performed ChatMessageCreationEventBroadcastJob (Job ID: 19baa39a-8e17-4b61-8909-142fbf1f6fee) from Async(default) in 0.95ms
ChatChannel transmitting {"id"=>87, "created_at"=>"08:35", "content"=>"tes12", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>87, "created_at"=>"08:35", "content"=>"tes12", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:38:07 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:38:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:38:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:38:33 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:38:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:38:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"test 1", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "test 1"], ["created_at", "2020-02-09 08:38:36.701911"], ["updated_at", "2020-02-09 08:38:36.701911"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 73c00e7b-087f-48ba-b732-54d21e90567a) to Async(default) with arguments: #<GlobalID:0x00007fe7a629dd40 @uri=#<URI::GID gid://chat-app/ChatMessage/88>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [73c00e7b-087f-48ba-b732-54d21e90567a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 73c00e7b-087f-48ba-b732-54d21e90567a) from Async(default) enqueued at 2020-02-09T08:38:36Z with arguments: #<GlobalID:0x00007fe7a5525618 @uri=#<URI::GID gid://chat-app/ChatMessage/88>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [73c00e7b-087f-48ba-b732-54d21e90567a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [73c00e7b-087f-48ba-b732-54d21e90567a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [73c00e7b-087f-48ba-b732-54d21e90567a] [ActionCable] Broadcasting to chat_channel: {:id=>88, :created_at=>"08:38", :content=>"test 1", :name=>"nolan"}
ChatChannel transmitting {"id"=>88, "created_at"=>"08:38", "content"=>"test 1", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [73c00e7b-087f-48ba-b732-54d21e90567a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 73c00e7b-087f-48ba-b732-54d21e90567a) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>88, "created_at"=>"08:38", "content"=>"test 1", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:38:47 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:38:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:38:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-09 08:38:52.761875"], ["updated_at", "2020-02-09 08:38:52.761875"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8d2fd47f-dbf2-4e46-b29e-f6e35be7a961) to Async(default) with arguments: #<GlobalID:0x00007fe7a62ddb48 @uri=#<URI::GID gid://chat-app/ChatMessage/89>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 89], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d2fd47f-dbf2-4e46-b29e-f6e35be7a961] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8d2fd47f-dbf2-4e46-b29e-f6e35be7a961) from Async(default) enqueued at 2020-02-09T08:38:52Z with arguments: #<GlobalID:0x00007fe7a62f5400 @uri=#<URI::GID gid://chat-app/ChatMessage/89>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d2fd47f-dbf2-4e46-b29e-f6e35be7a961]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d2fd47f-dbf2-4e46-b29e-f6e35be7a961]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d2fd47f-dbf2-4e46-b29e-f6e35be7a961] [ActionCable] Broadcasting to chat_channel: {:id=>89, :created_at=>"08:38", :content=>"Hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d2fd47f-dbf2-4e46-b29e-f6e35be7a961] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8d2fd47f-dbf2-4e46-b29e-f6e35be7a961) from Async(default) in 0.85ms
ChatChannel transmitting {"id"=>89, "created_at"=>"08:38", "content"=>"Hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>89, "created_at"=>"08:38", "content"=>"Hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey john!", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey john!"], ["created_at", "2020-02-09 08:38:59.941946"], ["updated_at", "2020-02-09 08:38:59.941946"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6c0d5573-20b3-4825-beeb-d00f3cb0ace5) to Async(default) with arguments: #<GlobalID:0x00007fe7a4304600 @uri=#<URI::GID gid://chat-app/ChatMessage/90>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 90], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c0d5573-20b3-4825-beeb-d00f3cb0ace5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6c0d5573-20b3-4825-beeb-d00f3cb0ace5) from Async(default) enqueued at 2020-02-09T08:38:59Z with arguments: #<GlobalID:0x00007fe7a92d2f38 @uri=#<URI::GID gid://chat-app/ChatMessage/90>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c0d5573-20b3-4825-beeb-d00f3cb0ace5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c0d5573-20b3-4825-beeb-d00f3cb0ace5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c0d5573-20b3-4825-beeb-d00f3cb0ace5] [ActionCable] Broadcasting to chat_channel: {:id=>90, :created_at=>"08:38", :content=>"hey john!", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c0d5573-20b3-4825-beeb-d00f3cb0ace5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6c0d5573-20b3-4825-beeb-d00f3cb0ace5) from Async(default) in 0.95ms
ChatChannel transmitting {"id"=>90, "created_at"=>"08:38", "content"=>"hey john!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>90, "created_at"=>"08:38", "content"=>"hey john!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Nolan! Where've you been?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Nolan! Where've you been?"], ["created_at", "2020-02-09 08:40:15.823588"], ["updated_at", "2020-02-09 08:40:15.823588"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1434ace8-a6de-46df-9c48-73b844e92028) to Async(default) with arguments: #<GlobalID:0x00007fe7a41ae198 @uri=#<URI::GID gid://chat-app/ChatMessage/91>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 91], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1434ace8-a6de-46df-9c48-73b844e92028] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1434ace8-a6de-46df-9c48-73b844e92028) from Async(default) enqueued at 2020-02-09T08:40:15Z with arguments: #<GlobalID:0x00007fe7a41ff7f0 @uri=#<URI::GID gid://chat-app/ChatMessage/91>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1434ace8-a6de-46df-9c48-73b844e92028]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1434ace8-a6de-46df-9c48-73b844e92028]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1434ace8-a6de-46df-9c48-73b844e92028] [ActionCable] Broadcasting to chat_channel: {:id=>91, :created_at=>"08:40", :content=>"Nolan! Where've you been?", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1434ace8-a6de-46df-9c48-73b844e92028] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1434ace8-a6de-46df-9c48-73b844e92028) from Async(default) in 1.07ms
ChatChannel transmitting {"id"=>91, "created_at"=>"08:40", "content"=>"Nolan! Where've you been?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>91, "created_at"=>"08:40", "content"=>"Nolan! Where've you been?", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:44:04 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:44:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:44:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 03:50:17 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 03:50:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 03:50:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 05:51:08 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 05:51:08 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 05:51:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 05:51:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 05:51:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 05:51:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 05:51:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 05:52:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 05:52:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 06:57:51 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 06:57:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 06:57:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (2.2ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-09 16:09:04.756238"], ["updated_at", "2020-02-09 16:09:04.756238"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4399ad65-8248-4ef1-aedb-a094c4a7c132) to Async(default) with arguments: #<GlobalID:0x00007fe7a544ca98 @uri=#<URI::GID gid://chat-app/ChatMessage/92>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4399ad65-8248-4ef1-aedb-a094c4a7c132] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4399ad65-8248-4ef1-aedb-a094c4a7c132) from Async(default) enqueued at 2020-02-09T16:09:04Z with arguments: #<GlobalID:0x00007fe7a9188fb0 @uri=#<URI::GID gid://chat-app/ChatMessage/92>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4399ad65-8248-4ef1-aedb-a094c4a7c132]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4399ad65-8248-4ef1-aedb-a094c4a7c132]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4399ad65-8248-4ef1-aedb-a094c4a7c132] [ActionCable] Broadcasting to chat_channel: {:id=>92, :created_at=>"16:09", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>92, "created_at"=>"16:09", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4399ad65-8248-4ef1-aedb-a094c4a7c132] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4399ad65-8248-4ef1-aedb-a094c4a7c132) from Async(default) in 1.41ms
ChatChannel transmitting {"id"=>92, "created_at"=>"16:09", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:12:19 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:12:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:12:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:15:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:15:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:15:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:15:45 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:15:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:15:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:17 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:18:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:22 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:18:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:33 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:18:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:36 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:18:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:18:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:02 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:02 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:20:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:40 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:20:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:54 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:20:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:20:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 11:21:12 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 11:21:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 11:21:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-09 12:21:28 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1078ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 8703)


Started GET "/cable" for ::1 at 2020-02-09 12:21:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 12:21:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-09 12:21:33 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1069ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2400)


Started GET "/cable" for ::1 at 2020-02-09 12:21:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 12:21:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"Hey!", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey!"], ["created_at", "2020-02-09 17:21:39.971965"], ["updated_at", "2020-02-09 17:21:39.971965"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5b2a4026-7531-40c8-9e86-399f59b86e14) to Async(default) with arguments: #<GlobalID:0x00007f9e738183a0 @uri=#<URI::GID gid://chat-app/ChatMessage/93>>
  [1m[36mChatMessage Load (0.4ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5b2a4026-7531-40c8-9e86-399f59b86e14] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5b2a4026-7531-40c8-9e86-399f59b86e14) from Async(default) enqueued at 2020-02-09T17:21:40Z with arguments: #<GlobalID:0x00007f9e6eb0e050 @uri=#<URI::GID gid://chat-app/ChatMessage/93>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5b2a4026-7531-40c8-9e86-399f59b86e14]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5b2a4026-7531-40c8-9e86-399f59b86e14]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5b2a4026-7531-40c8-9e86-399f59b86e14] [ActionCable] Broadcasting to chat_channel: {:id=>93, :created_at=>"17:21", :content=>"Hey!", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5b2a4026-7531-40c8-9e86-399f59b86e14] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5b2a4026-7531-40c8-9e86-399f59b86e14) from Async(default) in 7.84ms
ChatChannel transmitting {"id"=>93, "created_at"=>"17:21", "content"=>"Hey!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>93, "created_at"=>"17:21", "content"=>"Hey!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Oh wow it works!", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Oh wow it works!"], ["created_at", "2020-02-09 17:21:45.722516"], ["updated_at", "2020-02-09 17:21:45.722516"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7914647f-6903-4bb5-bbd1-af610c37e635) to Async(default) with arguments: #<GlobalID:0x00007f9e6ee9c348 @uri=#<URI::GID gid://chat-app/ChatMessage/94>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7914647f-6903-4bb5-bbd1-af610c37e635] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7914647f-6903-4bb5-bbd1-af610c37e635) from Async(default) enqueued at 2020-02-09T17:21:45Z with arguments: #<GlobalID:0x00007f9e6d9fc140 @uri=#<URI::GID gid://chat-app/ChatMessage/94>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7914647f-6903-4bb5-bbd1-af610c37e635]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7914647f-6903-4bb5-bbd1-af610c37e635]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7914647f-6903-4bb5-bbd1-af610c37e635] [ActionCable] Broadcasting to chat_channel: {:id=>94, :created_at=>"17:21", :content=>"Oh wow it works!", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7914647f-6903-4bb5-bbd1-af610c37e635] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7914647f-6903-4bb5-bbd1-af610c37e635) from Async(default) in 2.47ms
ChatChannel transmitting {"id"=>94, "created_at"=>"17:21", "content"=>"Oh wow it works!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>94, "created_at"=>"17:21", "content"=>"Oh wow it works!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey Nolan, sup", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey Nolan, sup"], ["created_at", "2020-02-09 17:48:33.414707"], ["updated_at", "2020-02-09 17:48:33.414707"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 09a1a048-8699-42d0-bc49-1807dcbbd1c3) to Async(default) with arguments: #<GlobalID:0x00007f9e6ef0c008 @uri=#<URI::GID gid://chat-app/ChatMessage/95>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [09a1a048-8699-42d0-bc49-1807dcbbd1c3] Performing ChatMessageCreationEventBroadcastJob (Job ID: 09a1a048-8699-42d0-bc49-1807dcbbd1c3) from Async(default) enqueued at 2020-02-09T17:48:33Z with arguments: #<GlobalID:0x00007f9e6e191450 @uri=#<URI::GID gid://chat-app/ChatMessage/95>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [09a1a048-8699-42d0-bc49-1807dcbbd1c3]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [09a1a048-8699-42d0-bc49-1807dcbbd1c3]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [09a1a048-8699-42d0-bc49-1807dcbbd1c3] [ActionCable] Broadcasting to chat_channel: {:id=>95, :created_at=>"17:48", :content=>"hey Nolan, sup", :name=>"john"}
ChatChannel transmitting {"id"=>95, "created_at"=>"17:48", "content"=>"hey Nolan, sup", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [09a1a048-8699-42d0-bc49-1807dcbbd1c3] Performed ChatMessageCreationEventBroadcastJob (Job ID: 09a1a048-8699-42d0-bc49-1807dcbbd1c3) from Async(default) in 1.02ms
ChatChannel transmitting {"id"=>95, "created_at"=>"17:48", "content"=>"hey Nolan, sup", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo jawn", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo jawn"], ["created_at", "2020-02-09 17:48:51.031900"], ["updated_at", "2020-02-09 17:48:51.031900"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: bb5cd270-0f22-4860-9c8b-3f805c8bb1e5) to Async(default) with arguments: #<GlobalID:0x00007f9e6da31e80 @uri=#<URI::GID gid://chat-app/ChatMessage/96>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 96], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb5cd270-0f22-4860-9c8b-3f805c8bb1e5] Performing ChatMessageCreationEventBroadcastJob (Job ID: bb5cd270-0f22-4860-9c8b-3f805c8bb1e5) from Async(default) enqueued at 2020-02-09T17:48:51Z with arguments: #<GlobalID:0x00007f9e6e1cac78 @uri=#<URI::GID gid://chat-app/ChatMessage/96>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb5cd270-0f22-4860-9c8b-3f805c8bb1e5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb5cd270-0f22-4860-9c8b-3f805c8bb1e5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb5cd270-0f22-4860-9c8b-3f805c8bb1e5] [ActionCable] Broadcasting to chat_channel: {:id=>96, :created_at=>"17:48", :content=>"yo jawn", :name=>"nolan"}
ChatChannel transmitting {"id"=>96, "created_at"=>"17:48", "content"=>"yo jawn", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>96, "created_at"=>"17:48", "content"=>"yo jawn", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [bb5cd270-0f22-4860-9c8b-3f805c8bb1e5] Performed ChatMessageCreationEventBroadcastJob (Job ID: bb5cd270-0f22-4860-9c8b-3f805c8bb1e5) from Async(default) in 1.03ms
Started POST "/auth/login" for ::1 at 2020-02-09 19:05:38 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1075ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 8700)


Started GET "/cable" for ::1 at 2020-02-09 19:05:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:05:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:05:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:05:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:06:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:06:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:07:40 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:07:40 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:07:53 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:07:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:08:52 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:08:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:08:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:09:06 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:09:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:09:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:09:09 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:09:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:09:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:09:52 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:09:53 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:09:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:13:02 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:13:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:13:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 19:13:33 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 19:13:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 19:13:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:30:24 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:30:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:30:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:30:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (1.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 01:30:52.756188"], ["updated_at", "2020-02-10 01:30:52.756188"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9439d858-c1f2-455b-960b-16d355213f1e) to Async(default) with arguments: #<GlobalID:0x00007fe0ff589160 @uri=#<URI::GID gid://chat-app/ChatMessage/97>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 97], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9439d858-c1f2-455b-960b-16d355213f1e] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9439d858-c1f2-455b-960b-16d355213f1e) from Async(default) enqueued at 2020-02-10T01:30:52Z with arguments: #<GlobalID:0x00007fe0fe168370 @uri=#<URI::GID gid://chat-app/ChatMessage/97>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9439d858-c1f2-455b-960b-16d355213f1e]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9439d858-c1f2-455b-960b-16d355213f1e]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9439d858-c1f2-455b-960b-16d355213f1e] [ActionCable] Broadcasting to chat_channel: {:id=>97, :created_at=>"01:30", :content=>"hi", :name=>"nolan"}
ChatChannel transmitting {"id"=>97, "created_at"=>"01:30", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9439d858-c1f2-455b-960b-16d355213f1e] Performed ChatMessageCreationEventBroadcastJob (Job ID: 9439d858-c1f2-455b-960b-16d355213f1e) from Async(default) in 14.72ms
ChatChannel transmitting {"id"=>97, "created_at"=>"01:30", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-09 20:31:23 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1059ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2778)


Started GET "/cable" for ::1 at 2020-02-09 20:31:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:31:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:32:46 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:32:46 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:32:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:32:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:10 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:33:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:21 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:33:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:34 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:33:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:54 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:33:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:33:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 20:34:03 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel#create({"content"=>"Hey", "created_by"=>1})
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-10 01:34:19.513522"], ["updated_at", "2020-02-10 01:34:19.513522"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d5cb74ba-3781-4108-969a-da1c640443c0) to Async(default) with arguments: #<GlobalID:0x00007fe0ffb8d048 @uri=#<URI::GID gid://chat-app/ChatMessage/98>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 98], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d5cb74ba-3781-4108-969a-da1c640443c0] Performing ChatMessageCreationEventBroadcastJob (Job ID: d5cb74ba-3781-4108-969a-da1c640443c0) from Async(default) enqueued at 2020-02-10T01:34:19Z with arguments: #<GlobalID:0x00007fe0ffbb72f8 @uri=#<URI::GID gid://chat-app/ChatMessage/98>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d5cb74ba-3781-4108-969a-da1c640443c0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d5cb74ba-3781-4108-969a-da1c640443c0]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d5cb74ba-3781-4108-969a-da1c640443c0] [ActionCable] Broadcasting to chat_channel: {:id=>98, :created_at=>"01:34", :content=>"Hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d5cb74ba-3781-4108-969a-da1c640443c0] Performed ChatMessageCreationEventBroadcastJob (Job ID: d5cb74ba-3781-4108-969a-da1c640443c0) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>98, "created_at"=>"01:34", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-09 20:38:39 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1055ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 10609)


Started GET "/cable" for ::1 at 2020-02-09 20:38:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:38:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from current_user has connected
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 20:38:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 20:38:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from chat_channel
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from current_user has connected
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIsOnlineToUser (20200210014552)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "is_online" boolean[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200210014552"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2020-02-09 21:02:16 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 21:02:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\",\"userId\":1}"}) [ArgumentError - wrong number of arguments (given 0, expected 1)]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:11:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started GET "/cable" for ::1 at 2020-02-09 21:03:20 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 21:03:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-09 21:06:17 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-09 21:06:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 21:06:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"ji", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ji"], ["created_at", "2020-02-10 02:06:27.026659"], ["updated_at", "2020-02-10 02:06:27.026659"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:18:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:18:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4ea8cea2-774a-40d8-983c-9af0de672c28) to Async(default) with arguments: #<GlobalID:0x00007fa246817ca8 @uri=#<URI::GID gid://chat-app/ChatMessage/99>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4ea8cea2-774a-40d8-983c-9af0de672c28] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4ea8cea2-774a-40d8-983c-9af0de672c28) from Async(default) enqueued at 2020-02-10T02:06:27Z with arguments: #<GlobalID:0x00007fa2468d6dd8 @uri=#<URI::GID gid://chat-app/ChatMessage/99>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4ea8cea2-774a-40d8-983c-9af0de672c28]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4ea8cea2-774a-40d8-983c-9af0de672c28]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4ea8cea2-774a-40d8-983c-9af0de672c28] [ActionCable] Broadcasting to chat_channel: {:id=>99, :created_at=>"02:06", :content=>"ji", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4ea8cea2-774a-40d8-983c-9af0de672c28] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4ea8cea2-774a-40d8-983c-9af0de672c28) from Async(default) in 35.91ms
ChatChannel transmitting {"id"=>99, "created_at"=>"02:06", "content"=>"ji", "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-09 21:06:45 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 2771)


Started GET "/cable" for ::1 at 2020-02-09 21:06:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-09 21:06:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 09:47:54 -0500
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 09:47:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 09:47:54 -0500
Started GET "/cable" for ::1 at 2020-02-10 09:47:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 09:47:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from chat_channel
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NameError - undefined local variable or method `current_user' for #<ChatChannel:0x00007fa882afd818>]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started POST "/auth/login" for ::1 at 2020-02-10 09:48:17 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1058ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 9495)


Started GET "/cable" for ::1 at 2020-02-10 09:48:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 09:48:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from chat_channel
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NameError - undefined local variable or method `current_user' for #<ChatChannel:0x00007fa8823b2fb8>]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:25:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 14:48:25.450918"], ["updated_at", "2020-02-10 14:48:25.450918"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:25:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:25:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a72ed12a-6994-4e30-b1df-17f1713016dc) to Async(default) with arguments: #<GlobalID:0x00007fa8834574e0 @uri=#<URI::GID gid://chat-app/ChatMessage/100>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a72ed12a-6994-4e30-b1df-17f1713016dc] Performing ChatMessageCreationEventBroadcastJob (Job ID: a72ed12a-6994-4e30-b1df-17f1713016dc) from Async(default) enqueued at 2020-02-10T14:48:25Z with arguments: #<GlobalID:0x00007fa88242e8e8 @uri=#<URI::GID gid://chat-app/ChatMessage/100>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a72ed12a-6994-4e30-b1df-17f1713016dc]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a72ed12a-6994-4e30-b1df-17f1713016dc]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a72ed12a-6994-4e30-b1df-17f1713016dc] [ActionCable] Broadcasting to chat_channel: {:id=>100, :created_at=>"14:48", :content=>"hi", :name=>"nolan"}
ChatChannel transmitting {"id"=>100, "created_at"=>"14:48", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a72ed12a-6994-4e30-b1df-17f1713016dc] Performed ChatMessageCreationEventBroadcastJob (Job ID: a72ed12a-6994-4e30-b1df-17f1713016dc) from Async(default) in 4.24ms
ChatChannel transmitting {"id"=>100, "created_at"=>"14:48", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:25:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 14:48:38.350275"], ["updated_at", "2020-02-10 14:48:38.350275"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:25:in `create'
  [1m[35m (68.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:25:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 81af82bf-3cbf-474d-afc6-54f0164e9ae4) to Async(default) with arguments: #<GlobalID:0x00007fa882a4ae20 @uri=#<URI::GID gid://chat-app/ChatMessage/101>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81af82bf-3cbf-474d-afc6-54f0164e9ae4] Performing ChatMessageCreationEventBroadcastJob (Job ID: 81af82bf-3cbf-474d-afc6-54f0164e9ae4) from Async(default) enqueued at 2020-02-10T14:48:38Z with arguments: #<GlobalID:0x00007fa882255ee0 @uri=#<URI::GID gid://chat-app/ChatMessage/101>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81af82bf-3cbf-474d-afc6-54f0164e9ae4]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81af82bf-3cbf-474d-afc6-54f0164e9ae4]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81af82bf-3cbf-474d-afc6-54f0164e9ae4] [ActionCable] Broadcasting to chat_channel: {:id=>101, :created_at=>"14:48", :content=>"hi", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81af82bf-3cbf-474d-afc6-54f0164e9ae4] Performed ChatMessageCreationEventBroadcastJob (Job ID: 81af82bf-3cbf-474d-afc6-54f0164e9ae4) from Async(default) in 1.27ms
ChatChannel transmitting {"id"=>101, "created_at"=>"14:48", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>101, "created_at"=>"14:48", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 09:54:05 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 09:54:05 -0500
There was an exception - NameError(undefined local variable or method `current_user' for #<ChatChannel:0x00007fa8823b2fb8>)
There was an exception - NameError(undefined local variable or method `current_user' for #<ChatChannel:0x00007fa882afd818>)
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:21:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 09:54:05 -0500
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:21:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 09:54:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from chat_channel
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NameError - undefined local variable or method `current_user' for #<ChatChannel:0x00007fa882c15700>]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started POST "/auth/login" for ::1 at 2020-02-10 09:57:34 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1021ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 8472)


Started GET "/cable" for ::1 at 2020-02-10 09:57:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 09:57:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for :current_user:Symbol]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 09:57:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 09:57:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for :current_user:Symbol]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:06:25 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:06:25 -0500
There was an exception - NoMethodError(undefined method `disappear' for :current_user:Symbol)
There was an exception - NoMethodError(undefined method `disappear' for :current_user:Symbol)
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:21:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:21:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 10:06:25 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:06:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:06:53 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:06:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:06:55 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:06:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:06:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:08:40 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:08:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:08:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:10:04 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:10:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:10:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:15:23 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:15:23 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:15:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 10:15:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1023ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 9697)


Started GET "/cable" for ::1 at 2020-02-10 10:15:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:15:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:26:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 15:15:51.926072"], ["updated_at", "2020-02-10 15:15:51.926072"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:26:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:26:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7db39c8b-7192-4701-91f6-528804a14e5e) to Async(default) with arguments: #<GlobalID:0x00007f863c57e198 @uri=#<URI::GID gid://chat-app/ChatMessage/102>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 102], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7db39c8b-7192-4701-91f6-528804a14e5e] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7db39c8b-7192-4701-91f6-528804a14e5e) from Async(default) enqueued at 2020-02-10T15:15:51Z with arguments: #<GlobalID:0x00007f863c5cc050 @uri=#<URI::GID gid://chat-app/ChatMessage/102>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7db39c8b-7192-4701-91f6-528804a14e5e]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7db39c8b-7192-4701-91f6-528804a14e5e]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7db39c8b-7192-4701-91f6-528804a14e5e] [ActionCable] Broadcasting to chat_channel: {:id=>102, :created_at=>"15:15", :content=>"hi", :name=>"nolan"}
ChatChannel transmitting {"id"=>102, "created_at"=>"15:15", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7db39c8b-7192-4701-91f6-528804a14e5e] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7db39c8b-7192-4701-91f6-528804a14e5e) from Async(default) in 2.71ms
ChatChannel transmitting {"id"=>102, "created_at"=>"15:15", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 10:18:19 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 11032)


Started GET "/cable" for ::1 at 2020-02-10 10:18:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:18:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:18:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:18:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:18:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:18:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:19:55 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:19:55 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:19:55 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:19:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:19:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:27:28 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:27:28 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:27:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":1,\"action\":\"appear\"}"}) [NoMethodError - undefined method `id' for {"userId"=>1, "action"=>"appear"}:Hash]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `appear' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:182:in `instrument'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:31:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:31:41 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:31:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":1,\"action\":\"appear\"}"}) [NoMethodError - undefined method `userId' for {"userId"=>1, "action"=>"appear"}:Hash]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:19:in `appear' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:182:in `instrument'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:32:26 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:32:26 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:32:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:33:32 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:33:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:33:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:34:40 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:34:40 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:34:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:37:07 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:37:08 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:37:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:38:45 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:38:45 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:38:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hay", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hay"], ["created_at", "2020-02-10 15:39:51.170072"], ["updated_at", "2020-02-10 15:39:51.170072"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 903f3d4f-3ece-459e-adfe-e97b141f3235) to Async(default) with arguments: #<GlobalID:0x00007f863c6db6a8 @uri=#<URI::GID gid://chat-app/ChatMessage/103>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 103], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [903f3d4f-3ece-459e-adfe-e97b141f3235] Performing ChatMessageCreationEventBroadcastJob (Job ID: 903f3d4f-3ece-459e-adfe-e97b141f3235) from Async(default) enqueued at 2020-02-10T15:39:51Z with arguments: #<GlobalID:0x00007f863c6f0df0 @uri=#<URI::GID gid://chat-app/ChatMessage/103>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [903f3d4f-3ece-459e-adfe-e97b141f3235]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [903f3d4f-3ece-459e-adfe-e97b141f3235]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [903f3d4f-3ece-459e-adfe-e97b141f3235] [ActionCable] Broadcasting to chat_channel: {:id=>103, :created_at=>"15:39", :content=>"hay", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [903f3d4f-3ece-459e-adfe-e97b141f3235] Performed ChatMessageCreationEventBroadcastJob (Job ID: 903f3d4f-3ece-459e-adfe-e97b141f3235) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>103, "created_at"=>"15:39", "content"=>"hay", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:46:22 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:46:22 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:46:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:47:52 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:47:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:47:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:47:59 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:48:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:48:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:48:47 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:48:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:48:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:49:12 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:49:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:49:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:49:55 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:49:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:49:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 10:50:07 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1011ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2680)


Started GET "/cable" for ::1 at 2020-02-10 10:50:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:50:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 15:50:08.846114"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:50:37 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:50:37 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:50:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:50:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 10:50:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:50:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1} (via streamed from chat_channel)
ChatChannel#create({"content"=>"How's it going?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "How's it going?"], ["created_at", "2020-02-10 15:50:42.715305"], ["updated_at", "2020-02-10 15:50:42.715305"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 510aa8f5-ecd3-4a00-934c-862c27165247) to Async(default) with arguments: #<GlobalID:0x00007f863b3853d8 @uri=#<URI::GID gid://chat-app/ChatMessage/104>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 104], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [510aa8f5-ecd3-4a00-934c-862c27165247] Performing ChatMessageCreationEventBroadcastJob (Job ID: 510aa8f5-ecd3-4a00-934c-862c27165247) from Async(default) enqueued at 2020-02-10T15:50:42Z with arguments: #<GlobalID:0x00007f863c7214f0 @uri=#<URI::GID gid://chat-app/ChatMessage/104>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [510aa8f5-ecd3-4a00-934c-862c27165247]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [510aa8f5-ecd3-4a00-934c-862c27165247]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [510aa8f5-ecd3-4a00-934c-862c27165247] [ActionCable] Broadcasting to chat_channel: {:id=>104, :created_at=>"15:50", :content=>"How's it going?", :name=>"nolan"}
ChatChannel transmitting {"id"=>104, "created_at"=>"15:50", "content"=>"How's it going?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>104, "created_at"=>"15:50", "content"=>"How's it going?", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [510aa8f5-ecd3-4a00-934c-862c27165247] Performed ChatMessageCreationEventBroadcastJob (Job ID: 510aa8f5-ecd3-4a00-934c-862c27165247) from Async(default) in 0.93ms
ChatChannel#create({"content"=>"It's going..", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "It's going.."], ["created_at", "2020-02-10 15:50:55.766190"], ["updated_at", "2020-02-10 15:50:55.766190"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9776fc93-346e-4a2d-acba-199c8706f3a6) to Async(default) with arguments: #<GlobalID:0x00007f863a9978f8 @uri=#<URI::GID gid://chat-app/ChatMessage/105>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 105], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9776fc93-346e-4a2d-acba-199c8706f3a6] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9776fc93-346e-4a2d-acba-199c8706f3a6) from Async(default) enqueued at 2020-02-10T15:50:55Z with arguments: #<GlobalID:0x00007f863a470f50 @uri=#<URI::GID gid://chat-app/ChatMessage/105>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9776fc93-346e-4a2d-acba-199c8706f3a6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9776fc93-346e-4a2d-acba-199c8706f3a6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9776fc93-346e-4a2d-acba-199c8706f3a6] [ActionCable] Broadcasting to chat_channel: {:id=>105, :created_at=>"15:50", :content=>"It's going..", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9776fc93-346e-4a2d-acba-199c8706f3a6] Performed ChatMessageCreationEventBroadcastJob (Job ID: 9776fc93-346e-4a2d-acba-199c8706f3a6) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>105, "created_at"=>"15:50", "content"=>"It's going..", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>105, "created_at"=>"15:50", "content"=>"It's going..", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:53:13 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:53:13 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:53:13 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:53:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (6.9ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 10:53:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1023ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2691)


Started GET "/cable" for ::1 at 2020-02-10 10:53:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:53:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"HEY", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "HEY"], ["created_at", "2020-02-10 15:53:27.556094"], ["updated_at", "2020-02-10 15:53:27.556094"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 27e29105-5f32-4859-aa95-1221e6698299) to Async(default) with arguments: #<GlobalID:0x00007f863c758dd8 @uri=#<URI::GID gid://chat-app/ChatMessage/106>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 106], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27e29105-5f32-4859-aa95-1221e6698299] Performing ChatMessageCreationEventBroadcastJob (Job ID: 27e29105-5f32-4859-aa95-1221e6698299) from Async(default) enqueued at 2020-02-10T15:53:27Z with arguments: #<GlobalID:0x00007f863b365100 @uri=#<URI::GID gid://chat-app/ChatMessage/106>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27e29105-5f32-4859-aa95-1221e6698299]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27e29105-5f32-4859-aa95-1221e6698299]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27e29105-5f32-4859-aa95-1221e6698299] [ActionCable] Broadcasting to chat_channel: {:id=>106, :created_at=>"15:53", :content=>"HEY", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27e29105-5f32-4859-aa95-1221e6698299] Performed ChatMessageCreationEventBroadcastJob (Job ID: 27e29105-5f32-4859-aa95-1221e6698299) from Async(default) in 1.0ms
ChatChannel transmitting {"id"=>106, "created_at"=>"15:53", "content"=>"HEY", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>106, "created_at"=>"15:53", "content"=>"HEY", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"OMFG", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "OMFG"], ["created_at", "2020-02-10 15:53:31.822006"], ["updated_at", "2020-02-10 15:53:31.822006"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 06348aad-fffa-4d33-b1fb-a7c5de9eb1ef) to Async(default) with arguments: #<GlobalID:0x00007f863d8552f8 @uri=#<URI::GID gid://chat-app/ChatMessage/107>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 107], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06348aad-fffa-4d33-b1fb-a7c5de9eb1ef] Performing ChatMessageCreationEventBroadcastJob (Job ID: 06348aad-fffa-4d33-b1fb-a7c5de9eb1ef) from Async(default) enqueued at 2020-02-10T15:53:31Z with arguments: #<GlobalID:0x00007f863ac825b8 @uri=#<URI::GID gid://chat-app/ChatMessage/107>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06348aad-fffa-4d33-b1fb-a7c5de9eb1ef]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06348aad-fffa-4d33-b1fb-a7c5de9eb1ef]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06348aad-fffa-4d33-b1fb-a7c5de9eb1ef] [ActionCable] Broadcasting to chat_channel: {:id=>107, :created_at=>"15:53", :content=>"OMFG", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06348aad-fffa-4d33-b1fb-a7c5de9eb1ef] Performed ChatMessageCreationEventBroadcastJob (Job ID: 06348aad-fffa-4d33-b1fb-a7c5de9eb1ef) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>107, "created_at"=>"15:53", "content"=>"OMFG", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>107, "created_at"=>"15:53", "content"=>"OMFG", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:54:24 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:54:24 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 10:55:47 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1022ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 10809)


Started GET "/cable" for ::1 at 2020-02-10 10:55:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:55:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 10:55:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 10:55:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:55:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hello?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hello?"], ["created_at", "2020-02-10 15:56:03.704246"], ["updated_at", "2020-02-10 15:56:03.704246"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: baff7399-6032-4252-805a-717d7e21822e) to Async(default) with arguments: #<GlobalID:0x00007f863b3450d0 @uri=#<URI::GID gid://chat-app/ChatMessage/108>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 108], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [baff7399-6032-4252-805a-717d7e21822e] Performing ChatMessageCreationEventBroadcastJob (Job ID: baff7399-6032-4252-805a-717d7e21822e) from Async(default) enqueued at 2020-02-10T15:56:03Z with arguments: #<GlobalID:0x00007f863a5fea98 @uri=#<URI::GID gid://chat-app/ChatMessage/108>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [baff7399-6032-4252-805a-717d7e21822e]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [baff7399-6032-4252-805a-717d7e21822e]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [baff7399-6032-4252-805a-717d7e21822e] [ActionCable] Broadcasting to chat_channel: {:id=>108, :created_at=>"15:56", :content=>"hello?", :name=>"john"}
ChatChannel transmitting {"id"=>108, "created_at"=>"15:56", "content"=>"hello?", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [baff7399-6032-4252-805a-717d7e21822e] Performed ChatMessageCreationEventBroadcastJob (Job ID: baff7399-6032-4252-805a-717d7e21822e) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>108, "created_at"=>"15:56", "content"=>"hello?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey john!", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey john!"], ["created_at", "2020-02-10 15:56:07.800516"], ["updated_at", "2020-02-10 15:56:07.800516"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2761e7e8-2bd9-4b2a-bd53-c15d3caef64e) to Async(default) with arguments: #<GlobalID:0x00007f863d83c758 @uri=#<URI::GID gid://chat-app/ChatMessage/109>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 109], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2761e7e8-2bd9-4b2a-bd53-c15d3caef64e] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2761e7e8-2bd9-4b2a-bd53-c15d3caef64e) from Async(default) enqueued at 2020-02-10T15:56:07Z with arguments: #<GlobalID:0x00007f863a65e8a8 @uri=#<URI::GID gid://chat-app/ChatMessage/109>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2761e7e8-2bd9-4b2a-bd53-c15d3caef64e]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2761e7e8-2bd9-4b2a-bd53-c15d3caef64e]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2761e7e8-2bd9-4b2a-bd53-c15d3caef64e] [ActionCable] Broadcasting to chat_channel: {:id=>109, :created_at=>"15:56", :content=>"Hey john!", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2761e7e8-2bd9-4b2a-bd53-c15d3caef64e] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2761e7e8-2bd9-4b2a-bd53-c15d3caef64e) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>109, "created_at"=>"15:56", "content"=>"Hey john!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>109, "created_at"=>"15:56", "content"=>"Hey john!", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 10:57:05 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 10:57:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 10:57:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 11:06:14 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 994ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-10 11:06:15 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:06:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 11:06:29 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 995ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2381)


Started GET "/cable" for ::1 at 2020-02-10 11:06:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:06:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey anyone there?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey anyone there?"], ["created_at", "2020-02-10 16:06:36.590523"], ["updated_at", "2020-02-10 16:06:36.590523"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5) to Async(default) with arguments: #<GlobalID:0x00007f863a65c788 @uri=#<URI::GID gid://chat-app/ChatMessage/110>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 110], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5] Performing ChatMessageCreationEventBroadcastJob (Job ID: dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5) from Async(default) enqueued at 2020-02-10T16:06:36Z with arguments: #<GlobalID:0x00007f863a66efc8 @uri=#<URI::GID gid://chat-app/ChatMessage/110>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5] [ActionCable] Broadcasting to chat_channel: {:id=>110, :created_at=>"16:06", :content=>"Hey anyone there?", :name=>"nolan"}
ChatChannel transmitting {"id"=>110, "created_at"=>"16:06", "content"=>"Hey anyone there?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>110, "created_at"=>"16:06", "content"=>"Hey anyone there?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>110, "created_at"=>"16:06", "content"=>"Hey anyone there?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>110, "created_at"=>"16:06", "content"=>"Hey anyone there?", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5] Performed ChatMessageCreationEventBroadcastJob (Job ID: dc7b1cf3-bff1-452b-b4c4-61f1febd3ce5) from Async(default) in 1.02ms
ChatChannel#create({"content"=>"Hey Nolan!", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey Nolan!"], ["created_at", "2020-02-10 16:06:42.079316"], ["updated_at", "2020-02-10 16:06:42.079316"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: be44557c-bb53-47cb-a9c7-2238d6ca6719) to Async(default) with arguments: #<GlobalID:0x00007f863b3b6848 @uri=#<URI::GID gid://chat-app/ChatMessage/111>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 111], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [be44557c-bb53-47cb-a9c7-2238d6ca6719] Performing ChatMessageCreationEventBroadcastJob (Job ID: be44557c-bb53-47cb-a9c7-2238d6ca6719) from Async(default) enqueued at 2020-02-10T16:06:42Z with arguments: #<GlobalID:0x00007f863acb3d98 @uri=#<URI::GID gid://chat-app/ChatMessage/111>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [be44557c-bb53-47cb-a9c7-2238d6ca6719]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [be44557c-bb53-47cb-a9c7-2238d6ca6719]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [be44557c-bb53-47cb-a9c7-2238d6ca6719] [ActionCable] Broadcasting to chat_channel: {:id=>111, :created_at=>"16:06", :content=>"Hey Nolan!", :name=>"john"}
ChatChannel transmitting {"id"=>111, "created_at"=>"16:06", "content"=>"Hey Nolan!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>111, "created_at"=>"16:06", "content"=>"Hey Nolan!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>111, "created_at"=>"16:06", "content"=>"Hey Nolan!", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [be44557c-bb53-47cb-a9c7-2238d6ca6719] Performed ChatMessageCreationEventBroadcastJob (Job ID: be44557c-bb53-47cb-a9c7-2238d6ca6719) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>111, "created_at"=>"16:06", "content"=>"Hey Nolan!", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:07:49 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:07:49 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 11:07:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:07:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 11:07:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:07:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:10:43 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:10:43 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 11:10:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:10:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 11:10:44 -0500
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:10:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 11:11:08 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 268ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 2675)


Started POST "/auth/login" for ::1 at 2020-02-10 11:11:13 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2407)


Started GET "/cable" for ::1 at 2020-02-10 11:11:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:11:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 11:11:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1016ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 11:11:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:11:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-10 16:11:24.853797"], ["updated_at", "2020-02-10 16:11:24.853797"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 084d6a40-282f-45fe-9a90-889e0d2d00a5) to Async(default) with arguments: #<GlobalID:0x00007f863b397f10 @uri=#<URI::GID gid://chat-app/ChatMessage/112>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 112], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [084d6a40-282f-45fe-9a90-889e0d2d00a5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 084d6a40-282f-45fe-9a90-889e0d2d00a5) from Async(default) enqueued at 2020-02-10T16:11:24Z with arguments: #<GlobalID:0x00007f863c782570 @uri=#<URI::GID gid://chat-app/ChatMessage/112>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [084d6a40-282f-45fe-9a90-889e0d2d00a5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [084d6a40-282f-45fe-9a90-889e0d2d00a5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [084d6a40-282f-45fe-9a90-889e0d2d00a5] [ActionCable] Broadcasting to chat_channel: {:id=>112, :created_at=>"16:11", :content=>"Hey", :name=>"nolan"}
ChatChannel transmitting {"id"=>112, "created_at"=>"16:11", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>112, "created_at"=>"16:11", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>112, "created_at"=>"16:11", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>112, "created_at"=>"16:11", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [084d6a40-282f-45fe-9a90-889e0d2d00a5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 084d6a40-282f-45fe-9a90-889e0d2d00a5) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>112, "created_at"=>"16:11", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>112, "created_at"=>"16:11", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Heyyy", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Heyyy"], ["created_at", "2020-02-10 16:11:28.702917"], ["updated_at", "2020-02-10 16:11:28.702917"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 06cf7795-d106-439d-adea-6dbc16506a53) to Async(default) with arguments: #<GlobalID:0x00007f863c2b23b0 @uri=#<URI::GID gid://chat-app/ChatMessage/113>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 113], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06cf7795-d106-439d-adea-6dbc16506a53] Performing ChatMessageCreationEventBroadcastJob (Job ID: 06cf7795-d106-439d-adea-6dbc16506a53) from Async(default) enqueued at 2020-02-10T16:11:28Z with arguments: #<GlobalID:0x00007f863c34b8f8 @uri=#<URI::GID gid://chat-app/ChatMessage/113>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06cf7795-d106-439d-adea-6dbc16506a53]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06cf7795-d106-439d-adea-6dbc16506a53]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06cf7795-d106-439d-adea-6dbc16506a53] [ActionCable] Broadcasting to chat_channel: {:id=>113, :created_at=>"16:11", :content=>"Heyyy", :name=>"john"}
ChatChannel transmitting {"id"=>113, "created_at"=>"16:11", "content"=>"Heyyy", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>113, "created_at"=>"16:11", "content"=>"Heyyy", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [06cf7795-d106-439d-adea-6dbc16506a53] Performed ChatMessageCreationEventBroadcastJob (Job ID: 06cf7795-d106-439d-adea-6dbc16506a53) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>113, "created_at"=>"16:11", "content"=>"Heyyy", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>113, "created_at"=>"16:11", "content"=>"Heyyy", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>113, "created_at"=>"16:11", "content"=>"Heyyy", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>113, "created_at"=>"16:11", "content"=>"Heyyy", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"what's up?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "what's up?"], ["created_at", "2020-02-10 16:15:31.270922"], ["updated_at", "2020-02-10 16:15:31.270922"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 72c90b88-3504-47cd-8fa8-a13d362ecf84) to Async(default) with arguments: #<GlobalID:0x00007f863c728a98 @uri=#<URI::GID gid://chat-app/ChatMessage/114>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 114], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [72c90b88-3504-47cd-8fa8-a13d362ecf84] Performing ChatMessageCreationEventBroadcastJob (Job ID: 72c90b88-3504-47cd-8fa8-a13d362ecf84) from Async(default) enqueued at 2020-02-10T16:15:31Z with arguments: #<GlobalID:0x00007f863a5f6258 @uri=#<URI::GID gid://chat-app/ChatMessage/114>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [72c90b88-3504-47cd-8fa8-a13d362ecf84]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [72c90b88-3504-47cd-8fa8-a13d362ecf84]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [72c90b88-3504-47cd-8fa8-a13d362ecf84] [ActionCable] Broadcasting to chat_channel: {:id=>114, :created_at=>"16:15", :content=>"what's up?", :name=>"john"}
ChatChannel transmitting {"id"=>114, "created_at"=>"16:15", "content"=>"what's up?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>114, "created_at"=>"16:15", "content"=>"what's up?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>114, "created_at"=>"16:15", "content"=>"what's up?", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [72c90b88-3504-47cd-8fa8-a13d362ecf84] Performed ChatMessageCreationEventBroadcastJob (Job ID: 72c90b88-3504-47cd-8fa8-a13d362ecf84) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>114, "created_at"=>"16:15", "content"=>"what's up?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>114, "created_at"=>"16:15", "content"=>"what's up?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>114, "created_at"=>"16:15", "content"=>"what's up?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey john", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey john"], ["created_at", "2020-02-10 16:15:34.789415"], ["updated_at", "2020-02-10 16:15:34.789415"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:31:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:31:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e18177a2-ed33-4865-9a28-5693e3afb627) to Async(default) with arguments: #<GlobalID:0x00007f863ac51788 @uri=#<URI::GID gid://chat-app/ChatMessage/115>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 115], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e18177a2-ed33-4865-9a28-5693e3afb627] Performing ChatMessageCreationEventBroadcastJob (Job ID: e18177a2-ed33-4865-9a28-5693e3afb627) from Async(default) enqueued at 2020-02-10T16:15:34Z with arguments: #<GlobalID:0x00007f863d847db0 @uri=#<URI::GID gid://chat-app/ChatMessage/115>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e18177a2-ed33-4865-9a28-5693e3afb627]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e18177a2-ed33-4865-9a28-5693e3afb627]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e18177a2-ed33-4865-9a28-5693e3afb627] [ActionCable] Broadcasting to chat_channel: {:id=>115, :created_at=>"16:15", :content=>"hey john", :name=>"nolan"}
ChatChannel transmitting {"id"=>115, "created_at"=>"16:15", "content"=>"hey john", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>115, "created_at"=>"16:15", "content"=>"hey john", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>115, "created_at"=>"16:15", "content"=>"hey john", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>115, "created_at"=>"16:15", "content"=>"hey john", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e18177a2-ed33-4865-9a28-5693e3afb627] Performed ChatMessageCreationEventBroadcastJob (Job ID: e18177a2-ed33-4865-9a28-5693e3afb627) from Async(default) in 0.98ms
ChatChannel transmitting {"id"=>115, "created_at"=>"16:15", "content"=>"hey john", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>115, "created_at"=>"16:15", "content"=>"hey john", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:36:59 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:36:59 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:36:59 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 11:36:59 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 11:36:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 11:48:48 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:02:40 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:02:40 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:02:40 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 12:02:46 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1012ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 8361)


Started GET "/cable" for ::1 at 2020-02-10 12:02:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:02:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:02:55 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2647)


Started GET "/cable" for ::1 at 2020-02-10 12:02:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:02:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey John", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey John"], ["created_at", "2020-02-10 17:03:01.881994"], ["updated_at", "2020-02-10 17:03:01.881994"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: fef2d48a-9e0c-4389-938a-c29042c300aa) to Async(default) with arguments: #<GlobalID:0x00007f863c47a580 @uri=#<URI::GID gid://chat-app/ChatMessage/116>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fef2d48a-9e0c-4389-938a-c29042c300aa] Performing ChatMessageCreationEventBroadcastJob (Job ID: fef2d48a-9e0c-4389-938a-c29042c300aa) from Async(default) enqueued at 2020-02-10T17:03:01Z with arguments: #<GlobalID:0x00007f863c4d6768 @uri=#<URI::GID gid://chat-app/ChatMessage/116>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fef2d48a-9e0c-4389-938a-c29042c300aa]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fef2d48a-9e0c-4389-938a-c29042c300aa]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fef2d48a-9e0c-4389-938a-c29042c300aa] [ActionCable] Broadcasting to chat_channel: {:id=>116, :created_at=>"17:03", :content=>"Hey John", :name=>"nolan"}
ChatChannel transmitting {"id"=>116, "created_at"=>"17:03", "content"=>"Hey John", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>116, "created_at"=>"17:03", "content"=>"Hey John", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fef2d48a-9e0c-4389-938a-c29042c300aa] Performed ChatMessageCreationEventBroadcastJob (Job ID: fef2d48a-9e0c-4389-938a-c29042c300aa) from Async(default) in 1.04ms
ChatChannel#create({"content"=>"Hey Nolan!", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey Nolan!"], ["created_at", "2020-02-10 17:03:05.813522"], ["updated_at", "2020-02-10 17:03:05.813522"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8fa4366c-74ca-48de-aa4c-9b3e8953e0fe) to Async(default) with arguments: #<GlobalID:0x00007f863b13d4b8 @uri=#<URI::GID gid://chat-app/ChatMessage/117>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8fa4366c-74ca-48de-aa4c-9b3e8953e0fe] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8fa4366c-74ca-48de-aa4c-9b3e8953e0fe) from Async(default) enqueued at 2020-02-10T17:03:05Z with arguments: #<GlobalID:0x00007f863b196478 @uri=#<URI::GID gid://chat-app/ChatMessage/117>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8fa4366c-74ca-48de-aa4c-9b3e8953e0fe]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8fa4366c-74ca-48de-aa4c-9b3e8953e0fe]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8fa4366c-74ca-48de-aa4c-9b3e8953e0fe] [ActionCable] Broadcasting to chat_channel: {:id=>117, :created_at=>"17:03", :content=>"Hey Nolan!", :name=>"john"}
ChatChannel transmitting {"id"=>117, "created_at"=>"17:03", "content"=>"Hey Nolan!", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8fa4366c-74ca-48de-aa4c-9b3e8953e0fe] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8fa4366c-74ca-48de-aa4c-9b3e8953e0fe) from Async(default) in 0.95ms
ChatChannel transmitting {"id"=>117, "created_at"=>"17:03", "content"=>"Hey Nolan!", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"I'm going to go ok?", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "I'm going to go ok?"], ["created_at", "2020-02-10 17:03:12.485271"], ["updated_at", "2020-02-10 17:03:12.485271"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cdc45e97-f093-4d0d-8880-dac8c8a3f7c2) to Async(default) with arguments: #<GlobalID:0x00007f863b27e278 @uri=#<URI::GID gid://chat-app/ChatMessage/118>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 118], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cdc45e97-f093-4d0d-8880-dac8c8a3f7c2] Performing ChatMessageCreationEventBroadcastJob (Job ID: cdc45e97-f093-4d0d-8880-dac8c8a3f7c2) from Async(default) enqueued at 2020-02-10T17:03:12Z with arguments: #<GlobalID:0x00007f863d81ed48 @uri=#<URI::GID gid://chat-app/ChatMessage/118>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cdc45e97-f093-4d0d-8880-dac8c8a3f7c2]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cdc45e97-f093-4d0d-8880-dac8c8a3f7c2]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cdc45e97-f093-4d0d-8880-dac8c8a3f7c2] [ActionCable] Broadcasting to chat_channel: {:id=>118, :created_at=>"17:03", :content=>"I'm going to go ok?", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cdc45e97-f093-4d0d-8880-dac8c8a3f7c2] Performed ChatMessageCreationEventBroadcastJob (Job ID: cdc45e97-f093-4d0d-8880-dac8c8a3f7c2) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>118, "created_at"=>"17:03", "content"=>"I'm going to go ok?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>118, "created_at"=>"17:03", "content"=>"I'm going to go ok?", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"wait!", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "wait!"], ["created_at", "2020-02-10 17:03:17.067720"], ["updated_at", "2020-02-10 17:03:17.067720"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 322b0833-7b5e-495e-8711-506ec6ecf273) to Async(default) with arguments: #<GlobalID:0x00007f863c657a10 @uri=#<URI::GID gid://chat-app/ChatMessage/119>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 119], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [322b0833-7b5e-495e-8711-506ec6ecf273] Performing ChatMessageCreationEventBroadcastJob (Job ID: 322b0833-7b5e-495e-8711-506ec6ecf273) from Async(default) enqueued at 2020-02-10T17:03:17Z with arguments: #<GlobalID:0x00007f863c6b0fe8 @uri=#<URI::GID gid://chat-app/ChatMessage/119>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [322b0833-7b5e-495e-8711-506ec6ecf273]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [322b0833-7b5e-495e-8711-506ec6ecf273]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [322b0833-7b5e-495e-8711-506ec6ecf273] [ActionCable] Broadcasting to chat_channel: {:id=>119, :created_at=>"17:03", :content=>"wait!", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [322b0833-7b5e-495e-8711-506ec6ecf273] Performed ChatMessageCreationEventBroadcastJob (Job ID: 322b0833-7b5e-495e-8711-506ec6ecf273) from Async(default) in 0.88ms
ChatChannel transmitting {"id"=>119, "created_at"=>"17:03", "content"=>"wait!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>119, "created_at"=>"17:03", "content"=>"wait!", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"na dog", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "na dog"], ["created_at", "2020-02-10 17:03:20.844133"], ["updated_at", "2020-02-10 17:03:20.844133"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b55f600b-b6de-4df1-b9a9-e829023e7544) to Async(default) with arguments: #<GlobalID:0x00007f863a59f390 @uri=#<URI::GID gid://chat-app/ChatMessage/120>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b55f600b-b6de-4df1-b9a9-e829023e7544] Performing ChatMessageCreationEventBroadcastJob (Job ID: b55f600b-b6de-4df1-b9a9-e829023e7544) from Async(default) enqueued at 2020-02-10T17:03:20Z with arguments: #<GlobalID:0x00007f863a5bc2d8 @uri=#<URI::GID gid://chat-app/ChatMessage/120>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b55f600b-b6de-4df1-b9a9-e829023e7544]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b55f600b-b6de-4df1-b9a9-e829023e7544]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b55f600b-b6de-4df1-b9a9-e829023e7544] [ActionCable] Broadcasting to chat_channel: {:id=>120, :created_at=>"17:03", :content=>"na dog", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b55f600b-b6de-4df1-b9a9-e829023e7544] Performed ChatMessageCreationEventBroadcastJob (Job ID: b55f600b-b6de-4df1-b9a9-e829023e7544) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>120, "created_at"=>"17:03", "content"=>"na dog", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>120, "created_at"=>"17:03", "content"=>"na dog", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:04:46 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:04:46 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:04:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:04:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:05:18 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1009ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 12:05:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:05:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:05:32 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:06:00 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:06:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:06:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:06:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1015ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 12:06:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:06:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:25:24 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:25:24 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:25:24 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:25:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:26:05 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 12:26:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1022ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-10 12:26:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:26:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:26:25 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1009ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 12:26:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:26:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 17:26:29.986533"], ["updated_at", "2020-02-10 17:26:29.986533"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623) to Async(default) with arguments: #<GlobalID:0x00007f863a549b48 @uri=#<URI::GID gid://chat-app/ChatMessage/121>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 121], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623) from Async(default) enqueued at 2020-02-10T17:26:29Z with arguments: #<GlobalID:0x00007f863c68b1f8 @uri=#<URI::GID gid://chat-app/ChatMessage/121>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623] [ActionCable] Broadcasting to chat_channel: {:id=>121, :created_at=>"17:26", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5be6f5f8-0b13-4cbd-bd07-f9c7d3f48623) from Async(default) in 1.05ms
ChatChannel transmitting {"id"=>121, "created_at"=>"17:26", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>121, "created_at"=>"17:26", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"fuck off john", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "fuck off john"], ["created_at", "2020-02-10 17:26:34.728745"], ["updated_at", "2020-02-10 17:26:34.728745"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dc92f12b-c5ee-47d1-8cad-2f4e728c1d41) to Async(default) with arguments: #<GlobalID:0x00007f863c6f8578 @uri=#<URI::GID gid://chat-app/ChatMessage/122>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 122], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc92f12b-c5ee-47d1-8cad-2f4e728c1d41] Performing ChatMessageCreationEventBroadcastJob (Job ID: dc92f12b-c5ee-47d1-8cad-2f4e728c1d41) from Async(default) enqueued at 2020-02-10T17:26:34Z with arguments: #<GlobalID:0x00007f863ac03a60 @uri=#<URI::GID gid://chat-app/ChatMessage/122>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc92f12b-c5ee-47d1-8cad-2f4e728c1d41]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc92f12b-c5ee-47d1-8cad-2f4e728c1d41]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc92f12b-c5ee-47d1-8cad-2f4e728c1d41] [ActionCable] Broadcasting to chat_channel: {:id=>122, :created_at=>"17:26", :content=>"fuck off john", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dc92f12b-c5ee-47d1-8cad-2f4e728c1d41] Performed ChatMessageCreationEventBroadcastJob (Job ID: dc92f12b-c5ee-47d1-8cad-2f4e728c1d41) from Async(default) in 0.95ms
ChatChannel transmitting {"id"=>122, "created_at"=>"17:26", "content"=>"fuck off john", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>122, "created_at"=>"17:26", "content"=>"fuck off john", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"bye then", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "bye then"], ["created_at", "2020-02-10 17:26:38.945802"], ["updated_at", "2020-02-10 17:26:38.945802"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:36:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c) to Async(default) with arguments: #<GlobalID:0x00007f863ac2bda8 @uri=#<URI::GID gid://chat-app/ChatMessage/123>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 123], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c] Performing ChatMessageCreationEventBroadcastJob (Job ID: b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c) from Async(default) enqueued at 2020-02-10T17:26:38Z with arguments: #<GlobalID:0x00007f863c72b450 @uri=#<URI::GID gid://chat-app/ChatMessage/123>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c] [ActionCable] Broadcasting to chat_channel: {:id=>123, :created_at=>"17:26", :content=>"bye then", :name=>"john"}
ChatChannel transmitting {"id"=>123, "created_at"=>"17:26", "content"=>"bye then", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c] Performed ChatMessageCreationEventBroadcastJob (Job ID: b2f0d9b5-0bb3-4666-a730-eeb1a3ea599c) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>123, "created_at"=>"17:26", "content"=>"bye then", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:29:19 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:31:56 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:31:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:32:04 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2680)


Started GET "/cable" for ::1 at 2020-02-10 12:32:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:32:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:32:05 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:32:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:32:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:32:49 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2743)


Started GET "/cable" for ::1 at 2020-02-10 12:32:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:32:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:32:50 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 12:33:05 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 12:33:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:06 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:21 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:33:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:23 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:33:23 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:28 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:33:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 17:33:32.369898"], ["updated_at", "2020-02-10 17:33:32.369898"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: ea2dd087-5832-468e-a0d2-d71ced3b2009) to Async(default) with arguments: #<GlobalID:0x00007f863abd1830 @uri=#<URI::GID gid://chat-app/ChatMessage/124>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 124], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ea2dd087-5832-468e-a0d2-d71ced3b2009] Performing ChatMessageCreationEventBroadcastJob (Job ID: ea2dd087-5832-468e-a0d2-d71ced3b2009) from Async(default) enqueued at 2020-02-10T17:33:32Z with arguments: #<GlobalID:0x00007f863a58e1a8 @uri=#<URI::GID gid://chat-app/ChatMessage/124>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ea2dd087-5832-468e-a0d2-d71ced3b2009]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ea2dd087-5832-468e-a0d2-d71ced3b2009]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ea2dd087-5832-468e-a0d2-d71ced3b2009] [ActionCable] Broadcasting to chat_channel: {:id=>124, :created_at=>"17:33", :content=>"hi", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ea2dd087-5832-468e-a0d2-d71ced3b2009] Performed ChatMessageCreationEventBroadcastJob (Job ID: ea2dd087-5832-468e-a0d2-d71ced3b2009) from Async(default) in 1.75ms
ChatChannel transmitting {"id"=>124, "created_at"=>"17:33", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>124, "created_at"=>"17:33", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:33 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:33:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 17:33:36.080349"], ["updated_at", "2020-02-10 17:33:36.080349"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6808d50f-03df-4ec0-ae2e-950c01c8f63d) to Async(default) with arguments: #<GlobalID:0x00007f863a6ac580 @uri=#<URI::GID gid://chat-app/ChatMessage/125>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 125], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6808d50f-03df-4ec0-ae2e-950c01c8f63d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6808d50f-03df-4ec0-ae2e-950c01c8f63d) from Async(default) enqueued at 2020-02-10T17:33:36Z with arguments: #<GlobalID:0x00007f863a8d4100 @uri=#<URI::GID gid://chat-app/ChatMessage/125>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6808d50f-03df-4ec0-ae2e-950c01c8f63d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6808d50f-03df-4ec0-ae2e-950c01c8f63d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6808d50f-03df-4ec0-ae2e-950c01c8f63d] [ActionCable] Broadcasting to chat_channel: {:id=>125, :created_at=>"17:33", :content=>"hi", :name=>"nolan"}
ChatChannel transmitting {"id"=>125, "created_at"=>"17:33", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6808d50f-03df-4ec0-ae2e-950c01c8f63d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6808d50f-03df-4ec0-ae2e-950c01c8f63d) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>125, "created_at"=>"17:33", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:37 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:33:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 17:33:41.655651"], ["updated_at", "2020-02-10 17:33:41.655651"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 56309eb6-6002-4a92-871d-2dc582ac9f47) to Async(default) with arguments: #<GlobalID:0x00007f863c4b47f8 @uri=#<URI::GID gid://chat-app/ChatMessage/126>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 126], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [56309eb6-6002-4a92-871d-2dc582ac9f47] Performing ChatMessageCreationEventBroadcastJob (Job ID: 56309eb6-6002-4a92-871d-2dc582ac9f47) from Async(default) enqueued at 2020-02-10T17:33:41Z with arguments: #<GlobalID:0x00007f863c504690 @uri=#<URI::GID gid://chat-app/ChatMessage/126>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [56309eb6-6002-4a92-871d-2dc582ac9f47]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [56309eb6-6002-4a92-871d-2dc582ac9f47]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [56309eb6-6002-4a92-871d-2dc582ac9f47] [ActionCable] Broadcasting to chat_channel: {:id=>126, :created_at=>"17:33", :content=>"hi", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [56309eb6-6002-4a92-871d-2dc582ac9f47] Performed ChatMessageCreationEventBroadcastJob (Job ID: 56309eb6-6002-4a92-871d-2dc582ac9f47) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>126, "created_at"=>"17:33", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>126, "created_at"=>"17:33", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:33:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:33:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:34:13.117624"], ["updated_at", "2020-02-10 17:34:13.117624"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:45:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:45:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4) to Async(default) with arguments: #<GlobalID:0x00007f863c660700 @uri=#<URI::GID gid://chat-app/ChatMessage/127>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 127], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4] Performing ChatMessageCreationEventBroadcastJob (Job ID: fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4) from Async(default) enqueued at 2020-02-10T17:34:13Z with arguments: #<GlobalID:0x00007f863c6c81c0 @uri=#<URI::GID gid://chat-app/ChatMessage/127>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4] [ActionCable] Broadcasting to chat_channel: {:id=>127, :created_at=>"17:34", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4] Performed ChatMessageCreationEventBroadcastJob (Job ID: fa9e1b8f-01cb-4dda-bcdd-2353f25f6ee4) from Async(default) in 10.03ms
Started GET "/cable" for ::1 at 2020-02-10 12:34:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:34:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:34:17.701182"], ["updated_at", "2020-02-10 17:34:17.701182"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dadab957-b801-4582-8c1a-f43b6268ebdb) to Async(default) with arguments: #<GlobalID:0x00007f863ac38440 @uri=#<URI::GID gid://chat-app/ChatMessage/128>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 128], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dadab957-b801-4582-8c1a-f43b6268ebdb] Performing ChatMessageCreationEventBroadcastJob (Job ID: dadab957-b801-4582-8c1a-f43b6268ebdb) from Async(default) enqueued at 2020-02-10T17:34:17Z with arguments: #<GlobalID:0x00007f863a615b30 @uri=#<URI::GID gid://chat-app/ChatMessage/128>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dadab957-b801-4582-8c1a-f43b6268ebdb]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dadab957-b801-4582-8c1a-f43b6268ebdb]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dadab957-b801-4582-8c1a-f43b6268ebdb] [ActionCable] Broadcasting to chat_channel: {:id=>128, :created_at=>"17:34", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dadab957-b801-4582-8c1a-f43b6268ebdb] Performed ChatMessageCreationEventBroadcastJob (Job ID: dadab957-b801-4582-8c1a-f43b6268ebdb) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>128, "created_at"=>"17:34", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 12:34:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:34:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:34:25 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:34:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:34:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:34:28.870029"], ["updated_at", "2020-02-10 17:34:28.870029"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 01abdb6e-1d41-4a93-bec2-ba4325fbc598) to Async(default) with arguments: #<GlobalID:0x00007f863b3a4260 @uri=#<URI::GID gid://chat-app/ChatMessage/129>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 129], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [01abdb6e-1d41-4a93-bec2-ba4325fbc598] Performing ChatMessageCreationEventBroadcastJob (Job ID: 01abdb6e-1d41-4a93-bec2-ba4325fbc598) from Async(default) enqueued at 2020-02-10T17:34:28Z with arguments: #<GlobalID:0x00007f863a69f3a8 @uri=#<URI::GID gid://chat-app/ChatMessage/129>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [01abdb6e-1d41-4a93-bec2-ba4325fbc598]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [01abdb6e-1d41-4a93-bec2-ba4325fbc598]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [01abdb6e-1d41-4a93-bec2-ba4325fbc598] [ActionCable] Broadcasting to chat_channel: {:id=>129, :created_at=>"17:34", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [01abdb6e-1d41-4a93-bec2-ba4325fbc598] Performed ChatMessageCreationEventBroadcastJob (Job ID: 01abdb6e-1d41-4a93-bec2-ba4325fbc598) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>129, "created_at"=>"17:34", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>129, "created_at"=>"17:34", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:34:33 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:34:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:34:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:34:36.397723"], ["updated_at", "2020-02-10 17:34:36.397723"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e64d5ff0-f5f4-47fa-bce1-16a15b7b017c) to Async(default) with arguments: #<GlobalID:0x00007f863c3d4900 @uri=#<URI::GID gid://chat-app/ChatMessage/130>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e64d5ff0-f5f4-47fa-bce1-16a15b7b017c] Performing ChatMessageCreationEventBroadcastJob (Job ID: e64d5ff0-f5f4-47fa-bce1-16a15b7b017c) from Async(default) enqueued at 2020-02-10T17:34:36Z with arguments: #<GlobalID:0x00007f863c405e60 @uri=#<URI::GID gid://chat-app/ChatMessage/130>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e64d5ff0-f5f4-47fa-bce1-16a15b7b017c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e64d5ff0-f5f4-47fa-bce1-16a15b7b017c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e64d5ff0-f5f4-47fa-bce1-16a15b7b017c] [ActionCable] Broadcasting to chat_channel: {:id=>130, :created_at=>"17:34", :content=>"ok", :name=>"nolan"}
ChatChannel transmitting {"id"=>130, "created_at"=>"17:34", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>130, "created_at"=>"17:34", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e64d5ff0-f5f4-47fa-bce1-16a15b7b017c] Performed ChatMessageCreationEventBroadcastJob (Job ID: e64d5ff0-f5f4-47fa-bce1-16a15b7b017c) from Async(default) in 0.97ms
Started POST "/auth/login" for ::1 at 2020-02-10 12:36:55 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1057ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 11473)


Started GET "/cable" for ::1 at 2020-02-10 12:36:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:36:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:36:57 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:37:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:37:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 12:37:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:37:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:39:39 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:39:39 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:39:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:39:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:39:49 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:39:49 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:39:49 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:40:11 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 12:40:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:40:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:40:50 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:40:50 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:40:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:40:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:40:57 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1035ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 12:40:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:40:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 17:41:04.116566"], ["updated_at", "2020-02-10 17:41:04.116566"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9bf72419-f203-4136-972e-c79353b92bb9) to Async(default) with arguments: #<GlobalID:0x00007f863c753478 @uri=#<URI::GID gid://chat-app/ChatMessage/131>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 131], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bf72419-f203-4136-972e-c79353b92bb9] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9bf72419-f203-4136-972e-c79353b92bb9) from Async(default) enqueued at 2020-02-10T17:41:04Z with arguments: #<GlobalID:0x00007f863b35d748 @uri=#<URI::GID gid://chat-app/ChatMessage/131>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bf72419-f203-4136-972e-c79353b92bb9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bf72419-f203-4136-972e-c79353b92bb9]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bf72419-f203-4136-972e-c79353b92bb9] [ActionCable] Broadcasting to chat_channel: {:id=>131, :created_at=>"17:41", :content=>"hi", :name=>"nolan"}
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bf72419-f203-4136-972e-c79353b92bb9] Performed ChatMessageCreationEventBroadcastJob (Job ID: 9bf72419-f203-4136-972e-c79353b92bb9) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>131, "created_at"=>"17:41", "content"=>"hi", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:41:37 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:41:37 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:41:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:41:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:41:40 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:41:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:41:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:41:50 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1028ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2841)


Started GET "/cable" for ::1 at 2020-02-10 12:41:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:41:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:42:20 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:42:20 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:42:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:42:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:42:27 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1031ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 12:42:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:42:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:43:33 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:43:34 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:43:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:43:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:43:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 12:43:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:43:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 17:43:46.089495"], ["updated_at", "2020-02-10 17:43:46.089495"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d35b3d12-89b4-4cde-83d6-c872569e63e6) to Async(default) with arguments: #<GlobalID:0x00007f863b36e200 @uri=#<URI::GID gid://chat-app/ChatMessage/132>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 132], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d35b3d12-89b4-4cde-83d6-c872569e63e6] Performing ChatMessageCreationEventBroadcastJob (Job ID: d35b3d12-89b4-4cde-83d6-c872569e63e6) from Async(default) enqueued at 2020-02-10T17:43:46Z with arguments: #<GlobalID:0x00007f863b37c378 @uri=#<URI::GID gid://chat-app/ChatMessage/132>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d35b3d12-89b4-4cde-83d6-c872569e63e6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d35b3d12-89b4-4cde-83d6-c872569e63e6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d35b3d12-89b4-4cde-83d6-c872569e63e6] [ActionCable] Broadcasting to chat_channel: {:id=>132, :created_at=>"17:43", :content=>"hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d35b3d12-89b4-4cde-83d6-c872569e63e6] Performed ChatMessageCreationEventBroadcastJob (Job ID: d35b3d12-89b4-4cde-83d6-c872569e63e6) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>132, "created_at"=>"17:43", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:47:54 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:47:54 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:47:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:47:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:48:08 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:48:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:48:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:48:35 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:48:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:48:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:48:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2547)


Started GET "/cable" for ::1 at 2020-02-10 12:48:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:48:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 17:48:55.688515"], ["updated_at", "2020-02-10 17:48:55.688515"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e7d6da06-69b7-4991-b90f-11dc37ef4673) to Async(default) with arguments: #<GlobalID:0x00007f863a69dbe8 @uri=#<URI::GID gid://chat-app/ChatMessage/133>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 133], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e7d6da06-69b7-4991-b90f-11dc37ef4673] Performing ChatMessageCreationEventBroadcastJob (Job ID: e7d6da06-69b7-4991-b90f-11dc37ef4673) from Async(default) enqueued at 2020-02-10T17:48:55Z with arguments: #<GlobalID:0x00007f863a6af5c8 @uri=#<URI::GID gid://chat-app/ChatMessage/133>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e7d6da06-69b7-4991-b90f-11dc37ef4673]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e7d6da06-69b7-4991-b90f-11dc37ef4673]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e7d6da06-69b7-4991-b90f-11dc37ef4673] [ActionCable] Broadcasting to chat_channel: {:id=>133, :created_at=>"17:48", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e7d6da06-69b7-4991-b90f-11dc37ef4673] Performed ChatMessageCreationEventBroadcastJob (Job ID: e7d6da06-69b7-4991-b90f-11dc37ef4673) from Async(default) in 1.27ms
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>133, "created_at"=>"17:48", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 17:48:59.639121"], ["updated_at", "2020-02-10 17:48:59.639121"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: ca04fdda-a6eb-49f4-b5ad-d26717757589) to Async(default) with arguments: #<GlobalID:0x00007f863c3dc420 @uri=#<URI::GID gid://chat-app/ChatMessage/134>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 134], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ca04fdda-a6eb-49f4-b5ad-d26717757589] Performing ChatMessageCreationEventBroadcastJob (Job ID: ca04fdda-a6eb-49f4-b5ad-d26717757589) from Async(default) enqueued at 2020-02-10T17:48:59Z with arguments: #<GlobalID:0x00007f863c417ed0 @uri=#<URI::GID gid://chat-app/ChatMessage/134>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ca04fdda-a6eb-49f4-b5ad-d26717757589]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ca04fdda-a6eb-49f4-b5ad-d26717757589]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ca04fdda-a6eb-49f4-b5ad-d26717757589] [ActionCable] Broadcasting to chat_channel: {:id=>134, :created_at=>"17:48", :content=>"hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ca04fdda-a6eb-49f4-b5ad-d26717757589] Performed ChatMessageCreationEventBroadcastJob (Job ID: ca04fdda-a6eb-49f4-b5ad-d26717757589) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>134, "created_at"=>"17:48", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [ArgumentError - wrong number of arguments (given 0, expected 1)]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:50:01 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started POST "/auth/login" for ::1 at 2020-02-10 12:50:07 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1044ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 12:50:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:50:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-10 17:50:20.451119"], ["updated_at", "2020-02-10 17:50:20.451119"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14) to Async(default) with arguments: #<GlobalID:0x00007f863c6eb530 @uri=#<URI::GID gid://chat-app/ChatMessage/135>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 135], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14) from Async(default) enqueued at 2020-02-10T17:50:20Z with arguments: #<GlobalID:0x00007f863abd0610 @uri=#<URI::GID gid://chat-app/ChatMessage/135>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14] [ActionCable] Broadcasting to chat_channel: {:id=>135, :created_at=>"17:50", :content=>"Hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4fcea0e8-ebd9-46c7-9b4d-0c36ea80fa14) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>135, "created_at"=>"17:50", "content"=>"Hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 17:50:23.595339"], ["updated_at", "2020-02-10 17:50:23.595339"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 409966a2-34cf-47cc-b389-56f851a7864b) to Async(default) with arguments: #<GlobalID:0x00007f863c728778 @uri=#<URI::GID gid://chat-app/ChatMessage/136>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 136], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [409966a2-34cf-47cc-b389-56f851a7864b] Performing ChatMessageCreationEventBroadcastJob (Job ID: 409966a2-34cf-47cc-b389-56f851a7864b) from Async(default) enqueued at 2020-02-10T17:50:23Z with arguments: #<GlobalID:0x00007f863a5f42c8 @uri=#<URI::GID gid://chat-app/ChatMessage/136>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [409966a2-34cf-47cc-b389-56f851a7864b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [409966a2-34cf-47cc-b389-56f851a7864b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [409966a2-34cf-47cc-b389-56f851a7864b] [ActionCable] Broadcasting to chat_channel: {:id=>136, :created_at=>"17:50", :content=>"yo", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [409966a2-34cf-47cc-b389-56f851a7864b] Performed ChatMessageCreationEventBroadcastJob (Job ID: 409966a2-34cf-47cc-b389-56f851a7864b) from Async(default) in 1.08ms
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>136, "created_at"=>"17:50", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [ArgumentError - wrong number of arguments (given 0, expected 1)]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:52:29 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:52:29 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:52:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:52:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:52:39 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1038ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2841)


Started GET "/cable" for ::1 at 2020-02-10 12:52:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:52:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:52:45.997635"], ["updated_at", "2020-02-10 17:52:45.997635"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a9492595-bf40-4671-88f8-f16896918e85) to Async(default) with arguments: #<GlobalID:0x00007f863c661fb0 @uri=#<URI::GID gid://chat-app/ChatMessage/137>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 137], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a9492595-bf40-4671-88f8-f16896918e85] Performing ChatMessageCreationEventBroadcastJob (Job ID: a9492595-bf40-4671-88f8-f16896918e85) from Async(default) enqueued at 2020-02-10T17:52:46Z with arguments: #<GlobalID:0x00007f863e818370 @uri=#<URI::GID gid://chat-app/ChatMessage/137>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a9492595-bf40-4671-88f8-f16896918e85]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a9492595-bf40-4671-88f8-f16896918e85]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a9492595-bf40-4671-88f8-f16896918e85] [ActionCable] Broadcasting to chat_channel: {:id=>137, :created_at=>"17:52", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a9492595-bf40-4671-88f8-f16896918e85] Performed ChatMessageCreationEventBroadcastJob (Job ID: a9492595-bf40-4671-88f8-f16896918e85) from Async(default) in 1.25ms
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>137, "created_at"=>"17:52", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:53:13 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:53:13 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-10 12:53:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:53:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:53:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2841)


Started GET "/cable" for ::1 at 2020-02-10 12:53:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:53:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:53:26.251002"], ["updated_at", "2020-02-10 17:53:26.251002"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 137fea91-d6d0-44af-b08b-1b478ce9da0f) to Async(default) with arguments: #<GlobalID:0x00007f863a67c088 @uri=#<URI::GID gid://chat-app/ChatMessage/138>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 138], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [137fea91-d6d0-44af-b08b-1b478ce9da0f] Performing ChatMessageCreationEventBroadcastJob (Job ID: 137fea91-d6d0-44af-b08b-1b478ce9da0f) from Async(default) enqueued at 2020-02-10T17:53:26Z with arguments: #<GlobalID:0x00007f863ac721b8 @uri=#<URI::GID gid://chat-app/ChatMessage/138>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [137fea91-d6d0-44af-b08b-1b478ce9da0f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [137fea91-d6d0-44af-b08b-1b478ce9da0f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [137fea91-d6d0-44af-b08b-1b478ce9da0f] [ActionCable] Broadcasting to chat_channel: {:id=>138, :created_at=>"17:53", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [137fea91-d6d0-44af-b08b-1b478ce9da0f] Performed ChatMessageCreationEventBroadcastJob (Job ID: 137fea91-d6d0-44af-b08b-1b478ce9da0f) from Async(default) in 1.16ms
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>138, "created_at"=>"17:53", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:53:39 -0500
There was an exception - ArgumentError(wrong number of arguments (given 0, expected 1))
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started POST "/auth/login" for ::1 at 2020-02-10 12:54:32 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 10394)


Started GET "/cable" for ::1 at 2020-02-10 12:54:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:54:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:54:37.395056"], ["updated_at", "2020-02-10 17:54:37.395056"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d905a50a-a51b-4a10-ba03-d6cabd45c3d7) to Async(default) with arguments: #<GlobalID:0x00007f863a595bd8 @uri=#<URI::GID gid://chat-app/ChatMessage/139>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 139], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d905a50a-a51b-4a10-ba03-d6cabd45c3d7] Performing ChatMessageCreationEventBroadcastJob (Job ID: d905a50a-a51b-4a10-ba03-d6cabd45c3d7) from Async(default) enqueued at 2020-02-10T17:54:37Z with arguments: #<GlobalID:0x00007f863a5b5ed8 @uri=#<URI::GID gid://chat-app/ChatMessage/139>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d905a50a-a51b-4a10-ba03-d6cabd45c3d7]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d905a50a-a51b-4a10-ba03-d6cabd45c3d7]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d905a50a-a51b-4a10-ba03-d6cabd45c3d7] [ActionCable] Broadcasting to chat_channel: {:id=>139, :created_at=>"17:54", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d905a50a-a51b-4a10-ba03-d6cabd45c3d7] Performed ChatMessageCreationEventBroadcastJob (Job ID: d905a50a-a51b-4a10-ba03-d6cabd45c3d7) from Async(default) in 1.29ms
ChatChannel transmitting {"id"=>139, "created_at"=>"17:54", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 12:54:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:54:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:54:47 -0500
Started GET "/cable" for ::1 at 2020-02-10 12:54:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:54:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
There was an exception - NameError(undefined local variable or method `opts' for #<ChatChannel:0x00007f863f001410>)
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:49:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
ChatChannel#create({"content"=>"ko", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ko"], ["created_at", "2020-02-10 17:55:20.203795"], ["updated_at", "2020-02-10 17:55:20.203795"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 544e39ed-3283-4f4b-a7e2-1893bc3d275d) to Async(default) with arguments: #<GlobalID:0x00007f863ac72a50 @uri=#<URI::GID gid://chat-app/ChatMessage/140>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 140], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [544e39ed-3283-4f4b-a7e2-1893bc3d275d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 544e39ed-3283-4f4b-a7e2-1893bc3d275d) from Async(default) enqueued at 2020-02-10T17:55:20Z with arguments: #<GlobalID:0x00007f863c72a398 @uri=#<URI::GID gid://chat-app/ChatMessage/140>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [544e39ed-3283-4f4b-a7e2-1893bc3d275d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [544e39ed-3283-4f4b-a7e2-1893bc3d275d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [544e39ed-3283-4f4b-a7e2-1893bc3d275d] [ActionCable] Broadcasting to chat_channel: {:id=>140, :created_at=>"17:55", :content=>"ko", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [544e39ed-3283-4f4b-a7e2-1893bc3d275d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 544e39ed-3283-4f4b-a7e2-1893bc3d275d) from Async(default) in 29.01ms
Started GET "/cable" for ::1 at 2020-02-10 12:55:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:55:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 12:55:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:55:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:55:32 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2684)


Started GET "/cable" for ::1 at 2020-02-10 12:55:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:55:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:55:40 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1053ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 12:55:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:55:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 17:55:47.178675"], ["updated_at", "2020-02-10 17:55:47.178675"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 68c65361-6989-4c96-aaa5-86a1acf0c924) to Async(default) with arguments: #<GlobalID:0x00007f863c567308 @uri=#<URI::GID gid://chat-app/ChatMessage/141>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 141], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [68c65361-6989-4c96-aaa5-86a1acf0c924] Performing ChatMessageCreationEventBroadcastJob (Job ID: 68c65361-6989-4c96-aaa5-86a1acf0c924) from Async(default) enqueued at 2020-02-10T17:55:47Z with arguments: #<GlobalID:0x00007f863c515030 @uri=#<URI::GID gid://chat-app/ChatMessage/141>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [68c65361-6989-4c96-aaa5-86a1acf0c924]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [68c65361-6989-4c96-aaa5-86a1acf0c924]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [68c65361-6989-4c96-aaa5-86a1acf0c924] [ActionCable] Broadcasting to chat_channel: {:id=>141, :created_at=>"17:55", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [68c65361-6989-4c96-aaa5-86a1acf0c924] Performed ChatMessageCreationEventBroadcastJob (Job ID: 68c65361-6989-4c96-aaa5-86a1acf0c924) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>141, "created_at"=>"17:55", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>141, "created_at"=>"17:55", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>141, "created_at"=>"17:55", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>141, "created_at"=>"17:55", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:55:50 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:58:41 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:58:41 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:58:41 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:58:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:58:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 12:58:50 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 12:58:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:58:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 17:58:55.401502"], ["updated_at", "2020-02-10 17:58:55.401502"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6ecbe59b-bce0-4991-b478-6698bd7538af) to Async(default) with arguments: #<GlobalID:0x00007f863a5643d0 @uri=#<URI::GID gid://chat-app/ChatMessage/142>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 142], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ecbe59b-bce0-4991-b478-6698bd7538af] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6ecbe59b-bce0-4991-b478-6698bd7538af) from Async(default) enqueued at 2020-02-10T17:58:55Z with arguments: #<GlobalID:0x00007f863c69b238 @uri=#<URI::GID gid://chat-app/ChatMessage/142>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ecbe59b-bce0-4991-b478-6698bd7538af]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ecbe59b-bce0-4991-b478-6698bd7538af]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ecbe59b-bce0-4991-b478-6698bd7538af] [ActionCable] Broadcasting to chat_channel: {:id=>142, :created_at=>"17:58", :content=>"hey", :name=>"nolan"}
ChatChannel transmitting {"id"=>142, "created_at"=>"17:58", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6ecbe59b-bce0-4991-b478-6698bd7538af] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6ecbe59b-bce0-4991-b478-6698bd7538af) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>142, "created_at"=>"17:58", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
Ignoring message processed after the WebSocket was closed: "{\"command\":\"message\",\"identifier\":\"{\\\"channel\\\":\\\"ChatChannel\\\"}\",\"data\":\"{\\\"userId\\\":1,\\\"action\\\":\\\"disappear\\\"}\"}")
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:58:57 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 12:59:54 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 12:59:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 12:59:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:00:10 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 13:00:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:00:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 13:00:25 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2955)


Started GET "/cable" for ::1 at 2020-02-10 13:00:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:00:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 18:00:34.809154"], ["updated_at", "2020-02-10 18:00:34.809154"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 52bea69c-6305-4812-a517-0fb548414586) to Async(default) with arguments: #<GlobalID:0x00007f863b3be890 @uri=#<URI::GID gid://chat-app/ChatMessage/143>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 143], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [52bea69c-6305-4812-a517-0fb548414586] Performing ChatMessageCreationEventBroadcastJob (Job ID: 52bea69c-6305-4812-a517-0fb548414586) from Async(default) enqueued at 2020-02-10T18:00:34Z with arguments: #<GlobalID:0x00007f863c789a00 @uri=#<URI::GID gid://chat-app/ChatMessage/143>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [52bea69c-6305-4812-a517-0fb548414586]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [52bea69c-6305-4812-a517-0fb548414586]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [52bea69c-6305-4812-a517-0fb548414586] [ActionCable] Broadcasting to chat_channel: {:id=>143, :created_at=>"18:00", :content=>"yo", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [52bea69c-6305-4812-a517-0fb548414586] Performed ChatMessageCreationEventBroadcastJob (Job ID: 52bea69c-6305-4812-a517-0fb548414586) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>143, "created_at"=>"18:00", "content"=>"yo", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>143, "created_at"=>"18:00", "content"=>"yo", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":1,\"action\":\"disappear\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"ChatChannel"}]: /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:74:in `find' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:55:in `perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:19:in `execute_command' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [RuntimeError - Unable to find subscription with identifier: {"channel":"ChatChannel"}]: /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:74:in `find' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:46:in `remove' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:18:in `execute_command' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:87:in `dispatch_websocket_message' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:02:12 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:02:13 -0500
Started GET "/cable" for ::1 at 2020-02-10 13:02:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:02:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 13:02:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 13:02:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:02:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 18:02:24.430165"], ["updated_at", "2020-02-10 18:02:24.430165"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 351d1c5a-4820-44a1-84ac-e528b95c183d) to Async(default) with arguments: #<GlobalID:0x00007f863a565898 @uri=#<URI::GID gid://chat-app/ChatMessage/144>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 144], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [351d1c5a-4820-44a1-84ac-e528b95c183d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 351d1c5a-4820-44a1-84ac-e528b95c183d) from Async(default) enqueued at 2020-02-10T18:02:24Z with arguments: #<GlobalID:0x00007f863c658bb8 @uri=#<URI::GID gid://chat-app/ChatMessage/144>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [351d1c5a-4820-44a1-84ac-e528b95c183d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [351d1c5a-4820-44a1-84ac-e528b95c183d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [351d1c5a-4820-44a1-84ac-e528b95c183d] [ActionCable] Broadcasting to chat_channel: {:id=>144, :created_at=>"18:02", :content=>"hey", :name=>"nolan"}
ChatChannel transmitting {"id"=>144, "created_at"=>"18:02", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [351d1c5a-4820-44a1-84ac-e528b95c183d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 351d1c5a-4820-44a1-84ac-e528b95c183d) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>144, "created_at"=>"18:02", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 18:02:28.078927"], ["updated_at", "2020-02-10 18:02:28.078927"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6c8a66e0-0a21-46cf-813c-581ee0d0d7b8) to Async(default) with arguments: #<GlobalID:0x00007f863ac09d98 @uri=#<URI::GID gid://chat-app/ChatMessage/145>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 145], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c8a66e0-0a21-46cf-813c-581ee0d0d7b8] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6c8a66e0-0a21-46cf-813c-581ee0d0d7b8) from Async(default) enqueued at 2020-02-10T18:02:28Z with arguments: #<GlobalID:0x00007f8640023d98 @uri=#<URI::GID gid://chat-app/ChatMessage/145>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c8a66e0-0a21-46cf-813c-581ee0d0d7b8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c8a66e0-0a21-46cf-813c-581ee0d0d7b8]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c8a66e0-0a21-46cf-813c-581ee0d0d7b8] [ActionCable] Broadcasting to chat_channel: {:id=>145, :created_at=>"18:02", :content=>"yo", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6c8a66e0-0a21-46cf-813c-581ee0d0d7b8] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6c8a66e0-0a21-46cf-813c-581ee0d0d7b8) from Async(default) in 1.21ms
ChatChannel transmitting {"id"=>145, "created_at"=>"18:02", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>145, "created_at"=>"18:02", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 13:02:45 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1031ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 13:02:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:02:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 18:03:20.316016"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ok", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ok"], ["created_at", "2020-02-10 18:04:48.664543"], ["updated_at", "2020-02-10 18:04:48.664543"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c5d75bd3-c9bf-4607-940c-7e925cf7d3ee) to Async(default) with arguments: #<GlobalID:0x00007f863ab07d28 @uri=#<URI::GID gid://chat-app/ChatMessage/146>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 146], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c5d75bd3-c9bf-4607-940c-7e925cf7d3ee] Performing ChatMessageCreationEventBroadcastJob (Job ID: c5d75bd3-c9bf-4607-940c-7e925cf7d3ee) from Async(default) enqueued at 2020-02-10T18:04:48Z with arguments: #<GlobalID:0x00007f863b13fe48 @uri=#<URI::GID gid://chat-app/ChatMessage/146>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c5d75bd3-c9bf-4607-940c-7e925cf7d3ee]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c5d75bd3-c9bf-4607-940c-7e925cf7d3ee]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c5d75bd3-c9bf-4607-940c-7e925cf7d3ee] [ActionCable] Broadcasting to chat_channel: {:id=>146, :created_at=>"18:04", :content=>"ok", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c5d75bd3-c9bf-4607-940c-7e925cf7d3ee] Performed ChatMessageCreationEventBroadcastJob (Job ID: c5d75bd3-c9bf-4607-940c-7e925cf7d3ee) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>146, "created_at"=>"18:04", "content"=>"ok", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:05:34 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 13:05:39 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1038ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 13:05:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:05:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 18:05:40.620982"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 18:05:43.880210"], ["updated_at", "2020-02-10 18:05:43.880210"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2e9fe1f3-388f-42c4-b127-c72161b77ae1) to Async(default) with arguments: #<GlobalID:0x00007f863abe8760 @uri=#<URI::GID gid://chat-app/ChatMessage/147>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 147], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e9fe1f3-388f-42c4-b127-c72161b77ae1] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2e9fe1f3-388f-42c4-b127-c72161b77ae1) from Async(default) enqueued at 2020-02-10T18:05:43Z with arguments: #<GlobalID:0x00007f863c710538 @uri=#<URI::GID gid://chat-app/ChatMessage/147>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e9fe1f3-388f-42c4-b127-c72161b77ae1]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e9fe1f3-388f-42c4-b127-c72161b77ae1]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e9fe1f3-388f-42c4-b127-c72161b77ae1] [ActionCable] Broadcasting to chat_channel: {:id=>147, :created_at=>"18:05", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2e9fe1f3-388f-42c4-b127-c72161b77ae1] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2e9fe1f3-388f-42c4-b127-c72161b77ae1) from Async(default) in 1.02ms
ChatChannel transmitting {"id"=>147, "created_at"=>"18:05", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>147, "created_at"=>"18:05", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"bye", "created_by"=>5})
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "bye"], ["created_at", "2020-02-10 18:05:52.631746"], ["updated_at", "2020-02-10 18:05:52.631746"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 916d15ff-d2fa-4103-92a9-1e6ff93e14dd) to Async(default) with arguments: #<GlobalID:0x00007f863b316e38 @uri=#<URI::GID gid://chat-app/ChatMessage/148>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 148], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [916d15ff-d2fa-4103-92a9-1e6ff93e14dd] Performing ChatMessageCreationEventBroadcastJob (Job ID: 916d15ff-d2fa-4103-92a9-1e6ff93e14dd) from Async(default) enqueued at 2020-02-10T18:05:52Z with arguments: #<GlobalID:0x00007f863e807cc8 @uri=#<URI::GID gid://chat-app/ChatMessage/148>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [916d15ff-d2fa-4103-92a9-1e6ff93e14dd]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [916d15ff-d2fa-4103-92a9-1e6ff93e14dd]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [916d15ff-d2fa-4103-92a9-1e6ff93e14dd] [ActionCable] Broadcasting to chat_channel: {:id=>148, :created_at=>"18:05", :content=>"bye", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [916d15ff-d2fa-4103-92a9-1e6ff93e14dd] Performed ChatMessageCreationEventBroadcastJob (Job ID: 916d15ff-d2fa-4103-92a9-1e6ff93e14dd) from Async(default) in 1.12ms
ChatChannel transmitting {"id"=>148, "created_at"=>"18:05", "content"=>"bye", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>148, "created_at"=>"18:05", "content"=>"bye", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"wait", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "wait"], ["created_at", "2020-02-10 18:05:54.798414"], ["updated_at", "2020-02-10 18:05:54.798414"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3b6035de-9617-41da-9384-7b985a410f32) to Async(default) with arguments: #<GlobalID:0x00007f863a614f28 @uri=#<URI::GID gid://chat-app/ChatMessage/149>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 149], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b6035de-9617-41da-9384-7b985a410f32] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3b6035de-9617-41da-9384-7b985a410f32) from Async(default) enqueued at 2020-02-10T18:05:54Z with arguments: #<GlobalID:0x00007f863ac4a4d8 @uri=#<URI::GID gid://chat-app/ChatMessage/149>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b6035de-9617-41da-9384-7b985a410f32]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b6035de-9617-41da-9384-7b985a410f32]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b6035de-9617-41da-9384-7b985a410f32] [ActionCable] Broadcasting to chat_channel: {:id=>149, :created_at=>"18:05", :content=>"wait", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b6035de-9617-41da-9384-7b985a410f32] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3b6035de-9617-41da-9384-7b985a410f32) from Async(default) in 1.15ms
ChatChannel transmitting {"id"=>149, "created_at"=>"18:05", "content"=>"wait", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>149, "created_at"=>"18:05", "content"=>"wait", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"nah", "created_by"=>5})
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "nah"], ["created_at", "2020-02-10 18:05:57.495315"], ["updated_at", "2020-02-10 18:05:57.495315"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3b78340f-03fc-4d67-a44d-c6bbafac0d70) to Async(default) with arguments: #<GlobalID:0x00007f863a67e360 @uri=#<URI::GID gid://chat-app/ChatMessage/150>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 150], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b78340f-03fc-4d67-a44d-c6bbafac0d70] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3b78340f-03fc-4d67-a44d-c6bbafac0d70) from Async(default) enqueued at 2020-02-10T18:05:57Z with arguments: #<GlobalID:0x00007f863c7786d8 @uri=#<URI::GID gid://chat-app/ChatMessage/150>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b78340f-03fc-4d67-a44d-c6bbafac0d70]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b78340f-03fc-4d67-a44d-c6bbafac0d70]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b78340f-03fc-4d67-a44d-c6bbafac0d70] [ActionCable] Broadcasting to chat_channel: {:id=>150, :created_at=>"18:05", :content=>"nah", :name=>"john"}
ChatChannel transmitting {"id"=>150, "created_at"=>"18:05", "content"=>"nah", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>150, "created_at"=>"18:05", "content"=>"nah", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b78340f-03fc-4d67-a44d-c6bbafac0d70] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3b78340f-03fc-4d67-a44d-c6bbafac0d70) from Async(default) in 1.0ms
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 18:06:00.672491"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:10:58 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:10:58 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:10:58 -0500
Started GET "/cable" for ::1 at 2020-02-10 13:10:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:10:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
Started POST "/auth/login" for ::1 at 2020-02-10 13:11:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1049ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 13:11:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:11:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 18:11:48.738553"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 13:11:54 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1040ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 13:11:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:11:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 18:12:24.212798"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 13:12:37 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 13:12:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:12:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 18:12:38.626221"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 18:12:42.734834"], ["updated_at", "2020-02-10 18:12:42.734834"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a7152472-e9da-4819-bf01-c61bc1e1d317) to Async(default) with arguments: #<GlobalID:0x00007f863c6a3500 @uri=#<URI::GID gid://chat-app/ChatMessage/151>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 151], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a7152472-e9da-4819-bf01-c61bc1e1d317] Performing ChatMessageCreationEventBroadcastJob (Job ID: a7152472-e9da-4819-bf01-c61bc1e1d317) from Async(default) enqueued at 2020-02-10T18:12:42Z with arguments: #<GlobalID:0x00007f863c6aa2d8 @uri=#<URI::GID gid://chat-app/ChatMessage/151>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a7152472-e9da-4819-bf01-c61bc1e1d317]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a7152472-e9da-4819-bf01-c61bc1e1d317]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a7152472-e9da-4819-bf01-c61bc1e1d317] [ActionCable] Broadcasting to chat_channel: {:id=>151, :created_at=>"18:12", :content=>"hey", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a7152472-e9da-4819-bf01-c61bc1e1d317] Performed ChatMessageCreationEventBroadcastJob (Job ID: a7152472-e9da-4819-bf01-c61bc1e1d317) from Async(default) in 1.06ms
ChatChannel transmitting {"id"=>151, "created_at"=>"18:12", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>151, "created_at"=>"18:12", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"oh its you..", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "oh its you.."], ["created_at", "2020-02-10 18:12:46.815928"], ["updated_at", "2020-02-10 18:12:46.815928"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7b8e884e-23e6-48a3-b7dd-77f9ec38ff59) to Async(default) with arguments: #<GlobalID:0x00007f863ac19ae0 @uri=#<URI::GID gid://chat-app/ChatMessage/152>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 152], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7b8e884e-23e6-48a3-b7dd-77f9ec38ff59] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7b8e884e-23e6-48a3-b7dd-77f9ec38ff59) from Async(default) enqueued at 2020-02-10T18:12:46Z with arguments: #<GlobalID:0x00007f863a587498 @uri=#<URI::GID gid://chat-app/ChatMessage/152>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7b8e884e-23e6-48a3-b7dd-77f9ec38ff59]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7b8e884e-23e6-48a3-b7dd-77f9ec38ff59]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7b8e884e-23e6-48a3-b7dd-77f9ec38ff59] [ActionCable] Broadcasting to chat_channel: {:id=>152, :created_at=>"18:12", :content=>"oh its you..", :name=>"john"}
ChatChannel transmitting {"id"=>152, "created_at"=>"18:12", "content"=>"oh its you..", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7b8e884e-23e6-48a3-b7dd-77f9ec38ff59] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7b8e884e-23e6-48a3-b7dd-77f9ec38ff59) from Async(default) in 0.95ms
ChatChannel transmitting {"id"=>152, "created_at"=>"18:12", "content"=>"oh its you..", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"who else?", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "who else?"], ["created_at", "2020-02-10 18:12:51.214366"], ["updated_at", "2020-02-10 18:12:51.214366"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 727cff5a-c1aa-466e-b35c-4ed98a3df05a) to Async(default) with arguments: #<GlobalID:0x00007f863a5e7780 @uri=#<URI::GID gid://chat-app/ChatMessage/153>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 153], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [727cff5a-c1aa-466e-b35c-4ed98a3df05a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 727cff5a-c1aa-466e-b35c-4ed98a3df05a) from Async(default) enqueued at 2020-02-10T18:12:51Z with arguments: #<GlobalID:0x00007f863c732890 @uri=#<URI::GID gid://chat-app/ChatMessage/153>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [727cff5a-c1aa-466e-b35c-4ed98a3df05a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [727cff5a-c1aa-466e-b35c-4ed98a3df05a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [727cff5a-c1aa-466e-b35c-4ed98a3df05a] [ActionCable] Broadcasting to chat_channel: {:id=>153, :created_at=>"18:12", :content=>"who else?", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [727cff5a-c1aa-466e-b35c-4ed98a3df05a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 727cff5a-c1aa-466e-b35c-4ed98a3df05a) from Async(default) in 0.98ms
ChatChannel transmitting {"id"=>153, "created_at"=>"18:12", "content"=>"who else?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>153, "created_at"=>"18:12", "content"=>"who else?", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 18:13:36.514541"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:14:59 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:14:59 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:14:59 -0500
Started GET "/cable" for ::1 at 2020-02-10 13:14:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:14:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:14:59 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 13:15:16 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 13:15:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:15:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 18:15:17.857020"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"sup", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "sup"], ["created_at", "2020-02-10 18:15:28.301235"], ["updated_at", "2020-02-10 18:15:28.301235"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 07518cf4-7022-43cd-b42c-42aaa2231f1b) to Async(default) with arguments: #<GlobalID:0x00007f863a53a580 @uri=#<URI::GID gid://chat-app/ChatMessage/154>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 154], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [07518cf4-7022-43cd-b42c-42aaa2231f1b] Performing ChatMessageCreationEventBroadcastJob (Job ID: 07518cf4-7022-43cd-b42c-42aaa2231f1b) from Async(default) enqueued at 2020-02-10T18:15:28Z with arguments: #<GlobalID:0x00007f863b2db248 @uri=#<URI::GID gid://chat-app/ChatMessage/154>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [07518cf4-7022-43cd-b42c-42aaa2231f1b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [07518cf4-7022-43cd-b42c-42aaa2231f1b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [07518cf4-7022-43cd-b42c-42aaa2231f1b] [ActionCable] Broadcasting to chat_channel: {:id=>154, :created_at=>"18:15", :content=>"sup", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [07518cf4-7022-43cd-b42c-42aaa2231f1b] Performed ChatMessageCreationEventBroadcastJob (Job ID: 07518cf4-7022-43cd-b42c-42aaa2231f1b) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>154, "created_at"=>"18:15", "content"=>"sup", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>154, "created_at"=>"18:15", "content"=>"sup", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"oh", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "oh"], ["created_at", "2020-02-10 18:15:31.740194"], ["updated_at", "2020-02-10 18:15:31.740194"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5) to Async(default) with arguments: #<GlobalID:0x00007f863abc8618 @uri=#<URI::GID gid://chat-app/ChatMessage/155>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 155], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5) from Async(default) enqueued at 2020-02-10T18:15:31Z with arguments: #<GlobalID:0x00007f863c6fae40 @uri=#<URI::GID gid://chat-app/ChatMessage/155>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5] [ActionCable] Broadcasting to chat_channel: {:id=>155, :created_at=>"18:15", :content=>"oh", :name=>"nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 44c5a16a-e2e1-4fc0-a612-96b7ac86f2c5) from Async(default) in 1.48ms
ChatChannel transmitting {"id"=>155, "created_at"=>"18:15", "content"=>"oh", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>155, "created_at"=>"18:15", "content"=>"oh", "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:16:14 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 13:16:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:16:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:32:35 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 13:32:35 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 13:32:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:32:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 13:32:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 13:32:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."name", "users"."id", "users"."email" FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."name", "users"."id", "users"."email" FROM "users"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."name", "users"."email" FROM "users"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
DEPRECATION WARNING: update_attributes is deprecated and will be removed from Rails 6.1 (please, use update instead) (called from irb_binding at (irb):11)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/users" for ::1 at 2020-02-10 14:31:33 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 557)


Started GET "/favicon.ico" for ::1 at 2020-02-10 14:31:33 -0500
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2020-02-10 14:31:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:31:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 14:31:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:31:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:36:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:36:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:36:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:36:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.3ms | Allocations: 1904)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:36:46 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:36:46 -0500
Started GET "/users" for ::1 at 2020-02-10 14:36:46 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:36:46 -0500
Processing by UsersController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 2273)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:36:49 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:36:49 -0500
Started GET "/users" for ::1 at 2020-02-10 14:36:49 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:36:49 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1857)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:37:10 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:37:10 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 14:37:10 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable" for ::1 at 2020-02-10 14:37:10 -0500
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 2158)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:37:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 14:37:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:37:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:37:10 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 1858)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:38:50 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:38:50 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 14:38:50 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable" for ::1 at 2020-02-10 14:38:50 -0500
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.6ms | Allocations: 2219)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:38:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 14:38:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:38:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:38:50 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.3ms | Allocations: 1844)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:39:56 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:39:56 -0500
Started GET "/users" for ::1 at 2020-02-10 14:39:57 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable" for ::1 at 2020-02-10 14:39:57 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 2307)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:39:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/users" for ::1 at 2020-02-10 14:39:57 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 113)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:40:06 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 14:40:06 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 1839)


Started GET "/cable" for ::1 at 2020-02-10 14:40:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:40:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/users" for ::1 at 2020-02-10 14:40:06 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:41:19 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:41:53 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:42:17 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:42:24 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 19:42:50.414075"], ["updated_at", "2020-02-10 19:42:50.414075"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f6bb4926-236b-4732-9522-7503b489551d) to Async(default) with arguments: #<GlobalID:0x00007fbfcc0c0e48 @uri=#<URI::GID gid://chat-app/ChatMessage/156>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 156], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f6bb4926-236b-4732-9522-7503b489551d] Performing ChatMessageCreationEventBroadcastJob (Job ID: f6bb4926-236b-4732-9522-7503b489551d) from Async(default) enqueued at 2020-02-10T19:42:50Z with arguments: #<GlobalID:0x00007fbfcc0cbc30 @uri=#<URI::GID gid://chat-app/ChatMessage/156>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f6bb4926-236b-4732-9522-7503b489551d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f6bb4926-236b-4732-9522-7503b489551d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f6bb4926-236b-4732-9522-7503b489551d] [ActionCable] Broadcasting to chat_channel: {:id=>156, :created_at=>"19:42", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f6bb4926-236b-4732-9522-7503b489551d] Performed ChatMessageCreationEventBroadcastJob (Job ID: f6bb4926-236b-4732-9522-7503b489551d) from Async(default) in 1.26ms
ChatChannel transmitting {"id"=>156, "created_at"=>"19:42", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 19:42:52.451300"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
Started POST "/auth/login" for ::1 at 2020-02-10 14:42:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1015ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2616)


Started GET "/cable" for ::1 at 2020-02-10 14:42:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:42:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 19:42:59.735770"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:43:29 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:43:29 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:43:29 -0500
Started GET "/users" for ::1 at 2020-02-10 14:43:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:43:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 2272)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:03 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 14:44:04 -0500
Started GET "/cable" for ::1 at 2020-02-10 14:44:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/users" for ::1 at 2020-02-10 14:44:04 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started POST "/auth/login" for ::1 at 2020-02-10 14:44:10 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1022ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 14:44:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:47 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:47 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 14:44:47 -0500
Started GET "/cable" for ::1 at 2020-02-10 14:44:47 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:47 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 2676)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 14:44:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:44:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:44:47 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 14:45:02 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2630)


Started GET "/cable" for ::1 at 2020-02-10 14:45:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:45:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 19:45:15.945778"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 14:45:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1016ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2673)


Started GET "/cable" for ::1 at 2020-02-10 14:45:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:45:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 19:45:22.049602"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:22 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:22 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:22 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:22 -0500
Started GET "/cable" for ::1 at 2020-02-10 14:47:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:47:22 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 2611)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/users" for ::1 at 2020-02-10 14:47:22 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable" for ::1 at 2020-02-10 14:47:22 -0500
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Completed 200 OK in 12ms (Views: 7.7ms | ActiveRecord: 0.4ms | Allocations: 2940)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 19:47:43.441466"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:58 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:47:58 -0500
Started GET "/users" for ::1 at 2020-02-10 14:47:58 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:47:58 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:48:02 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:48:04 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/users" for ::1 at 2020-02-10 14:48:05 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


Started POST "/auth/login" for ::1 at 2020-02-10 14:56:52 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2547)


Started GET "/cable" for ::1 at 2020-02-10 14:56:53 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:56:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:57:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:57:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:57:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:57:51 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:57:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:57:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 14:58:31 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 14:58:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:58:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:58:32 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms | Allocations: 1852)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
Started POST "/auth/login" for ::1 at 2020-02-10 14:58:40 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1026ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2576)


Started GET "/cable" for ::1 at 2020-02-10 14:58:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:58:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:58:41 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.5ms | Allocations: 2060)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 14:58:41 -0500
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
Completed 200 OK in 17ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2778)


ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 14:58:49 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1026ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2634)


Started GET "/cable" for ::1 at 2020-02-10 14:58:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 14:58:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 14:58:50 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1942)


  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 19:58:50.590734"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:39 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:39 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:03:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:03:40 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:40 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:03:40 -0500
Started GET "/users" for ::1 at 2020-02-10 15:03:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 2051)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:03:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:03:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:03:44 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>1})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (1.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 20:04:16.920444"], ["updated_at", "2020-02-10 20:04:16.920444"], ["created_by", "1"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba) to Async(default) with arguments: #<GlobalID:0x00007fbfcb2d8e48 @uri=#<URI::GID gid://chat-app/ChatMessage/157>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 157], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba) from Async(default) enqueued at 2020-02-10T20:04:16Z with arguments: #<GlobalID:0x00007fbfcf99efd0 @uri=#<URI::GID gid://chat-app/ChatMessage/157>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba] [ActionCable] Broadcasting to chat_channel: {:id=>157, :created_at=>"20:04", :content=>"hey", :name=>"nolan"}
ChatChannel transmitting {"id"=>157, "created_at"=>"20:04", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>157, "created_at"=>"20:04", "content"=>"hey", "name"=>"nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba] Performed ChatMessageCreationEventBroadcastJob (Job ID: 9d3cc8d4-3ce7-4bcd-9d2e-e7b58c42dcba) from Async(default) in 0.89ms
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:04:28.189385"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
Started POST "/auth/login" for ::1 at 2020-02-10 15:04:33 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1046ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2385)


Started GET "/cable" for ::1 at 2020-02-10 15:04:34 -0500
Started GET "/users" for ::1 at 2020-02-10 15:04:34 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:04:34 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1871)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:04:34.865487"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:04:37 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2677)


Started GET "/cable" for ::1 at 2020-02-10 15:04:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:04:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:04:39 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.6ms | Allocations: 2091)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Started GET "/users" for ::1 at 2020-02-10 15:04:39 -0500
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
Processing by UsersController#index as HTML
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 2369)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:26 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:26 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:26 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:26 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:06:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/users" for ::1 at 2020-02-10 15:06:27 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 1839)


Started GET "/cable" for ::1 at 2020-02-10 15:06:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:06:27 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:30 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:30 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:06:30 -0500
Started GET "/cable" for ::1 at 2020-02-10 15:06:30 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:30 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.4ms | Allocations: 2651)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 15:06:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:06:30 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:41 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:06:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:06:41 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:45 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:06:45 -0500
Started GET "/cable" for ::1 at 2020-02-10 15:06:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:06:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 2249)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:28 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:28 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:07:28 -0500
Processing by UsersController#index as HTML
Started GET "/cable" for ::1 at 2020-02-10 15:07:28 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:28 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 0.4ms | Allocations: 2867)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 15:07:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:07:29 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.5ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:35 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:35 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:07:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:35 -0500
Started GET "/users" for ::1 at 2020-02-10 15:07:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 2174)


ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 15:07:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:07:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:07:35 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1839)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>1})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>1})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>1, :name=>"nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>1, "name"=>"nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:07:44.490025"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:08:04 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:08:04 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."is_online" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."is_online" IS NULL[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (1.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/auth/login" for ::1 at 2020-02-10 15:15:22 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 3561)


Started POST "/auth/login" for ::1 at 2020-02-10 15:15:39 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1055ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 6758)


Started GET "/cable" for ::1 at 2020-02-10 15:15:40 -0500
Started GET "/users" for ::1 at 2020-02-10 15:15:40 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:15:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 13ms (Views: 6.2ms | ActiveRecord: 0.3ms | Allocations: 3893)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:15:40.501320"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:17:44 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:17:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:17:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:17:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1864)


ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/signup" for ::1 at 2020-02-10 15:17:54 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Nolan", "email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "user"=>{"name"=>"Nolan", "email"=>"nolan@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Nolan"], ["email", "nolan@gmail.com"], ["password_digest", "$2a$12$hY7IizwBjAX6NPaH/cMMk..Z3oOfqi6vI224UnqEopC1JVxxUcAw6"], ["created_at", "2020-02-10 20:17:54.276648"], ["updated_at", "2020-02-10 20:17:54.276648"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1312ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 7590)


Started GET "/cable" for ::1 at 2020-02-10 15:18:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:18:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:18:44 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1597)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>nil})
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":null,\"action\":\"appear\"}"}) [ActiveRecord::RecordNotFound - Couldn't find User without an ID]: /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:432:in `find_with_ids' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/querying.rb:21:in `find' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/core.rb:167:in `find' | /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:21:in `appear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:18:45 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:18:45 -0500
Started GET "/users" for ::1 at 2020-02-10 15:18:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:18:45 -0500
Processing by UsersController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 2240)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>nil})
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":null,\"action\":\"disappear\"}"}) [ActiveRecord::RecordNotFound - Couldn't find User without an ID]: /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:432:in `find_with_ids' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/relation/finder_methods.rb:69:in `find' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/querying.rb:21:in `find' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/core.rb:167:in `find' | /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 15:18:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2646)


Started GET "/cable" for ::1 at 2020-02-10 15:18:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:18:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:18:59 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 1801)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
Started GET "/users" for ::1 at 2020-02-10 15:18:59 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:18:59.630778"], ["id", 6]]
Processing by UsersController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 2213)


ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:19:03.260713"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:19:10 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2646)


Started GET "/cable" for ::1 at 2020-02-10 15:19:11 -0500
Started GET "/users" for ::1 at 2020-02-10 15:19:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:19:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>5})
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 1870)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:19:11.815833"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-10 20:20:02.714157"], ["updated_at", "2020-02-10 20:20:02.714157"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 74c3d141-1765-4e9b-aa95-2f01e5691d7d) to Async(default) with arguments: #<GlobalID:0x00007fb16c3862e0 @uri=#<URI::GID gid://chat-app/ChatMessage/158>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 158], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [74c3d141-1765-4e9b-aa95-2f01e5691d7d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 74c3d141-1765-4e9b-aa95-2f01e5691d7d) from Async(default) enqueued at 2020-02-10T20:20:02Z with arguments: #<GlobalID:0x00007fb1711511a0 @uri=#<URI::GID gid://chat-app/ChatMessage/158>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [74c3d141-1765-4e9b-aa95-2f01e5691d7d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [74c3d141-1765-4e9b-aa95-2f01e5691d7d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [74c3d141-1765-4e9b-aa95-2f01e5691d7d] [ActionCable] Broadcasting to chat_channel: {:id=>158, :created_at=>"20:20", :content=>"hi", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [74c3d141-1765-4e9b-aa95-2f01e5691d7d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 74c3d141-1765-4e9b-aa95-2f01e5691d7d) from Async(default) in 3.78ms
ChatChannel transmitting {"id"=>158, "created_at"=>"20:20", "content"=>"hi", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>158, "created_at"=>"20:20", "content"=>"hi", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 20:20:06.576257"], ["updated_at", "2020-02-10 20:20:06.576257"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cb891d32-3278-4088-ad2a-c0297cf5b0a5) to Async(default) with arguments: #<GlobalID:0x00007fb16c395ad8 @uri=#<URI::GID gid://chat-app/ChatMessage/159>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 159], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb891d32-3278-4088-ad2a-c0297cf5b0a5] Performing ChatMessageCreationEventBroadcastJob (Job ID: cb891d32-3278-4088-ad2a-c0297cf5b0a5) from Async(default) enqueued at 2020-02-10T20:20:06Z with arguments: #<GlobalID:0x00007fb16d561398 @uri=#<URI::GID gid://chat-app/ChatMessage/159>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb891d32-3278-4088-ad2a-c0297cf5b0a5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb891d32-3278-4088-ad2a-c0297cf5b0a5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb891d32-3278-4088-ad2a-c0297cf5b0a5] [ActionCable] Broadcasting to chat_channel: {:id=>159, :created_at=>"20:20", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cb891d32-3278-4088-ad2a-c0297cf5b0a5] Performed ChatMessageCreationEventBroadcastJob (Job ID: cb891d32-3278-4088-ad2a-c0297cf5b0a5) from Async(default) in 1.67ms
ChatChannel transmitting {"id"=>159, "created_at"=>"20:20", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>159, "created_at"=>"20:20", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:20:10.915926"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:20:16 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1047ms (Views: 17.6ms | ActiveRecord: 0.2ms | Allocations: 2747)


Started GET "/cable" for ::1 at 2020-02-10 15:20:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:20:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:20:17 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 1586)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:20:17 -0500
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.3ms | Allocations: 3156)


  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:20:17.782279"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 20:20:50.917164"], ["updated_at", "2020-02-10 20:20:50.917164"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5) to Async(default) with arguments: #<GlobalID:0x00007fb16c1c3548 @uri=#<URI::GID gid://chat-app/ChatMessage/160>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 160], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5] Performing ChatMessageCreationEventBroadcastJob (Job ID: f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5) from Async(default) enqueued at 2020-02-10T20:20:50Z with arguments: #<GlobalID:0x00007fb16c1c9740 @uri=#<URI::GID gid://chat-app/ChatMessage/160>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5] [ActionCable] Broadcasting to chat_channel: {:id=>160, :created_at=>"20:20", :content=>"hey", :name=>"Nolan"}
ChatChannel transmitting {"id"=>160, "created_at"=>"20:20", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5] Performed ChatMessageCreationEventBroadcastJob (Job ID: f3ef762b-9de2-4fb1-8ebd-2e46f5814ae5) from Async(default) in 0.87ms
ChatChannel transmitting {"id"=>160, "created_at"=>"20:20", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
Started GET "/cable" for ::1 at 2020-02-10 15:21:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:21:46 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>5})
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 1866)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 15:21:46 -0500
Started GET "/users" for ::1 at 2020-02-10 15:21:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:21:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1583)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:21:59.439519"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:22:00.888685"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Started POST "/auth/login" for ::1 at 2020-02-10 15:22:08 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2629)


Started GET "/cable" for ::1 at 2020-02-10 15:22:09 -0500
Started GET "/users" for ::1 at 2020-02-10 15:22:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:22:09 -0500
Processing by UsersController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 2295)


ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:22:09.068779"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:22:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 15:22:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:22:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:22:21 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 1583)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:22:21 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>6})
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 1861)


  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:22:21.964645"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:22:33.541983"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:13 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:13 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:17 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:17 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:24:17 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.4ms | Allocations: 1583)


Started GET "/cable" for ::1 at 2020-02-10 15:24:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:24:19.048827"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
Started POST "/auth/login" for ::1 at 2020-02-10 15:24:24 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 15:24:25 -0500
Started GET "/users" for ::1 at 2020-02-10 15:24:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1836)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:24:25.955396"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:24:33 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 15:24:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:24:34 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 1615)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Started GET "/users" for ::1 at 2020-02-10 15:24:34 -0500
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:24:34.376185"], ["id", 6]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms | Allocations: 2561)


  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:24:50.624610"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:24:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2381)


Started GET "/cable" for ::1 at 2020-02-10 15:24:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:24:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:24:59 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.5ms | Allocations: 1801)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
Started GET "/users" for ::1 at 2020-02-10 15:24:59 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:24:59.153405"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Processing by UsersController#index as HTML
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2255)


ChatChannel#create({"content"=>"bye", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "bye"], ["created_at", "2020-02-10 20:25:06.984173"], ["updated_at", "2020-02-10 20:25:06.984173"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8d9caa04-d1fb-433b-93b6-a16e823e30af) to Async(default) with arguments: #<GlobalID:0x00007fb16b2d77c8 @uri=#<URI::GID gid://chat-app/ChatMessage/161>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 161], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d9caa04-d1fb-433b-93b6-a16e823e30af] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8d9caa04-d1fb-433b-93b6-a16e823e30af) from Async(default) enqueued at 2020-02-10T20:25:06Z with arguments: #<GlobalID:0x00007fb171231a70 @uri=#<URI::GID gid://chat-app/ChatMessage/161>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d9caa04-d1fb-433b-93b6-a16e823e30af]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d9caa04-d1fb-433b-93b6-a16e823e30af]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d9caa04-d1fb-433b-93b6-a16e823e30af] [ActionCable] Broadcasting to chat_channel: {:id=>161, :created_at=>"20:25", :content=>"bye", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8d9caa04-d1fb-433b-93b6-a16e823e30af] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8d9caa04-d1fb-433b-93b6-a16e823e30af) from Async(default) in 11.14ms
ChatChannel transmitting {"id"=>161, "created_at"=>"20:25", "content"=>"bye", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>161, "created_at"=>"20:25", "content"=>"bye", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:25:08.780417"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:12 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:12 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:13 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:13 -0500
Started GET "/cable" for ::1 at 2020-02-10 15:26:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:26:13 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1583)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:26:15.297894"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Started POST "/auth/login" for ::1 at 2020-02-10 15:26:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2388)


Started GET "/cable" for ::1 at 2020-02-10 15:26:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:26:23 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.5ms | Allocations: 1583)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:26:23 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 2218)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:26:23.020624"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:26 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:26 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:26:26 -0500
Processing by UsersController#index as HTML
Started GET "/cable" for ::1 at 2020-02-10 15:26:26 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:26 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 9ms (Views: 3.1ms | ActiveRecord: 0.5ms | Allocations: 2359)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:34 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:26:34 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.4ms | Allocations: 1622)


Started GET "/cable" for ::1 at 2020-02-10 15:26:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:26:36.136737"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Started POST "/auth/login" for ::1 at 2020-02-10 15:26:41 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1031ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2575)


Started GET "/cable" for ::1 at 2020-02-10 15:26:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:26:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:26:42 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 1583)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:26:42 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 1758)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:26:42.838754"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:26:59 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2407)


Started GET "/cable" for ::1 at 2020-02-10 15:27:00 -0500
Started GET "/users" for ::1 at 2020-02-10 15:27:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:27:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1836)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:27:00.071148"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 20:27:28.493165"], ["updated_at", "2020-02-10 20:27:28.493165"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e01243e1-4252-4b59-91d9-7678d15c1fa0) to Async(default) with arguments: #<GlobalID:0x00007fb16c1a3130 @uri=#<URI::GID gid://chat-app/ChatMessage/162>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 162], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e01243e1-4252-4b59-91d9-7678d15c1fa0] Performing ChatMessageCreationEventBroadcastJob (Job ID: e01243e1-4252-4b59-91d9-7678d15c1fa0) from Async(default) enqueued at 2020-02-10T20:27:28Z with arguments: #<GlobalID:0x00007fb16c1ab830 @uri=#<URI::GID gid://chat-app/ChatMessage/162>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e01243e1-4252-4b59-91d9-7678d15c1fa0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e01243e1-4252-4b59-91d9-7678d15c1fa0]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e01243e1-4252-4b59-91d9-7678d15c1fa0] [ActionCable] Broadcasting to chat_channel: {:id=>162, :created_at=>"20:27", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e01243e1-4252-4b59-91d9-7678d15c1fa0] Performed ChatMessageCreationEventBroadcastJob (Job ID: e01243e1-4252-4b59-91d9-7678d15c1fa0) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>162, "created_at"=>"20:27", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>162, "created_at"=>"20:27", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 20:27:31.234452"], ["updated_at", "2020-02-10 20:27:31.234452"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 0dfe13c8-8faa-4e54-97af-a4959bd5f9fd) to Async(default) with arguments: #<GlobalID:0x00007fb16bfc1740 @uri=#<URI::GID gid://chat-app/ChatMessage/163>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 163], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0dfe13c8-8faa-4e54-97af-a4959bd5f9fd] Performing ChatMessageCreationEventBroadcastJob (Job ID: 0dfe13c8-8faa-4e54-97af-a4959bd5f9fd) from Async(default) enqueued at 2020-02-10T20:27:31Z with arguments: #<GlobalID:0x00007fb16d440360 @uri=#<URI::GID gid://chat-app/ChatMessage/163>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0dfe13c8-8faa-4e54-97af-a4959bd5f9fd]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0dfe13c8-8faa-4e54-97af-a4959bd5f9fd]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0dfe13c8-8faa-4e54-97af-a4959bd5f9fd] [ActionCable] Broadcasting to chat_channel: {:id=>163, :created_at=>"20:27", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0dfe13c8-8faa-4e54-97af-a4959bd5f9fd] Performed ChatMessageCreationEventBroadcastJob (Job ID: 0dfe13c8-8faa-4e54-97af-a4959bd5f9fd) from Async(default) in 1.21ms
ChatChannel transmitting {"id"=>163, "created_at"=>"20:27", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>163, "created_at"=>"20:27", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"whats up john", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "whats up john"], ["created_at", "2020-02-10 20:27:34.337528"], ["updated_at", "2020-02-10 20:27:34.337528"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 78855e36-c192-401d-a5cd-1f565bf168a3) to Async(default) with arguments: #<GlobalID:0x00007fb16c276d78 @uri=#<URI::GID gid://chat-app/ChatMessage/164>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 164], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [78855e36-c192-401d-a5cd-1f565bf168a3] Performing ChatMessageCreationEventBroadcastJob (Job ID: 78855e36-c192-401d-a5cd-1f565bf168a3) from Async(default) enqueued at 2020-02-10T20:27:34Z with arguments: #<GlobalID:0x00007fb16c27c098 @uri=#<URI::GID gid://chat-app/ChatMessage/164>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [78855e36-c192-401d-a5cd-1f565bf168a3]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [78855e36-c192-401d-a5cd-1f565bf168a3]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [78855e36-c192-401d-a5cd-1f565bf168a3] [ActionCable] Broadcasting to chat_channel: {:id=>164, :created_at=>"20:27", :content=>"whats up john", :name=>"Nolan"}
ChatChannel transmitting {"id"=>164, "created_at"=>"20:27", "content"=>"whats up john", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>164, "created_at"=>"20:27", "content"=>"whats up john", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [78855e36-c192-401d-a5cd-1f565bf168a3] Performed ChatMessageCreationEventBroadcastJob (Job ID: 78855e36-c192-401d-a5cd-1f565bf168a3) from Async(default) in 0.88ms
ChatChannel#create({"content"=>"fuckyou nolan", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "fuckyou nolan"], ["created_at", "2020-02-10 20:27:37.428363"], ["updated_at", "2020-02-10 20:27:37.428363"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 836c79da-d325-4309-8462-e37e07eb3ff6) to Async(default) with arguments: #<GlobalID:0x00007fb16d4cec50 @uri=#<URI::GID gid://chat-app/ChatMessage/165>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 165], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [836c79da-d325-4309-8462-e37e07eb3ff6] Performing ChatMessageCreationEventBroadcastJob (Job ID: 836c79da-d325-4309-8462-e37e07eb3ff6) from Async(default) enqueued at 2020-02-10T20:27:37Z with arguments: #<GlobalID:0x00007fb16d4d43a8 @uri=#<URI::GID gid://chat-app/ChatMessage/165>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [836c79da-d325-4309-8462-e37e07eb3ff6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [836c79da-d325-4309-8462-e37e07eb3ff6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [836c79da-d325-4309-8462-e37e07eb3ff6] [ActionCable] Broadcasting to chat_channel: {:id=>165, :created_at=>"20:27", :content=>"fuckyou nolan", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [836c79da-d325-4309-8462-e37e07eb3ff6] Performed ChatMessageCreationEventBroadcastJob (Job ID: 836c79da-d325-4309-8462-e37e07eb3ff6) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>165, "created_at"=>"20:27", "content"=>"fuckyou nolan", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>165, "created_at"=>"20:27", "content"=>"fuckyou nolan", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:34:39 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:34:39 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:34:39 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:34:39 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:34:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:34:39 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 27ms (Views: 23.3ms | ActiveRecord: 0.8ms | Allocations: 1623)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 15:34:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:34:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:34:39 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1583)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:21 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:21 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:35:21 -0500
Started GET "/cable" for ::1 at 2020-02-10 15:35:21 -0500
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 109)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-10 15:35:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:35:21 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 108)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:22 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:35:22 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 108)


Started GET "/cable" for ::1 at 2020-02-10 15:35:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:23 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:35:23 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:35:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:35:23 -0500
Processing by UsersController#index as HTML
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:35:27.972483"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:35:29.816135"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:36:20 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 15:36:30 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1031ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2594)


Started GET "/cable" for ::1 at 2020-02-10 15:36:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:36:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:36:31 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 1826)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Started GET "/users" for ::1 at 2020-02-10 15:36:31 -0500
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:36:31.544800"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Processing by UsersController#index as HTML
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.4ms | Allocations: 1975)


Started POST "/auth/login" for ::1 at 2020-02-10 15:36:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1031ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2402)


Started GET "/users" for ::1 at 2020-02-10 15:36:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Started GET "/cable" for ::1 at 2020-02-10 15:36:45 -0500
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1893)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:36:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:36:45.085380"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:02 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:38:03 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Started GET "/cable" for ::1 at 2020-02-10 15:38:03 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 2225)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:06 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:06 -0500
ChatChannel stopped streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-10 15:38:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:38:06 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1803)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:19 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:19 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 15:38:26 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1031ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 15:38:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:38:27 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 1830)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users" for ::1 at 2020-02-10 15:38:27 -0500
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 2288)


ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:38:36 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1044ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2571)


Started GET "/users" for ::1 at 2020-02-10 15:38:37 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable" for ::1 at 2020-02-10 15:38:37 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 1905)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:38:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:39:31 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:39:31 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 15:39:38 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 15:39:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:39:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:39:39 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.6ms | Allocations: 1801)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Started GET "/users" for ::1 at 2020-02-10 15:39:39 -0500
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Processing by UsersController#index as HTML
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 1981)


Started POST "/auth/login" for ::1 at 2020-02-10 15:39:45 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2519)


Started GET "/cable" for ::1 at 2020-02-10 15:39:46 -0500
Started GET "/users" for ::1 at 2020-02-10 15:39:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:39:46 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 1992)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:39:54.393500"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:41:20 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:41:21 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 15:41:28 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1050ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2388)


Started GET "/cable" for ::1 at 2020-02-10 15:41:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:41:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:41:29 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1584)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:41:29 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 1615)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:41:36 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1035ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2578)


Started GET "/cable" for ::1 at 2020-02-10 15:41:37 -0500
Started GET "/users" for ::1 at 2020-02-10 15:41:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:41:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1829)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:41:37.686728"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:42:49.549040"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:42:59 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/users" for ::1 at 2020-02-10 15:43:00 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable" for ::1 at 2020-02-10 15:43:00 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1895)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:43:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:43:00.547408"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:43:26.173922"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:43:31 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1028ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 15:43:32 -0500
Started GET "/users" for ::1 at 2020-02-10 15:43:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:43:32 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 1960)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:43:32.727001"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:43:42.369968"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
Unsubscribing from channel: {"channel":"ChatChannel"}
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:44:18 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:44:18 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:44:18 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:44:18 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 15:45:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1038ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 15:45:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:45:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:45:22 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.4ms | Allocations: 1617)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users" for ::1 at 2020-02-10 15:45:22 -0500
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:45:22.194510"], ["id", 6]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 2889)


  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:45:28 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2575)


Started GET "/cable" for ::1 at 2020-02-10 15:45:29 -0500
Started GET "/users" for ::1 at 2020-02-10 15:45:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:45:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 1917)


ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:45:37.789832"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 15:45:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1028ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 15:45:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:45:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:45:48 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.4ms | Allocations: 1606)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
Started GET "/users" for ::1 at 2020-02-10 15:45:48 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:45:48.427074"], ["id", 6]]
Processing by UsersController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1676)


  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:45:53.355582"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 15:45:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2669)


Started GET "/cable" for ::1 at 2020-02-10 15:45:59 -0500
Started GET "/users" for ::1 at 2020-02-10 15:45:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:45:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>5})
ChatChannel is streaming from chat_channel
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1918)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:45:59.401328"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey john", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey john"], ["created_at", "2020-02-10 20:46:04.767363"], ["updated_at", "2020-02-10 20:46:04.767363"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 274eb17d-4772-4dd6-aed9-e4d45bf1ce4e) to Async(default) with arguments: #<GlobalID:0x00007fb1711ca5c8 @uri=#<URI::GID gid://chat-app/ChatMessage/166>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 166], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [274eb17d-4772-4dd6-aed9-e4d45bf1ce4e] Performing ChatMessageCreationEventBroadcastJob (Job ID: 274eb17d-4772-4dd6-aed9-e4d45bf1ce4e) from Async(default) enqueued at 2020-02-10T20:46:04Z with arguments: #<GlobalID:0x00007fb1711e07d8 @uri=#<URI::GID gid://chat-app/ChatMessage/166>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [274eb17d-4772-4dd6-aed9-e4d45bf1ce4e]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [274eb17d-4772-4dd6-aed9-e4d45bf1ce4e]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [274eb17d-4772-4dd6-aed9-e4d45bf1ce4e] [ActionCable] Broadcasting to chat_channel: {:id=>166, :created_at=>"20:46", :content=>"hey john", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [274eb17d-4772-4dd6-aed9-e4d45bf1ce4e] Performed ChatMessageCreationEventBroadcastJob (Job ID: 274eb17d-4772-4dd6-aed9-e4d45bf1ce4e) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>166, "created_at"=>"20:46", "content"=>"hey john", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>166, "created_at"=>"20:46", "content"=>"hey john", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey nolan", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey nolan"], ["created_at", "2020-02-10 20:46:07.671634"], ["updated_at", "2020-02-10 20:46:07.671634"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f8a1ae39-055a-41d1-991f-6139db1b9784) to Async(default) with arguments: #<GlobalID:0x00007fb171211c48 @uri=#<URI::GID gid://chat-app/ChatMessage/167>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 167], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f8a1ae39-055a-41d1-991f-6139db1b9784] Performing ChatMessageCreationEventBroadcastJob (Job ID: f8a1ae39-055a-41d1-991f-6139db1b9784) from Async(default) enqueued at 2020-02-10T20:46:07Z with arguments: #<GlobalID:0x00007fb16d495748 @uri=#<URI::GID gid://chat-app/ChatMessage/167>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f8a1ae39-055a-41d1-991f-6139db1b9784]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f8a1ae39-055a-41d1-991f-6139db1b9784]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f8a1ae39-055a-41d1-991f-6139db1b9784] [ActionCable] Broadcasting to chat_channel: {:id=>167, :created_at=>"20:46", :content=>"hey nolan", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f8a1ae39-055a-41d1-991f-6139db1b9784] Performed ChatMessageCreationEventBroadcastJob (Job ID: f8a1ae39-055a-41d1-991f-6139db1b9784) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>167, "created_at"=>"20:46", "content"=>"hey nolan", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>167, "created_at"=>"20:46", "content"=>"hey nolan", "name"=>"john"} (via streamed from chat_channel)
Started POST "/signup" for 127.0.0.1 at 2020-02-10 15:46:48 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Casey", "email"=>"casey@gmail.com", "password"=>"[FILTERED]", "user"=>{"name"=>"Casey", "email"=>"casey@gmail.com"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Casey"], ["email", "casey@gmail.com"], ["password_digest", "$2a$12$tYrZPxWMDftFIDaz3XT6besfRFakZpSpIGG9aG0rf9EaTsZ8l9hXK"], ["created_at", "2020-02-10 20:46:48.650398"], ["updated_at", "2020-02-10 20:46:48.650398"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1307ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 7266)


Started POST "/auth/login" for 127.0.0.1 at 2020-02-10 15:47:49 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1043ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2728)


Started GET "/cable" for 127.0.0.1 at 2020-02-10 15:47:50 -0500
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-10 15:47:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for 127.0.0.1 at 2020-02-10 15:47:51 -0500
Started GET "/users" for 127.0.0.1 at 2020-02-10 15:47:51 -0500
Processing by UsersController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 2727)


Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 3428)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:47:51.024636"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-10 15:47:57 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for 127.0.0.1 at 2020-02-10 15:48:03 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for 127.0.0.1 at 2020-02-10 15:48:04 -0500
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-10 15:48:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for 127.0.0.1 at 2020-02-10 15:48:04 -0500
Started GET "/users" for 127.0.0.1 at 2020-02-10 15:48:04 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>7})
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 2206)


Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 1668)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 20:48:14.546919"], ["updated_at", "2020-02-10 20:48:14.546919"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 44e063d8-c0a2-4e17-b8e3-d7aafb20daa5) to Async(default) with arguments: #<GlobalID:0x00007fb16c2e7c58 @uri=#<URI::GID gid://chat-app/ChatMessage/168>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 168], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44e063d8-c0a2-4e17-b8e3-d7aafb20daa5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 44e063d8-c0a2-4e17-b8e3-d7aafb20daa5) from Async(default) enqueued at 2020-02-10T20:48:14Z with arguments: #<GlobalID:0x00007fb16c2edae0 @uri=#<URI::GID gid://chat-app/ChatMessage/168>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44e063d8-c0a2-4e17-b8e3-d7aafb20daa5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44e063d8-c0a2-4e17-b8e3-d7aafb20daa5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44e063d8-c0a2-4e17-b8e3-d7aafb20daa5] [ActionCable] Broadcasting to chat_channel: {:id=>168, :created_at=>"20:48", :content=>"hey", :name=>"Casey"}
ChatChannel transmitting {"id"=>168, "created_at"=>"20:48", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>168, "created_at"=>"20:48", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44e063d8-c0a2-4e17-b8e3-d7aafb20daa5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 44e063d8-c0a2-4e17-b8e3-d7aafb20daa5) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>168, "created_at"=>"20:48", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"fuck its casey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "fuck its casey"], ["created_at", "2020-02-10 20:48:20.057079"], ["updated_at", "2020-02-10 20:48:20.057079"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 8ddce75a-b023-4a58-a27e-788b194cd1b8) to Async(default) with arguments: #<GlobalID:0x00007fb16c3871b8 @uri=#<URI::GID gid://chat-app/ChatMessage/169>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 169], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8ddce75a-b023-4a58-a27e-788b194cd1b8] Performing ChatMessageCreationEventBroadcastJob (Job ID: 8ddce75a-b023-4a58-a27e-788b194cd1b8) from Async(default) enqueued at 2020-02-10T20:48:20Z with arguments: #<GlobalID:0x00007fb1711525f0 @uri=#<URI::GID gid://chat-app/ChatMessage/169>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8ddce75a-b023-4a58-a27e-788b194cd1b8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8ddce75a-b023-4a58-a27e-788b194cd1b8]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8ddce75a-b023-4a58-a27e-788b194cd1b8] [ActionCable] Broadcasting to chat_channel: {:id=>169, :created_at=>"20:48", :content=>"fuck its casey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [8ddce75a-b023-4a58-a27e-788b194cd1b8] Performed ChatMessageCreationEventBroadcastJob (Job ID: 8ddce75a-b023-4a58-a27e-788b194cd1b8) from Async(default) in 1.05ms
ChatChannel transmitting {"id"=>169, "created_at"=>"20:48", "content"=>"fuck its casey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>169, "created_at"=>"20:48", "content"=>"fuck its casey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>169, "created_at"=>"20:48", "content"=>"fuck its casey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 20:48:30.988099"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for 127.0.0.1 at 2020-02-10 15:48:54 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1038ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for 127.0.0.1 at 2020-02-10 15:48:55 -0500
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-10 15:48:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for 127.0.0.1 at 2020-02-10 15:48:55 -0500
Started GET "/users" for 127.0.0.1 at 2020-02-10 15:48:55 -0500
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms | Allocations: 3247)


  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 9ms (Views: 4.3ms | ActiveRecord: 0.4ms | Allocations: 5402)


  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 20:48:55.831756"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"what up bros im interviewing rn", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "what up bros im interviewing rn"], ["created_at", "2020-02-10 20:49:12.958880"], ["updated_at", "2020-02-10 20:49:12.958880"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 105ce520-1dd0-487f-a0e6-9703694d7992) to Async(default) with arguments: #<GlobalID:0x00007fb16d3f13f0 @uri=#<URI::GID gid://chat-app/ChatMessage/170>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 170], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [105ce520-1dd0-487f-a0e6-9703694d7992] Performing ChatMessageCreationEventBroadcastJob (Job ID: 105ce520-1dd0-487f-a0e6-9703694d7992) from Async(default) enqueued at 2020-02-10T20:49:12Z with arguments: #<GlobalID:0x00007fb16bf027a0 @uri=#<URI::GID gid://chat-app/ChatMessage/170>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [105ce520-1dd0-487f-a0e6-9703694d7992]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [105ce520-1dd0-487f-a0e6-9703694d7992]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [105ce520-1dd0-487f-a0e6-9703694d7992] [ActionCable] Broadcasting to chat_channel: {:id=>170, :created_at=>"20:49", :content=>"what up bros im interviewing rn", :name=>"Casey"}
ChatChannel transmitting {"id"=>170, "created_at"=>"20:49", "content"=>"what up bros im interviewing rn", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [105ce520-1dd0-487f-a0e6-9703694d7992] Performed ChatMessageCreationEventBroadcastJob (Job ID: 105ce520-1dd0-487f-a0e6-9703694d7992) from Async(default) in 1.02ms
ChatChannel transmitting {"id"=>170, "created_at"=>"20:49", "content"=>"what up bros im interviewing rn", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>170, "created_at"=>"20:49", "content"=>"what up bros im interviewing rn", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:51:01 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:51:01 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 15:51:28 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1066ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2731)


Started GET "/cable" for ::1 at 2020-02-10 15:51:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 15:51:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 15:51:30 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 1681)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 15:51:30 -0500
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 2857)


  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (21.2ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:36.299783"], ["updated_at", "2020-02-10 20:51:36.299783"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1d763972-c8ab-4b6b-9fa2-4f64b43df607) to Async(default) with arguments: #<GlobalID:0x00007fb1710e0400 @uri=#<URI::GID gid://chat-app/ChatMessage/171>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 171], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d763972-c8ab-4b6b-9fa2-4f64b43df607] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1d763972-c8ab-4b6b-9fa2-4f64b43df607) from Async(default) enqueued at 2020-02-10T20:51:36Z with arguments: #<GlobalID:0x00007fb1710f27b8 @uri=#<URI::GID gid://chat-app/ChatMessage/171>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d763972-c8ab-4b6b-9fa2-4f64b43df607]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d763972-c8ab-4b6b-9fa2-4f64b43df607]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d763972-c8ab-4b6b-9fa2-4f64b43df607] [ActionCable] Broadcasting to chat_channel: {:id=>171, :created_at=>"20:51", :content=>"yo", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1d763972-c8ab-4b6b-9fa2-4f64b43df607] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1d763972-c8ab-4b6b-9fa2-4f64b43df607) from Async(default) in 0.83ms
ChatChannel transmitting {"id"=>171, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>171, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>171, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:36.786377"], ["updated_at", "2020-02-10 20:51:36.786377"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d692d39f-e160-424e-b551-5c3927da08b9) to Async(default) with arguments: #<GlobalID:0x00007fb16d5530e0 @uri=#<URI::GID gid://chat-app/ChatMessage/172>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 172], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d692d39f-e160-424e-b551-5c3927da08b9] Performing ChatMessageCreationEventBroadcastJob (Job ID: d692d39f-e160-424e-b551-5c3927da08b9) from Async(default) enqueued at 2020-02-10T20:51:36Z with arguments: #<GlobalID:0x00007fb16c386628 @uri=#<URI::GID gid://chat-app/ChatMessage/172>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d692d39f-e160-424e-b551-5c3927da08b9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d692d39f-e160-424e-b551-5c3927da08b9]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d692d39f-e160-424e-b551-5c3927da08b9] [ActionCable] Broadcasting to chat_channel: {:id=>172, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>172, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d692d39f-e160-424e-b551-5c3927da08b9] Performed ChatMessageCreationEventBroadcastJob (Job ID: d692d39f-e160-424e-b551-5c3927da08b9) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>172, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>172, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:37.203670"], ["updated_at", "2020-02-10 20:51:37.203670"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 724ca294-1be3-44b9-b151-60dbdb9e9141) to Async(default) with arguments: #<GlobalID:0x00007fb16b28df60 @uri=#<URI::GID gid://chat-app/ChatMessage/173>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 173], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724ca294-1be3-44b9-b151-60dbdb9e9141] Performing ChatMessageCreationEventBroadcastJob (Job ID: 724ca294-1be3-44b9-b151-60dbdb9e9141) from Async(default) enqueued at 2020-02-10T20:51:37Z with arguments: #<GlobalID:0x00007fb16c378a78 @uri=#<URI::GID gid://chat-app/ChatMessage/173>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724ca294-1be3-44b9-b151-60dbdb9e9141]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724ca294-1be3-44b9-b151-60dbdb9e9141]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724ca294-1be3-44b9-b151-60dbdb9e9141] [ActionCable] Broadcasting to chat_channel: {:id=>173, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>173, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>173, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724ca294-1be3-44b9-b151-60dbdb9e9141] Performed ChatMessageCreationEventBroadcastJob (Job ID: 724ca294-1be3-44b9-b151-60dbdb9e9141) from Async(default) in 0.93ms
ChatChannel transmitting {"id"=>173, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:37.571676"], ["updated_at", "2020-02-10 20:51:37.571676"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 26218066-cfa8-46bb-ba60-ec5f146ebb42) to Async(default) with arguments: #<GlobalID:0x00007fb16c3ae2b8 @uri=#<URI::GID gid://chat-app/ChatMessage/174>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 174], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26218066-cfa8-46bb-ba60-ec5f146ebb42] Performing ChatMessageCreationEventBroadcastJob (Job ID: 26218066-cfa8-46bb-ba60-ec5f146ebb42) from Async(default) enqueued at 2020-02-10T20:51:37Z with arguments: #<GlobalID:0x00007fb16e07bc10 @uri=#<URI::GID gid://chat-app/ChatMessage/174>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26218066-cfa8-46bb-ba60-ec5f146ebb42]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26218066-cfa8-46bb-ba60-ec5f146ebb42]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26218066-cfa8-46bb-ba60-ec5f146ebb42] [ActionCable] Broadcasting to chat_channel: {:id=>174, :created_at=>"20:51", :content=>"yo", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26218066-cfa8-46bb-ba60-ec5f146ebb42] Performed ChatMessageCreationEventBroadcastJob (Job ID: 26218066-cfa8-46bb-ba60-ec5f146ebb42) from Async(default) in 1.24ms
ChatChannel transmitting {"id"=>174, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>174, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>174, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:37.971084"], ["updated_at", "2020-02-10 20:51:37.971084"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 463cb183-a983-4dcc-8b77-113a85a234ae) to Async(default) with arguments: #<GlobalID:0x00007fb16ba35448 @uri=#<URI::GID gid://chat-app/ChatMessage/175>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 175], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [463cb183-a983-4dcc-8b77-113a85a234ae] Performing ChatMessageCreationEventBroadcastJob (Job ID: 463cb183-a983-4dcc-8b77-113a85a234ae) from Async(default) enqueued at 2020-02-10T20:51:37Z with arguments: #<GlobalID:0x00007fb16bb9a130 @uri=#<URI::GID gid://chat-app/ChatMessage/175>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [463cb183-a983-4dcc-8b77-113a85a234ae]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [463cb183-a983-4dcc-8b77-113a85a234ae]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [463cb183-a983-4dcc-8b77-113a85a234ae] [ActionCable] Broadcasting to chat_channel: {:id=>175, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>175, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>175, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [463cb183-a983-4dcc-8b77-113a85a234ae] Performed ChatMessageCreationEventBroadcastJob (Job ID: 463cb183-a983-4dcc-8b77-113a85a234ae) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>175, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:38.427783"], ["updated_at", "2020-02-10 20:51:38.427783"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: dbcd03e7-5ab3-497d-acb8-4142fee9c67c) to Async(default) with arguments: #<GlobalID:0x00007fb16d350478 @uri=#<URI::GID gid://chat-app/ChatMessage/176>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 176], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dbcd03e7-5ab3-497d-acb8-4142fee9c67c] Performing ChatMessageCreationEventBroadcastJob (Job ID: dbcd03e7-5ab3-497d-acb8-4142fee9c67c) from Async(default) enqueued at 2020-02-10T20:51:38Z with arguments: #<GlobalID:0x00007fb16d3a88d0 @uri=#<URI::GID gid://chat-app/ChatMessage/176>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dbcd03e7-5ab3-497d-acb8-4142fee9c67c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dbcd03e7-5ab3-497d-acb8-4142fee9c67c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dbcd03e7-5ab3-497d-acb8-4142fee9c67c] [ActionCable] Broadcasting to chat_channel: {:id=>176, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>176, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [dbcd03e7-5ab3-497d-acb8-4142fee9c67c] Performed ChatMessageCreationEventBroadcastJob (Job ID: dbcd03e7-5ab3-497d-acb8-4142fee9c67c) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>176, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>176, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:38.907339"], ["updated_at", "2020-02-10 20:51:38.907339"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 87af77ff-a09b-4d17-b8e5-0e908f62366c) to Async(default) with arguments: #<GlobalID:0x00007fb16d418c48 @uri=#<URI::GID gid://chat-app/ChatMessage/177>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 177], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [87af77ff-a09b-4d17-b8e5-0e908f62366c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 87af77ff-a09b-4d17-b8e5-0e908f62366c) from Async(default) enqueued at 2020-02-10T20:51:38Z with arguments: #<GlobalID:0x00007fb16bf19270 @uri=#<URI::GID gid://chat-app/ChatMessage/177>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [87af77ff-a09b-4d17-b8e5-0e908f62366c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [87af77ff-a09b-4d17-b8e5-0e908f62366c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [87af77ff-a09b-4d17-b8e5-0e908f62366c] [ActionCable] Broadcasting to chat_channel: {:id=>177, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>177, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [87af77ff-a09b-4d17-b8e5-0e908f62366c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 87af77ff-a09b-4d17-b8e5-0e908f62366c) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>177, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>177, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:39.515638"], ["updated_at", "2020-02-10 20:51:39.515638"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a) to Async(default) with arguments: #<GlobalID:0x00007fb171053898 @uri=#<URI::GID gid://chat-app/ChatMessage/178>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 178], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a) from Async(default) enqueued at 2020-02-10T20:51:39Z with arguments: #<GlobalID:0x00007fb16b1ade60 @uri=#<URI::GID gid://chat-app/ChatMessage/178>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a] [ActionCable] Broadcasting to chat_channel: {:id=>178, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>178, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>178, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 76deb1d9-5ef7-4c77-bdf8-a1bf4b09892a) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>178, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:51:40.075316"], ["updated_at", "2020-02-10 20:51:40.075316"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c2be821c-7537-4e91-ad64-696fab9a14ac) to Async(default) with arguments: #<GlobalID:0x00007fb16b1e78e0 @uri=#<URI::GID gid://chat-app/ChatMessage/179>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 179], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c2be821c-7537-4e91-ad64-696fab9a14ac] Performing ChatMessageCreationEventBroadcastJob (Job ID: c2be821c-7537-4e91-ad64-696fab9a14ac) from Async(default) enqueued at 2020-02-10T20:51:40Z with arguments: #<GlobalID:0x00007fb16c28e5e0 @uri=#<URI::GID gid://chat-app/ChatMessage/179>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c2be821c-7537-4e91-ad64-696fab9a14ac]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c2be821c-7537-4e91-ad64-696fab9a14ac]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c2be821c-7537-4e91-ad64-696fab9a14ac] [ActionCable] Broadcasting to chat_channel: {:id=>179, :created_at=>"20:51", :content=>"yo", :name=>"john"}
ChatChannel transmitting {"id"=>179, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>179, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c2be821c-7537-4e91-ad64-696fab9a14ac] Performed ChatMessageCreationEventBroadcastJob (Job ID: c2be821c-7537-4e91-ad64-696fab9a14ac) from Async(default) in 1.02ms
ChatChannel transmitting {"id"=>179, "created_at"=>"20:51", "content"=>"yo", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yo", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yo"], ["created_at", "2020-02-10 20:52:54.602318"], ["updated_at", "2020-02-10 20:52:54.602318"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5dda9237-fd04-4d03-bef2-07ca80bfd246) to Async(default) with arguments: #<GlobalID:0x00007fb16d52c6e8 @uri=#<URI::GID gid://chat-app/ChatMessage/180>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 180], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5dda9237-fd04-4d03-bef2-07ca80bfd246] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5dda9237-fd04-4d03-bef2-07ca80bfd246) from Async(default) enqueued at 2020-02-10T20:52:54Z with arguments: #<GlobalID:0x00007fb16e03b598 @uri=#<URI::GID gid://chat-app/ChatMessage/180>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5dda9237-fd04-4d03-bef2-07ca80bfd246]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5dda9237-fd04-4d03-bef2-07ca80bfd246]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5dda9237-fd04-4d03-bef2-07ca80bfd246] [ActionCable] Broadcasting to chat_channel: {:id=>180, :created_at=>"20:52", :content=>"yo", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5dda9237-fd04-4d03-bef2-07ca80bfd246] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5dda9237-fd04-4d03-bef2-07ca80bfd246) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>180, "created_at"=>"20:52", "content"=>"yo", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>180, "created_at"=>"20:52", "content"=>"yo", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>180, "created_at"=>"20:52", "content"=>"yo", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yoyoyo", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yoyoyo"], ["created_at", "2020-02-10 20:52:56.201687"], ["updated_at", "2020-02-10 20:52:56.201687"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: eb0c8702-519a-463d-bb1e-e6e7a8041a5f) to Async(default) with arguments: #<GlobalID:0x00007fb16c2ef098 @uri=#<URI::GID gid://chat-app/ChatMessage/181>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 181], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [eb0c8702-519a-463d-bb1e-e6e7a8041a5f] Performing ChatMessageCreationEventBroadcastJob (Job ID: eb0c8702-519a-463d-bb1e-e6e7a8041a5f) from Async(default) enqueued at 2020-02-10T20:52:56Z with arguments: #<GlobalID:0x00007fb16c316b20 @uri=#<URI::GID gid://chat-app/ChatMessage/181>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [eb0c8702-519a-463d-bb1e-e6e7a8041a5f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [eb0c8702-519a-463d-bb1e-e6e7a8041a5f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [eb0c8702-519a-463d-bb1e-e6e7a8041a5f] [ActionCable] Broadcasting to chat_channel: {:id=>181, :created_at=>"20:52", :content=>"yoyoyo", :name=>"Casey"}
ChatChannel transmitting {"id"=>181, "created_at"=>"20:52", "content"=>"yoyoyo", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [eb0c8702-519a-463d-bb1e-e6e7a8041a5f] Performed ChatMessageCreationEventBroadcastJob (Job ID: eb0c8702-519a-463d-bb1e-e6e7a8041a5f) from Async(default) in 0.93ms
ChatChannel transmitting {"id"=>181, "created_at"=>"20:52", "content"=>"yoyoyo", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>181, "created_at"=>"20:52", "content"=>"yoyoyo", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"yoy", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "yoy"], ["created_at", "2020-02-10 20:52:56.816524"], ["updated_at", "2020-02-10 20:52:56.816524"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 459b6cff-b23d-4b30-a869-ab92af5f9663) to Async(default) with arguments: #<GlobalID:0x00007fb1711584c8 @uri=#<URI::GID gid://chat-app/ChatMessage/182>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 182], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [459b6cff-b23d-4b30-a869-ab92af5f9663] Performing ChatMessageCreationEventBroadcastJob (Job ID: 459b6cff-b23d-4b30-a869-ab92af5f9663) from Async(default) enqueued at 2020-02-10T20:52:56Z with arguments: #<GlobalID:0x00007fb16c38fed0 @uri=#<URI::GID gid://chat-app/ChatMessage/182>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [459b6cff-b23d-4b30-a869-ab92af5f9663]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [459b6cff-b23d-4b30-a869-ab92af5f9663]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [459b6cff-b23d-4b30-a869-ab92af5f9663] [ActionCable] Broadcasting to chat_channel: {:id=>182, :created_at=>"20:52", :content=>"yoy", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [459b6cff-b23d-4b30-a869-ab92af5f9663] Performed ChatMessageCreationEventBroadcastJob (Job ID: 459b6cff-b23d-4b30-a869-ab92af5f9663) from Async(default) in 1.19ms
ChatChannel transmitting {"id"=>182, "created_at"=>"20:52", "content"=>"yoy", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>182, "created_at"=>"20:52", "content"=>"yoy", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>182, "created_at"=>"20:52", "content"=>"yoy", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"fuck", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "fuck"], ["created_at", "2020-02-10 20:52:57.832489"], ["updated_at", "2020-02-10 20:52:57.832489"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 170fba5e-d0ca-4b45-9076-bc3d57055d84) to Async(default) with arguments: #<GlobalID:0x00007fb16d559c60 @uri=#<URI::GID gid://chat-app/ChatMessage/183>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 183], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [170fba5e-d0ca-4b45-9076-bc3d57055d84] Performing ChatMessageCreationEventBroadcastJob (Job ID: 170fba5e-d0ca-4b45-9076-bc3d57055d84) from Async(default) enqueued at 2020-02-10T20:52:57Z with arguments: #<GlobalID:0x00007fb16c37f468 @uri=#<URI::GID gid://chat-app/ChatMessage/183>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [170fba5e-d0ca-4b45-9076-bc3d57055d84]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [170fba5e-d0ca-4b45-9076-bc3d57055d84]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [170fba5e-d0ca-4b45-9076-bc3d57055d84] [ActionCable] Broadcasting to chat_channel: {:id=>183, :created_at=>"20:52", :content=>"fuck", :name=>"Casey"}
ChatChannel transmitting {"id"=>183, "created_at"=>"20:52", "content"=>"fuck", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>183, "created_at"=>"20:52", "content"=>"fuck", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [170fba5e-d0ca-4b45-9076-bc3d57055d84] Performed ChatMessageCreationEventBroadcastJob (Job ID: 170fba5e-d0ca-4b45-9076-bc3d57055d84) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>183, "created_at"=>"20:52", "content"=>"fuck", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-10 15:57:10 -0500
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-10 15:57:10 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:57:10 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:57:14 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 15:57:14 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 16:02:22 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2411)


Started GET "/cable" for ::1 at 2020-02-10 16:02:23 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:02:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:02:23 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.6ms | Allocations: 1944)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
Started GET "/users" for ::1 at 2020-02-10 16:02:23 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
Processing by UsersController#index as HTML
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 1840)


Started GET "/users" for ::1 at 2020-02-10 16:02:23 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.7ms | Allocations: 1668)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:02:37 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:02:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2541)


Started GET "/cable" for ::1 at 2020-02-10 16:02:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:02:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:02:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 2036)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:06:02 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:07:53 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 16:07:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:07:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:07:54 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.6ms | Allocations: 2018)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:08:03 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1047ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2578)


Started GET "/cable" for ::1 at 2020-02-10 16:08:04 -0500
Started GET "/users" for ::1 at 2020-02-10 16:08:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:08:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1920)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:08:05.174237"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:08:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2595)


Started GET "/users" for ::1 at 2020-02-10 16:08:10 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable" for ::1 at 2020-02-10 16:08:10 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1992)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:08:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:08:12.094980"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:08:24 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1046ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2649)


Started GET "/users" for ::1 at 2020-02-10 16:08:25 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:08:25 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:08:25 -0500
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 2107)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:08:25.809910"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:08:28 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:08:28 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:08:28 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 16:13:53 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1022ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/users" for ::1 at 2020-02-10 16:13:54 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:13:54 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:13:54 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 2307)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:14:00.915144"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:16:53 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:16:53 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 16:17:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1004ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2530)


Started GET "/cable" for ::1 at 2020-02-10 16:17:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:17:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:17:22 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 1909)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:18:14 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:18:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1010ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 16:18:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:18:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:18:21 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 1729)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:19:14 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:19:34 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1012ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 16:19:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:19:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:19:35 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 2010)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:19:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1011ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/users" for ::1 at 2020-02-10 16:19:45 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:19:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:19:45 -0500
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1681)


Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:19:45.573426"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:22:30 -0500
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:22:30 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:22:46 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1026ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2527)


Started GET "/cable" for ::1 at 2020-02-10 16:22:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:22:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:22:47 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 1712)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:23:21 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:23:29 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1020ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2516)


Started GET "/cable" for ::1 at 2020-02-10 16:23:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:23:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:23:30 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 1886)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:25:02 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1012ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2575)


Started GET "/users" for ::1 at 2020-02-10 16:25:03 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:25:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:25:03 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 2286)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel#disappear({"userId"=>5})
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:25:04.399865"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:25:08.552724"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:25:09 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 16:25:14 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1013ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2547)


Started GET "/cable" for ::1 at 2020-02-10 16:25:15 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:25:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:25:15 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1997)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:25:15.662204"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:25:26 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1011ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2619)


Started GET "/users" for ::1 at 2020-02-10 16:25:27 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:25:27 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:25:27 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 2481)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:25:27.216520"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:25:35.171600"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:25:38.290278"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-10 16:26:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1011ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2677)


Started GET "/cable" for ::1 at 2020-02-10 16:26:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:26:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:26:48 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.4ms | Allocations: 1921)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:26:48.862523"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:26:55 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1013ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/users" for ::1 at 2020-02-10 16:26:56 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable" for ::1 at 2020-02-10 16:26:56 -0500
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 2013)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:26:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:26:56.511044"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:27:04.167359"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:27:06.791447"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:03 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:03 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:03 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:03 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:03 -0500
Started POST "/auth/login" for ::1 at 2020-02-10 16:30:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1022ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2391)


Started GET "/cable" for ::1 at 2020-02-10 16:30:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-10 16:30:22 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms | Allocations: 1910)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:30:22.871619"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:30:28 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1010ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-10 16:30:29 -0500
Started GET "/users" for ::1 at 2020-02-10 16:30:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:30:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 2003)


ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:30:29.538179"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 21:30:40.482725"], ["updated_at", "2020-02-10 21:30:40.482725"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5c884f67-0c16-4d9c-ab32-288de696c82c) to Async(default) with arguments: #<GlobalID:0x00007fb16c309088 @uri=#<URI::GID gid://chat-app/ChatMessage/184>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 184], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5c884f67-0c16-4d9c-ab32-288de696c82c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5c884f67-0c16-4d9c-ab32-288de696c82c) from Async(default) enqueued at 2020-02-10T21:30:40Z with arguments: #<GlobalID:0x00007fb16c337758 @uri=#<URI::GID gid://chat-app/ChatMessage/184>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5c884f67-0c16-4d9c-ab32-288de696c82c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5c884f67-0c16-4d9c-ab32-288de696c82c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5c884f67-0c16-4d9c-ab32-288de696c82c] [ActionCable] Broadcasting to chat_channel: {:id=>184, :created_at=>"21:30", :content=>"hey", :name=>"john"}
ChatChannel transmitting {"id"=>184, "created_at"=>"21:30", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5c884f67-0c16-4d9c-ab32-288de696c82c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5c884f67-0c16-4d9c-ab32-288de696c82c) from Async(default) in 0.88ms
ChatChannel transmitting {"id"=>184, "created_at"=>"21:30", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 21:30:43.168490"], ["updated_at", "2020-02-10 21:30:43.168490"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 25b4bdbd-ca48-448b-b828-0080c06cb102) to Async(default) with arguments: #<GlobalID:0x00007fb16c38e918 @uri=#<URI::GID gid://chat-app/ChatMessage/185>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 185], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [25b4bdbd-ca48-448b-b828-0080c06cb102] Performing ChatMessageCreationEventBroadcastJob (Job ID: 25b4bdbd-ca48-448b-b828-0080c06cb102) from Async(default) enqueued at 2020-02-10T21:30:43Z with arguments: #<GlobalID:0x00007fb1711709d8 @uri=#<URI::GID gid://chat-app/ChatMessage/185>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [25b4bdbd-ca48-448b-b828-0080c06cb102]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [25b4bdbd-ca48-448b-b828-0080c06cb102]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [25b4bdbd-ca48-448b-b828-0080c06cb102] [ActionCable] Broadcasting to chat_channel: {:id=>185, :created_at=>"21:30", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [25b4bdbd-ca48-448b-b828-0080c06cb102] Performed ChatMessageCreationEventBroadcastJob (Job ID: 25b4bdbd-ca48-448b-b828-0080c06cb102) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>185, "created_at"=>"21:30", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>185, "created_at"=>"21:30", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hmm", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (1.2ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hmm"], ["created_at", "2020-02-10 21:38:19.114131"], ["updated_at", "2020-02-10 21:38:19.114131"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac) to Async(default) with arguments: #<GlobalID:0x00007fb16c254278 @uri=#<URI::GID gid://chat-app/ChatMessage/186>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 186], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac] Performing ChatMessageCreationEventBroadcastJob (Job ID: 0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac) from Async(default) enqueued at 2020-02-10T21:38:19Z with arguments: #<GlobalID:0x00007fb16c274e10 @uri=#<URI::GID gid://chat-app/ChatMessage/186>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac] [ActionCable] Broadcasting to chat_channel: {:id=>186, :created_at=>"21:38", :content=>"hmm", :name=>"Nolan"}
ChatChannel transmitting {"id"=>186, "created_at"=>"21:38", "content"=>"hmm", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac] Performed ChatMessageCreationEventBroadcastJob (Job ID: 0c3f39e7-b9a7-4fde-9d0c-bbe702f3c9ac) from Async(default) in 1.49ms
ChatChannel transmitting {"id"=>186, "created_at"=>"21:38", "content"=>"hmm", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:44:38.945388"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 21:44:40.938800"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:44:57 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:45:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:45:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:45:47 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 16:45:47 -0500
Started GET "/cable" for ::1 at 2020-02-10 16:45:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:45:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-10 16:45:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:45:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/auth/login" for ::1 at 2020-02-10 16:46:19 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2634)


Started GET "/cable" for ::1 at 2020-02-10 16:46:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:46:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-10 16:46:20 -0500
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:46:20.627617"], ["id", 6]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 3011)


[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-10 16:46:26 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1006ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-10 16:46:27 -0500
Started GET "/users" for ::1 at 2020-02-10 16:46:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 16:46:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 1922)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-10 21:46:27.276854"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey john", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey john"], ["created_at", "2020-02-10 21:46:31.782898"], ["updated_at", "2020-02-10 21:46:31.782898"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5d165a7c-c97f-4bf4-9452-4b6d7785eaeb) to Async(default) with arguments: #<GlobalID:0x00007fb16d4fc088 @uri=#<URI::GID gid://chat-app/ChatMessage/187>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 187], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d165a7c-c97f-4bf4-9452-4b6d7785eaeb] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5d165a7c-c97f-4bf4-9452-4b6d7785eaeb) from Async(default) enqueued at 2020-02-10T21:46:31Z with arguments: #<GlobalID:0x00007fb16d506cb8 @uri=#<URI::GID gid://chat-app/ChatMessage/187>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d165a7c-c97f-4bf4-9452-4b6d7785eaeb]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d165a7c-c97f-4bf4-9452-4b6d7785eaeb]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d165a7c-c97f-4bf4-9452-4b6d7785eaeb] [ActionCable] Broadcasting to chat_channel: {:id=>187, :created_at=>"21:46", :content=>"hey john", :name=>"Nolan"}
ChatChannel transmitting {"id"=>187, "created_at"=>"21:46", "content"=>"hey john", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>187, "created_at"=>"21:46", "content"=>"hey john", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d165a7c-c97f-4bf4-9452-4b6d7785eaeb] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5d165a7c-c97f-4bf4-9452-4b6d7785eaeb) from Async(default) in 0.94ms
ChatChannel#create({"content"=>"hey nolan", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey nolan"], ["created_at", "2020-02-10 21:46:34.487100"], ["updated_at", "2020-02-10 21:46:34.487100"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6a1e5254-551e-4c83-bd11-da6d6931c9ef) to Async(default) with arguments: #<GlobalID:0x00007fb16e02a6d0 @uri=#<URI::GID gid://chat-app/ChatMessage/188>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 188], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a1e5254-551e-4c83-bd11-da6d6931c9ef] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6a1e5254-551e-4c83-bd11-da6d6931c9ef) from Async(default) enqueued at 2020-02-10T21:46:34Z with arguments: #<GlobalID:0x00007fb16e041010 @uri=#<URI::GID gid://chat-app/ChatMessage/188>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a1e5254-551e-4c83-bd11-da6d6931c9ef]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a1e5254-551e-4c83-bd11-da6d6931c9ef]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a1e5254-551e-4c83-bd11-da6d6931c9ef] [ActionCable] Broadcasting to chat_channel: {:id=>188, :created_at=>"21:46", :content=>"hey nolan", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a1e5254-551e-4c83-bd11-da6d6931c9ef] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6a1e5254-551e-4c83-bd11-da6d6931c9ef) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>188, "created_at"=>"21:46", "content"=>"hey nolan", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>188, "created_at"=>"21:46", "content"=>"hey nolan", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-10 21:46:54.708937"], ["updated_at", "2020-02-10 21:46:54.708937"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e43e11c8-03e1-4ef2-b579-759fc9e6830b) to Async(default) with arguments: #<GlobalID:0x00007fb16c34d260 @uri=#<URI::GID gid://chat-app/ChatMessage/189>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 189], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e43e11c8-03e1-4ef2-b579-759fc9e6830b] Performing ChatMessageCreationEventBroadcastJob (Job ID: e43e11c8-03e1-4ef2-b579-759fc9e6830b) from Async(default) enqueued at 2020-02-10T21:46:54Z with arguments: #<GlobalID:0x00007fb16e0689f8 @uri=#<URI::GID gid://chat-app/ChatMessage/189>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e43e11c8-03e1-4ef2-b579-759fc9e6830b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e43e11c8-03e1-4ef2-b579-759fc9e6830b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e43e11c8-03e1-4ef2-b579-759fc9e6830b] [ActionCable] Broadcasting to chat_channel: {:id=>189, :created_at=>"21:46", :content=>"hey", :name=>"john"}
ChatChannel transmitting {"id"=>189, "created_at"=>"21:46", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e43e11c8-03e1-4ef2-b579-759fc9e6830b] Performed ChatMessageCreationEventBroadcastJob (Job ID: e43e11c8-03e1-4ef2-b579-759fc9e6830b) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>189, "created_at"=>"21:46", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"ðŸ¥°", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "ðŸ¥°"], ["created_at", "2020-02-10 21:57:11.766368"], ["updated_at", "2020-02-10 21:57:11.766368"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 00524eca-5180-4aa7-9008-8a937702ba3f) to Async(default) with arguments: #<GlobalID:0x00007fb16c324068 @uri=#<URI::GID gid://chat-app/ChatMessage/190>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 190], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00524eca-5180-4aa7-9008-8a937702ba3f] Performing ChatMessageCreationEventBroadcastJob (Job ID: 00524eca-5180-4aa7-9008-8a937702ba3f) from Async(default) enqueued at 2020-02-10T21:57:11Z with arguments: #<GlobalID:0x00007fb16c34f358 @uri=#<URI::GID gid://chat-app/ChatMessage/190>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00524eca-5180-4aa7-9008-8a937702ba3f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00524eca-5180-4aa7-9008-8a937702ba3f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00524eca-5180-4aa7-9008-8a937702ba3f] [ActionCable] Broadcasting to chat_channel: {:id=>190, :created_at=>"21:57", :content=>"ðŸ¥°", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00524eca-5180-4aa7-9008-8a937702ba3f] Performed ChatMessageCreationEventBroadcastJob (Job ID: 00524eca-5180-4aa7-9008-8a937702ba3f) from Async(default) in 0.95ms
ChatChannel transmitting {"id"=>190, "created_at"=>"21:57", "content"=>"ðŸ¥°", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>190, "created_at"=>"21:57", "content"=>"ðŸ¥°", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 22:09:27.281053"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-10 22:09:31.056041"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 17:25:42 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-10 17:25:42 -0500
Started GET "/cable" for ::1 at 2020-02-10 17:25:52 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 17:25:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-10 17:25:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-10 17:25:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 07:45:03 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 07:45:03 -0500
Started GET "/cable" for ::1 at 2020-02-11 07:45:04 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 07:45:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 07:45:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 07:45:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 07:45:06 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 08:41:31 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 08:41:31 -0500
Started GET "/cable" for ::1 at 2020-02-11 08:41:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 08:41:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 08:41:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 08:41:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 08:41:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 08:41:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 08:41:57 -0500
Started GET "/cable" for ::1 at 2020-02-11 08:42:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 08:42:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 11:04:17 -0500
Started GET "/cable" for ::1 at 2020-02-11 11:04:17 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:04:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:04:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 11:05:36 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 11:05:36 -0500
Started POST "/auth/login" for ::1 at 2020-02-11 11:05:43 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1074ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 9431)


Started GET "/cable" for ::1 at 2020-02-11 11:05:44 -0500
Started GET "/users" for ::1 at 2020-02-11 11:05:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:05:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 22ms (Views: 13.2ms | ActiveRecord: 0.7ms | Allocations: 3149)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 16:05:45.000949"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 11:05:52 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 2419)


Started GET "/cable" for ::1 at 2020-02-11 11:05:53 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:05:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
Started GET "/users" for ::1 at 2020-02-11 11:05:53 -0500
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:21:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 2458)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 16:05:53.802605"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey nolan", "created_by"=>5})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey nolan"], ["created_at", "2020-02-11 16:06:00.161947"], ["updated_at", "2020-02-11 16:06:00.161947"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5e80ef74-0491-4edf-a8b0-20b160935acc) to Async(default) with arguments: #<GlobalID:0x00007fd1f7727128 @uri=#<URI::GID gid://chat-app/ChatMessage/191>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 191], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5e80ef74-0491-4edf-a8b0-20b160935acc] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5e80ef74-0491-4edf-a8b0-20b160935acc) from Async(default) enqueued at 2020-02-11T16:06:00Z with arguments: #<GlobalID:0x00007fd1f7776430 @uri=#<URI::GID gid://chat-app/ChatMessage/191>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5e80ef74-0491-4edf-a8b0-20b160935acc]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5e80ef74-0491-4edf-a8b0-20b160935acc]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5e80ef74-0491-4edf-a8b0-20b160935acc] [ActionCable] Broadcasting to chat_channel: {:id=>191, :created_at=>"16:06", :content=>"Hey nolan", :name=>"john"}
ChatChannel transmitting {"id"=>191, "created_at"=>"16:06", "content"=>"Hey nolan", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5e80ef74-0491-4edf-a8b0-20b160935acc] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5e80ef74-0491-4edf-a8b0-20b160935acc) from Async(default) in 3.95ms
ChatChannel transmitting {"id"=>191, "created_at"=>"16:06", "content"=>"Hey nolan", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey john", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey john"], ["created_at", "2020-02-11 16:06:04.241726"], ["updated_at", "2020-02-11 16:06:04.241726"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: e9a99a64-38ae-49db-9244-23617dc897f8) to Async(default) with arguments: #<GlobalID:0x00007fd1f58ea520 @uri=#<URI::GID gid://chat-app/ChatMessage/192>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 192], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e9a99a64-38ae-49db-9244-23617dc897f8] Performing ChatMessageCreationEventBroadcastJob (Job ID: e9a99a64-38ae-49db-9244-23617dc897f8) from Async(default) enqueued at 2020-02-11T16:06:04Z with arguments: #<GlobalID:0x00007fd1fb0b24b0 @uri=#<URI::GID gid://chat-app/ChatMessage/192>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e9a99a64-38ae-49db-9244-23617dc897f8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e9a99a64-38ae-49db-9244-23617dc897f8]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e9a99a64-38ae-49db-9244-23617dc897f8] [ActionCable] Broadcasting to chat_channel: {:id=>192, :created_at=>"16:06", :content=>"Hey john", :name=>"Nolan"}
ChatChannel transmitting {"id"=>192, "created_at"=>"16:06", "content"=>"Hey john", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [e9a99a64-38ae-49db-9244-23617dc897f8] Performed ChatMessageCreationEventBroadcastJob (Job ID: e9a99a64-38ae-49db-9244-23617dc897f8) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>192, "created_at"=>"16:06", "content"=>"Hey john", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 16:06:08.874487"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 11:06:19 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1028ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2397)


Started GET "/users" for ::1 at 2020-02-11 11:06:20 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable" for ::1 at 2020-02-11 11:06:20 -0500
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 2025)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:06:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 16:06:20.675316"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"im just going to close the tab", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "im just going to close the tab"], ["created_at", "2020-02-11 16:06:27.832779"], ["updated_at", "2020-02-11 16:06:27.832779"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:53:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:53:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f22b8552-6af9-4cc6-aa0d-78d2c42da727) to Async(default) with arguments: #<GlobalID:0x00007fd1f6cfd800 @uri=#<URI::GID gid://chat-app/ChatMessage/193>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 193], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f22b8552-6af9-4cc6-aa0d-78d2c42da727] Performing ChatMessageCreationEventBroadcastJob (Job ID: f22b8552-6af9-4cc6-aa0d-78d2c42da727) from Async(default) enqueued at 2020-02-11T16:06:27Z with arguments: #<GlobalID:0x00007fd1f5a08e48 @uri=#<URI::GID gid://chat-app/ChatMessage/193>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f22b8552-6af9-4cc6-aa0d-78d2c42da727]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f22b8552-6af9-4cc6-aa0d-78d2c42da727]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f22b8552-6af9-4cc6-aa0d-78d2c42da727] [ActionCable] Broadcasting to chat_channel: {:id=>193, :created_at=>"16:06", :content=>"im just going to close the tab", :name=>"john"}
ChatChannel transmitting {"id"=>193, "created_at"=>"16:06", "content"=>"im just going to close the tab", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f22b8552-6af9-4cc6-aa0d-78d2c42da727] Performed ChatMessageCreationEventBroadcastJob (Job ID: f22b8552-6af9-4cc6-aa0d-78d2c42da727) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>193, "created_at"=>"16:06", "content"=>"im just going to close the tab", "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 11:06:33 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 11:06:33 -0500
ChatChannel stopped streaming from chat_channel
Started POST "/auth/login" for ::1 at 2020-02-11 11:11:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2393)


Started GET "/users" for ::1 at 2020-02-11 11:11:10 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 1670)


Started GET "/cable" for ::1 at 2020-02-11 11:11:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:11:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 16:11:10.872395"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 11:15:50 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 16:17:39.147533"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
Started POST "/auth/login" for ::1 at 2020-02-11 11:17:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2402)


Started GET "/users" for ::1 at 2020-02-11 11:17:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 1705)


Started GET "/cable" for ::1 at 2020-02-11 11:17:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:17:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 16:17:45.398960"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 11:18:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1042ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2631)


Started GET "/cable" for ::1 at 2020-02-11 11:18:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:18:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 11:18:10 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1668)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 16:18:11.735798"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 11:18:17 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2388)


Started GET "/cable" for ::1 at 2020-02-11 11:18:18 -0500
Started GET "/users" for ::1 at 2020-02-11 11:18:18 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 11:18:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 1950)


ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:21:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 16:18:18.484740"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 16:22:53.802461"], ["id", 6]]
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:35:in `disappear'
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 16:23:02.123592"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 11:23:06 -0500
Started POST "/auth/login" for ::1 at 2020-02-11 12:00:27 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1063ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 8065)


Started GET "/cable" for ::1 at 2020-02-11 12:00:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:00:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:00:28 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 1930)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-11 12:00:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:00:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:00:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:00:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:00:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:00:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel#create({"content"=>"hello?", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hello?"], ["created_at", "2020-02-11 17:01:36.429191"], ["updated_at", "2020-02-11 17:01:36.429191"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 506681b5-301b-4389-b7db-62635cfdd6e0) to Async(default) with arguments: #<GlobalID:0x00007fd1f69fa068 @uri=#<URI::GID gid://chat-app/ChatMessage/194>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 194], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [506681b5-301b-4389-b7db-62635cfdd6e0] Performing ChatMessageCreationEventBroadcastJob (Job ID: 506681b5-301b-4389-b7db-62635cfdd6e0) from Async(default) enqueued at 2020-02-11T17:01:36Z with arguments: #<GlobalID:0x00007fd1f74c1140 @uri=#<URI::GID gid://chat-app/ChatMessage/194>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [506681b5-301b-4389-b7db-62635cfdd6e0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [506681b5-301b-4389-b7db-62635cfdd6e0]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [506681b5-301b-4389-b7db-62635cfdd6e0] [ActionCable] Broadcasting to chat_channel: {:id=>194, :created_at=>"17:01", :content=>"hello?", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [506681b5-301b-4389-b7db-62635cfdd6e0] Performed ChatMessageCreationEventBroadcastJob (Job ID: 506681b5-301b-4389-b7db-62635cfdd6e0) from Async(default) in 0.93ms
ChatChannel transmitting {"id"=>194, "created_at"=>"17:01", "content"=>"hello?", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:01:39 -0500
Started POST "/auth/login" for ::1 at 2020-02-11 12:01:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1046ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-11 12:01:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:01:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:01:48 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 2404)


ChatChannel#create({"content"=>"hey casey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey casey"], ["created_at", "2020-02-11 17:02:06.113374"], ["updated_at", "2020-02-11 17:02:06.113374"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 981dd3f9-f71e-472a-979e-c90d3cfe478b) to Async(default) with arguments: #<GlobalID:0x00007fd1f51f1a98 @uri=#<URI::GID gid://chat-app/ChatMessage/195>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 195], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [981dd3f9-f71e-472a-979e-c90d3cfe478b] Performing ChatMessageCreationEventBroadcastJob (Job ID: 981dd3f9-f71e-472a-979e-c90d3cfe478b) from Async(default) enqueued at 2020-02-11T17:02:06Z with arguments: #<GlobalID:0x00007fd1fb0d1ce8 @uri=#<URI::GID gid://chat-app/ChatMessage/195>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [981dd3f9-f71e-472a-979e-c90d3cfe478b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [981dd3f9-f71e-472a-979e-c90d3cfe478b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [981dd3f9-f71e-472a-979e-c90d3cfe478b] [ActionCable] Broadcasting to chat_channel: {:id=>195, :created_at=>"17:02", :content=>"hey casey", :name=>"Nolan"}
ChatChannel transmitting {"id"=>195, "created_at"=>"17:02", "content"=>"hey casey", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [981dd3f9-f71e-472a-979e-c90d3cfe478b] Performed ChatMessageCreationEventBroadcastJob (Job ID: 981dd3f9-f71e-472a-979e-c90d3cfe478b) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>195, "created_at"=>"17:02", "content"=>"hey casey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey nolan", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey nolan"], ["created_at", "2020-02-11 17:02:09.320899"], ["updated_at", "2020-02-11 17:02:09.320899"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7dd7a38a-0eab-43da-b0ad-f95280d50841) to Async(default) with arguments: #<GlobalID:0x00007fd1f59008e8 @uri=#<URI::GID gid://chat-app/ChatMessage/196>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 196], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7dd7a38a-0eab-43da-b0ad-f95280d50841] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7dd7a38a-0eab-43da-b0ad-f95280d50841) from Async(default) enqueued at 2020-02-11T17:02:09Z with arguments: #<GlobalID:0x00007fd1f783bc08 @uri=#<URI::GID gid://chat-app/ChatMessage/196>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7dd7a38a-0eab-43da-b0ad-f95280d50841]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7dd7a38a-0eab-43da-b0ad-f95280d50841]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7dd7a38a-0eab-43da-b0ad-f95280d50841] [ActionCable] Broadcasting to chat_channel: {:id=>196, :created_at=>"17:02", :content=>"hey nolan", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7dd7a38a-0eab-43da-b0ad-f95280d50841] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7dd7a38a-0eab-43da-b0ad-f95280d50841) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>196, "created_at"=>"17:02", "content"=>"hey nolan", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>196, "created_at"=>"17:02", "content"=>"hey nolan", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"your project looks good", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "your project looks good"], ["created_at", "2020-02-11 17:02:15.577494"], ["updated_at", "2020-02-11 17:02:15.577494"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a6092603-9a9a-4e23-82f0-b6e78717c426) to Async(default) with arguments: #<GlobalID:0x00007fd1fb1e8d20 @uri=#<URI::GID gid://chat-app/ChatMessage/197>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 197], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6092603-9a9a-4e23-82f0-b6e78717c426] Performing ChatMessageCreationEventBroadcastJob (Job ID: a6092603-9a9a-4e23-82f0-b6e78717c426) from Async(default) enqueued at 2020-02-11T17:02:15Z with arguments: #<GlobalID:0x00007fd1f6cc7610 @uri=#<URI::GID gid://chat-app/ChatMessage/197>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6092603-9a9a-4e23-82f0-b6e78717c426]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6092603-9a9a-4e23-82f0-b6e78717c426]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6092603-9a9a-4e23-82f0-b6e78717c426] [ActionCable] Broadcasting to chat_channel: {:id=>197, :created_at=>"17:02", :content=>"your project looks good", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a6092603-9a9a-4e23-82f0-b6e78717c426] Performed ChatMessageCreationEventBroadcastJob (Job ID: a6092603-9a9a-4e23-82f0-b6e78717c426) from Async(default) in 0.86ms
ChatChannel transmitting {"id"=>197, "created_at"=>"17:02", "content"=>"your project looks good", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>197, "created_at"=>"17:02", "content"=>"your project looks good", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"thanks", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "thanks"], ["created_at", "2020-02-11 17:02:18.409069"], ["updated_at", "2020-02-11 17:02:18.409069"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 673d04ba-d73e-4d5d-82e3-17522212d94c) to Async(default) with arguments: #<GlobalID:0x00007fd1f59abd60 @uri=#<URI::GID gid://chat-app/ChatMessage/198>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 198], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [673d04ba-d73e-4d5d-82e3-17522212d94c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 673d04ba-d73e-4d5d-82e3-17522212d94c) from Async(default) enqueued at 2020-02-11T17:02:18Z with arguments: #<GlobalID:0x00007fd1f59b35d8 @uri=#<URI::GID gid://chat-app/ChatMessage/198>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [673d04ba-d73e-4d5d-82e3-17522212d94c]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [673d04ba-d73e-4d5d-82e3-17522212d94c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [673d04ba-d73e-4d5d-82e3-17522212d94c] [ActionCable] Broadcasting to chat_channel: {:id=>198, :created_at=>"17:02", :content=>"thanks", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [673d04ba-d73e-4d5d-82e3-17522212d94c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 673d04ba-d73e-4d5d-82e3-17522212d94c) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>198, "created_at"=>"17:02", "content"=>"thanks", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>198, "created_at"=>"17:02", "content"=>"thanks", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"this is sad", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "this is sad"], ["created_at", "2020-02-11 17:02:25.376068"], ["updated_at", "2020-02-11 17:02:25.376068"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:54:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:54:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: fc60d6f4-e3e2-4741-a25f-99a7cd82e416) to Async(default) with arguments: #<GlobalID:0x00007fd1f5a18f50 @uri=#<URI::GID gid://chat-app/ChatMessage/199>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 199], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fc60d6f4-e3e2-4741-a25f-99a7cd82e416] Performing ChatMessageCreationEventBroadcastJob (Job ID: fc60d6f4-e3e2-4741-a25f-99a7cd82e416) from Async(default) enqueued at 2020-02-11T17:02:25Z with arguments: #<GlobalID:0x00007fd1f6d0e0d8 @uri=#<URI::GID gid://chat-app/ChatMessage/199>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fc60d6f4-e3e2-4741-a25f-99a7cd82e416]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fc60d6f4-e3e2-4741-a25f-99a7cd82e416]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fc60d6f4-e3e2-4741-a25f-99a7cd82e416] [ActionCable] Broadcasting to chat_channel: {:id=>199, :created_at=>"17:02", :content=>"this is sad", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [fc60d6f4-e3e2-4741-a25f-99a7cd82e416] Performed ChatMessageCreationEventBroadcastJob (Job ID: fc60d6f4-e3e2-4741-a25f-99a7cd82e416) from Async(default) in 0.87ms
ChatChannel transmitting {"id"=>199, "created_at"=>"17:02", "content"=>"this is sad", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>199, "created_at"=>"17:02", "content"=>"this is sad", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:50:in `unsubscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":7,\"action\":\"disappear\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:36:in `disappear' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:182:in `instrument'
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":6,\"action\":\"disappear\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:36:in `disappear' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:182:in `instrument'
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:50:in `unsubscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started POST "/auth/login" for ::1 at 2020-02-11 12:03:48 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1044ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-11 12:03:49 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:03:49 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:03:49 -0500
Processing by UsersController#index as HTML
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 1761)


Started POST "/auth/login" for ::1 at 2020-02-11 12:03:59 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-11 12:04:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:04:00 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:13:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 2356)


ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:50:in `unsubscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":7,\"action\":\"disappear\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:36:in `disappear' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:182:in `instrument'
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
Could not execute command from ({"command"=>"message", "identifier"=>"{\"channel\":\"ChatChannel\"}", "data"=>"{\"userId\":6,\"action\":\"disappear\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:36:in `disappear' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `public_send' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:268:in `dispatch_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:170:in `block in perform_action' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications.rb:182:in `instrument'
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `disappear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:50:in `unsubscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Started GET "/cable" for ::1 at 2020-02-11 12:04:29 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:04:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:04:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:04:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:04:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:04:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:04:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:09:28 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:09:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2020-02-11 12:09:29 -0500
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-11 12:09:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:09:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:09:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:09:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:09:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:09:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:09:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:09:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:09:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:14:49 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:14:49 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:14:49 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:14:49 -0500
Started POST "/auth/login" for ::1 at 2020-02-11 12:15:11 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1065ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 9673)


Started GET "/cable" for ::1 at 2020-02-11 12:15:12 -0500
Started GET "/users" for ::1 at 2020-02-11 12:15:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:15:12 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 2236)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [NoMethodError - undefined method `appear' for nil:NilClass]: /Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:16:in `subscribed' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:181:in `block in subscribe_to_channel' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-11 12:15:38 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:15:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:15:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:15:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:15:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:15:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/auth/login" for ::1 at 2020-02-11 12:15:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1079ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 9733)


Started GET "/cable" for ::1 at 2020-02-11 12:15:45 -0500
Started GET "/users" for ::1 at 2020-02-11 12:15:45 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:15:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 2552)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:15:45.593897"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
ChatChannel#disappear({"userId"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:15:51.570639"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (5241.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
  â†³ app/models/user.rb:20:in `disappear'
Could not execute command from ({"command"=>"unsubscribe", "identifier"=>"{\"channel\":\"ChatChannel\"}"}) [ActiveRecord::StatementInvalid - SQLite3::BusyException: database is locked]: /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each' | /Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:16:55 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1108ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 10797)


Started GET "/cable" for ::1 at 2020-02-11 12:16:56 -0500
Started GET "/users" for ::1 at 2020-02-11 12:16:56 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2247)


Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:16:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 17:16:58.993647"], ["updated_at", "2020-02-11 17:16:58.993647"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 27c2f648-d237-4d28-9e13-cabf82a6e6b5) to Async(default) with arguments: #<GlobalID:0x00007fc6d9042bd8 @uri=#<URI::GID gid://chat-app/ChatMessage/200>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 200], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27c2f648-d237-4d28-9e13-cabf82a6e6b5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 27c2f648-d237-4d28-9e13-cabf82a6e6b5) from Async(default) enqueued at 2020-02-11T17:16:59Z with arguments: #<GlobalID:0x00007fc6db1aa8e8 @uri=#<URI::GID gid://chat-app/ChatMessage/200>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27c2f648-d237-4d28-9e13-cabf82a6e6b5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27c2f648-d237-4d28-9e13-cabf82a6e6b5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27c2f648-d237-4d28-9e13-cabf82a6e6b5] [ActionCable] Broadcasting to chat_channel: {:id=>200, :created_at=>"17:16", :content=>"hey", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [27c2f648-d237-4d28-9e13-cabf82a6e6b5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 27c2f648-d237-4d28-9e13-cabf82a6e6b5) from Async(default) in 3.97ms
ChatChannel transmitting {"id"=>200, "created_at"=>"17:16", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 12:17:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:17:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:17:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:17:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:17:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:17:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 12:17:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:17:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:17:49.142001"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:22:15 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:22:15 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:22:15 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:22:15 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:22:15 -0500
Started POST "/auth/login" for ::1 at 2020-02-11 12:24:20 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1050ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2400)


Started GET "/cable" for ::1 at 2020-02-11 12:24:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:24:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:24:21 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>7})
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1995)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:24:21.393914"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:25:00.385093"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:25:05 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1049ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2541)


Started GET "/cable" for ::1 at 2020-02-11 12:25:06 -0500
Started GET "/users" for ::1 at 2020-02-11 12:25:06 -0500
Processing by UsersController#index as HTML
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:25:06 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 2315)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 17:25:12.654017"], ["updated_at", "2020-02-11 17:25:12.654017"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 84a05809-5eda-4508-8f62-1222c8c6737f) to Async(default) with arguments: #<GlobalID:0x00007fc6d880c0e0 @uri=#<URI::GID gid://chat-app/ChatMessage/201>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 201], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84a05809-5eda-4508-8f62-1222c8c6737f] Performing ChatMessageCreationEventBroadcastJob (Job ID: 84a05809-5eda-4508-8f62-1222c8c6737f) from Async(default) enqueued at 2020-02-11T17:25:12Z with arguments: #<GlobalID:0x00007fc6d7785cf8 @uri=#<URI::GID gid://chat-app/ChatMessage/201>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84a05809-5eda-4508-8f62-1222c8c6737f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84a05809-5eda-4508-8f62-1222c8c6737f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84a05809-5eda-4508-8f62-1222c8c6737f] [ActionCable] Broadcasting to chat_channel: {:id=>201, :created_at=>"17:25", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [84a05809-5eda-4508-8f62-1222c8c6737f] Performed ChatMessageCreationEventBroadcastJob (Job ID: 84a05809-5eda-4508-8f62-1222c8c6737f) from Async(default) in 0.98ms
ChatChannel transmitting {"id"=>201, "created_at"=>"17:25", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 17:25:18.078413"], ["updated_at", "2020-02-11 17:25:18.078413"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3b0dcf25-5f79-4546-82a1-a800cfcd4c2f) to Async(default) with arguments: #<GlobalID:0x00007fc6d886bd88 @uri=#<URI::GID gid://chat-app/ChatMessage/202>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 202], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b0dcf25-5f79-4546-82a1-a800cfcd4c2f] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3b0dcf25-5f79-4546-82a1-a800cfcd4c2f) from Async(default) enqueued at 2020-02-11T17:25:18Z with arguments: #<GlobalID:0x00007fc6db03a968 @uri=#<URI::GID gid://chat-app/ChatMessage/202>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b0dcf25-5f79-4546-82a1-a800cfcd4c2f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b0dcf25-5f79-4546-82a1-a800cfcd4c2f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b0dcf25-5f79-4546-82a1-a800cfcd4c2f] [ActionCable] Broadcasting to chat_channel: {:id=>202, :created_at=>"17:25", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3b0dcf25-5f79-4546-82a1-a800cfcd4c2f] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3b0dcf25-5f79-4546-82a1-a800cfcd4c2f) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>202, "created_at"=>"17:25", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:25:29.084956"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:25:37 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2393)


Started GET "/cable" for ::1 at 2020-02-11 12:25:38 -0500
Started GET "/users" for ::1 at 2020-02-11 12:25:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:25:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>7})
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:25:38.153089"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 2038)


[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:25:42 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:25:42 -0500
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:25:42 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:25:42.890725"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:34:31 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1042ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-11 12:34:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:34:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:34:32 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.5ms | Allocations: 2046)


ChatChannel#appear({"userId"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:34:32.625951"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:34:50 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2418)


Started GET "/cable" for ::1 at 2020-02-11 12:34:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:34:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:34:51 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 1683)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:34:51.315578"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 12:35:08 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:35:08.632457"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:35:30 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1047ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2523)


Started GET "/cable" for ::1 at 2020-02-11 12:35:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:35:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 12:35:31 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1668)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:35:31.473996"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"lol", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "lol"], ["created_at", "2020-02-11 17:35:47.761123"], ["updated_at", "2020-02-11 17:35:47.761123"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3ed24517-0ce7-41e9-b157-111839a5d49d) to Async(default) with arguments: #<GlobalID:0x00007fc6d646d990 @uri=#<URI::GID gid://chat-app/ChatMessage/203>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 203], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3ed24517-0ce7-41e9-b157-111839a5d49d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3ed24517-0ce7-41e9-b157-111839a5d49d) from Async(default) enqueued at 2020-02-11T17:35:47Z with arguments: #<GlobalID:0x00007fc6d5bbe718 @uri=#<URI::GID gid://chat-app/ChatMessage/203>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3ed24517-0ce7-41e9-b157-111839a5d49d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3ed24517-0ce7-41e9-b157-111839a5d49d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3ed24517-0ce7-41e9-b157-111839a5d49d] [ActionCable] Broadcasting to chat_channel: {:id=>203, :created_at=>"17:35", :content=>"lol", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3ed24517-0ce7-41e9-b157-111839a5d49d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3ed24517-0ce7-41e9-b157-111839a5d49d) from Async(default) in 1.35ms
ChatChannel transmitting {"id"=>203, "created_at"=>"17:35", "content"=>"lol", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>203, "created_at"=>"17:35", "content"=>"lol", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"fuck off nolan", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "fuck off nolan"], ["created_at", "2020-02-11 17:35:51.912793"], ["updated_at", "2020-02-11 17:35:51.912793"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 59538a48-ac6e-408a-b83d-1dc6be61d0f5) to Async(default) with arguments: #<GlobalID:0x00007fc6d780b150 @uri=#<URI::GID gid://chat-app/ChatMessage/204>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 204], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [59538a48-ac6e-408a-b83d-1dc6be61d0f5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 59538a48-ac6e-408a-b83d-1dc6be61d0f5) from Async(default) enqueued at 2020-02-11T17:35:51Z with arguments: #<GlobalID:0x00007fc6d621e838 @uri=#<URI::GID gid://chat-app/ChatMessage/204>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [59538a48-ac6e-408a-b83d-1dc6be61d0f5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [59538a48-ac6e-408a-b83d-1dc6be61d0f5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [59538a48-ac6e-408a-b83d-1dc6be61d0f5] [ActionCable] Broadcasting to chat_channel: {:id=>204, :created_at=>"17:35", :content=>"fuck off nolan", :name=>"john"}
ChatChannel transmitting {"id"=>204, "created_at"=>"17:35", "content"=>"fuck off nolan", "name"=>"john"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [59538a48-ac6e-408a-b83d-1dc6be61d0f5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 59538a48-ac6e-408a-b83d-1dc6be61d0f5) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>204, "created_at"=>"17:35", "content"=>"fuck off nolan", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:35:59.699846"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 17:36:08.091148"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 12:36:32 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-11 12:36:34 -0500
Started GET "/users" for ::1 at 2020-02-11 12:36:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 12:36:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 2003)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 17:36:34.042063"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 13:12:26 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-11 13:12:27 -0500
Started GET "/users" for ::1 at 2020-02-11 13:12:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:12:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>7})
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 2122)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:12:27.163729"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 13:14:46 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:14:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 13:14:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:14:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 13:14:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:14:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 13:14:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:14:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (1.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 18:14:53.093715"], ["updated_at", "2020-02-11 18:14:53.093715"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6e76d761-ec87-4894-bd46-41f68adeba0a) to Async(default) with arguments: #<GlobalID:0x00007fefc72f90e0 @uri=#<URI::GID gid://chat-app/ChatMessage/205>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 205], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6e76d761-ec87-4894-bd46-41f68adeba0a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6e76d761-ec87-4894-bd46-41f68adeba0a) from Async(default) enqueued at 2020-02-11T18:14:53Z with arguments: #<GlobalID:0x00007fefcd08a560 @uri=#<URI::GID gid://chat-app/ChatMessage/205>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6e76d761-ec87-4894-bd46-41f68adeba0a]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6e76d761-ec87-4894-bd46-41f68adeba0a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6e76d761-ec87-4894-bd46-41f68adeba0a] [ActionCable] Broadcasting to chat_channel: {:id=>205, :created_at=>"18:14", :content=>"hey", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6e76d761-ec87-4894-bd46-41f68adeba0a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6e76d761-ec87-4894-bd46-41f68adeba0a) from Async(default) in 10.62ms
ChatChannel transmitting {"id"=>205, "created_at"=>"18:14", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>205, "created_at"=>"18:14", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:14:59.865067"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:15:01.191494"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 13:15:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1048ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2764)


Started GET "/cable" for ::1 at 2020-02-11 13:15:10 -0500
Started GET "/users" for ::1 at 2020-02-11 13:15:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:10 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2133)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:15:10.596572"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 13:15:18 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1049ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2776)


Started GET "/cable" for ::1 at 2020-02-11 13:15:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 13:15:19 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.4ms | Allocations: 1683)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:15:19.921425"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:26 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:26 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:26 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:15:26.231624"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:28 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:28 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:28 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:15:28.206140"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 13:15:34 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2536)


Started GET "/cable" for ::1 at 2020-02-11 13:15:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 13:15:35 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 2145)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:15:35.516465"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 13:15:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1035ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2442)


Started GET "/cable" for ::1 at 2020-02-11 13:15:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:15:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 13:15:43 -0500
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 2389)


  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:15:43.895199"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"sick", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "sick"], ["created_at", "2020-02-11 18:15:46.954913"], ["updated_at", "2020-02-11 18:15:46.954913"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 44dbd9a3-dd44-4cdc-b447-dc0103657dad) to Async(default) with arguments: #<GlobalID:0x00007fefc7a890d0 @uri=#<URI::GID gid://chat-app/ChatMessage/206>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 206], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44dbd9a3-dd44-4cdc-b447-dc0103657dad] Performing ChatMessageCreationEventBroadcastJob (Job ID: 44dbd9a3-dd44-4cdc-b447-dc0103657dad) from Async(default) enqueued at 2020-02-11T18:15:46Z with arguments: #<GlobalID:0x00007fefc7400d58 @uri=#<URI::GID gid://chat-app/ChatMessage/206>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44dbd9a3-dd44-4cdc-b447-dc0103657dad]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44dbd9a3-dd44-4cdc-b447-dc0103657dad]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44dbd9a3-dd44-4cdc-b447-dc0103657dad] [ActionCable] Broadcasting to chat_channel: {:id=>206, :created_at=>"18:15", :content=>"sick", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [44dbd9a3-dd44-4cdc-b447-dc0103657dad] Performed ChatMessageCreationEventBroadcastJob (Job ID: 44dbd9a3-dd44-4cdc-b447-dc0103657dad) from Async(default) in 1.19ms
ChatChannel transmitting {"id"=>206, "created_at"=>"18:15", "content"=>"sick", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>206, "created_at"=>"18:15", "content"=>"sick", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"I know right thanks for all the help CASEY", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "I know right thanks for all the help CASEY"], ["created_at", "2020-02-11 18:15:54.627075"], ["updated_at", "2020-02-11 18:15:54.627075"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644) to Async(default) with arguments: #<GlobalID:0x00007fefc7440de0 @uri=#<URI::GID gid://chat-app/ChatMessage/207>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 207], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644) from Async(default) enqueued at 2020-02-11T18:15:54Z with arguments: #<GlobalID:0x00007fefcd1fd208 @uri=#<URI::GID gid://chat-app/ChatMessage/207>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644] [ActionCable] Broadcasting to chat_channel: {:id=>207, :created_at=>"18:15", :content=>"I know right thanks for all the help CASEY", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4f0b5bda-7c8b-4b83-a0c2-c14d3ce59644) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>207, "created_at"=>"18:15", "content"=>"I know right thanks for all the help CASEY", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>207, "created_at"=>"18:15", "content"=>"I know right thanks for all the help CASEY", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"come on", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "come on"], ["created_at", "2020-02-11 18:16:03.026414"], ["updated_at", "2020-02-11 18:16:03.026414"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 306d5daa-1602-4741-bf3d-838bde2d927c) to Async(default) with arguments: #<GlobalID:0x00007fefc7b09c08 @uri=#<URI::GID gid://chat-app/ChatMessage/208>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 208], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [306d5daa-1602-4741-bf3d-838bde2d927c] Performing ChatMessageCreationEventBroadcastJob (Job ID: 306d5daa-1602-4741-bf3d-838bde2d927c) from Async(default) enqueued at 2020-02-11T18:16:03Z with arguments: #<GlobalID:0x00007fefcd24cdd0 @uri=#<URI::GID gid://chat-app/ChatMessage/208>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [306d5daa-1602-4741-bf3d-838bde2d927c]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [306d5daa-1602-4741-bf3d-838bde2d927c]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [306d5daa-1602-4741-bf3d-838bde2d927c] [ActionCable] Broadcasting to chat_channel: {:id=>208, :created_at=>"18:16", :content=>"come on", :name=>"Casey"}
ChatChannel transmitting {"id"=>208, "created_at"=>"18:16", "content"=>"come on", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [306d5daa-1602-4741-bf3d-838bde2d927c] Performed ChatMessageCreationEventBroadcastJob (Job ID: 306d5daa-1602-4741-bf3d-838bde2d927c) from Async(default) in 1.05ms
ChatChannel transmitting {"id"=>208, "created_at"=>"18:16", "content"=>"come on", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"don't fuck with me", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "don't fuck with me"], ["created_at", "2020-02-11 18:16:04.946143"], ["updated_at", "2020-02-11 18:16:04.946143"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a06a095d-3e36-46cc-8bb7-3f057397ffff) to Async(default) with arguments: #<GlobalID:0x00007fefca818320 @uri=#<URI::GID gid://chat-app/ChatMessage/209>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 209], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a06a095d-3e36-46cc-8bb7-3f057397ffff] Performing ChatMessageCreationEventBroadcastJob (Job ID: a06a095d-3e36-46cc-8bb7-3f057397ffff) from Async(default) enqueued at 2020-02-11T18:16:04Z with arguments: #<GlobalID:0x00007fefca8214e8 @uri=#<URI::GID gid://chat-app/ChatMessage/209>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a06a095d-3e36-46cc-8bb7-3f057397ffff]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a06a095d-3e36-46cc-8bb7-3f057397ffff]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a06a095d-3e36-46cc-8bb7-3f057397ffff] [ActionCable] Broadcasting to chat_channel: {:id=>209, :created_at=>"18:16", :content=>"don't fuck with me", :name=>"Casey"}
ChatChannel transmitting {"id"=>209, "created_at"=>"18:16", "content"=>"don't fuck with me", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a06a095d-3e36-46cc-8bb7-3f057397ffff] Performed ChatMessageCreationEventBroadcastJob (Job ID: a06a095d-3e36-46cc-8bb7-3f057397ffff) from Async(default) in 0.88ms
ChatChannel transmitting {"id"=>209, "created_at"=>"18:16", "content"=>"don't fuck with me", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"im casey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "im casey"], ["created_at", "2020-02-11 18:16:06.345872"], ["updated_at", "2020-02-11 18:16:06.345872"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 00540c09-aa60-4c95-8e96-4fc3863f80a6) to Async(default) with arguments: #<GlobalID:0x00007fefca0704d8 @uri=#<URI::GID gid://chat-app/ChatMessage/210>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 210], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00540c09-aa60-4c95-8e96-4fc3863f80a6] Performing ChatMessageCreationEventBroadcastJob (Job ID: 00540c09-aa60-4c95-8e96-4fc3863f80a6) from Async(default) enqueued at 2020-02-11T18:16:06Z with arguments: #<GlobalID:0x00007fefca099770 @uri=#<URI::GID gid://chat-app/ChatMessage/210>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00540c09-aa60-4c95-8e96-4fc3863f80a6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00540c09-aa60-4c95-8e96-4fc3863f80a6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00540c09-aa60-4c95-8e96-4fc3863f80a6] [ActionCable] Broadcasting to chat_channel: {:id=>210, :created_at=>"18:16", :content=>"im casey", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00540c09-aa60-4c95-8e96-4fc3863f80a6] Performed ChatMessageCreationEventBroadcastJob (Job ID: 00540c09-aa60-4c95-8e96-4fc3863f80a6) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>210, "created_at"=>"18:16", "content"=>"im casey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>210, "created_at"=>"18:16", "content"=>"im casey", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:16:50 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:16:50.343364"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (13.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:16:50 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:16:50.363464"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 13:16:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:16:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:16:56.606801"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 13:16:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:16:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 18:16:58.958900"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:24:17 -0500
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:24:17 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:24:17.920791"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:24:17.930541"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
  [1m[35m (5006.2ms)[0m  [1m[36mcommit transaction[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-11 13:24:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:24:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 13:24:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:24:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:25:16 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:25:16 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:25:16.163594"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:25:16.167465"], ["id", 7]]
  [1m[35m (5223.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/cable" for ::1 at 2020-02-11 13:25:21 -0500
Started GET "/cable" for ::1 at 2020-02-11 13:25:21 -0500
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:25:21 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:25:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:44:56 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:44:56 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:44:56.243179"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:45:01.274347"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
  [1m[35m (5008.8ms)[0m  [1m[36mcommit transaction[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2020-02-11 13:45:04 -0500
Started GET "/cable" for ::1 at 2020-02-11 13:45:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:45:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:45:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  â†³ app/models/user.rb:15:in `appear'
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:49:53 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:49:53 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:49:53.099173"], ["id", 7]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 18:49:53.101070"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5231.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/cable" for 127.0.0.1 at 2020-02-11 13:49:58 -0500
Started GET "/cable" for ::1 at 2020-02-11 13:49:58 -0500
Started GET "/cable" for 127.0.0.1 at 2020-02-11 13:49:58 -0500
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
  â†³ app/models/user.rb:20:in `disappear'
Started GET "/cable" for ::1 at 2020-02-11 13:49:58 -0500
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-11 13:49:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-02-11 13:49:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:49:58 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:53:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 13:49:58 -0500
ChatChannel is transmitting the subscription confirmation
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is streaming from chat_channel
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
ChatChannel is transmitting the subscription confirmation
ChatChannel#appear({"userId"=>6})
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:49:58 -0500
ChatChannel is streaming from chat_channel
WebSocket error occurred: Broken pipe
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 13:49:58 -0500
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>7})
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
  â†³ app/models/user.rb:15:in `appear'
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 14:59:55 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1052ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 9416)


Started GET "/cable" for ::1 at 2020-02-11 14:59:56 -0500
Started GET "/users" for ::1 at 2020-02-11 14:59:56 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 14:59:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 3068)


ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:01:04 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1006ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2536)


Started GET "/cable" for ::1 at 2020-02-11 15:01:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:01:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 15:01:05 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.5ms | Allocations: 1715)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:01:08.827592"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:01:11.215016"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:01:15 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1020ms (Views: 5.9ms | ActiveRecord: 0.2ms | Allocations: 2404)


Started GET "/cable" for ::1 at 2020-02-11 15:01:16 -0500
Started GET "/users" for ::1 at 2020-02-11 15:01:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:01:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 2009)


ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:01:16.878697"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:01:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2416)


Started GET "/cable" for ::1 at 2020-02-11 15:01:22 -0500
Started GET "/users" for ::1 at 2020-02-11 15:01:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:01:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.4ms | Allocations: 2184)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:01:22.248174"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey ", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey "], ["created_at", "2020-02-11 20:01:25.318309"], ["updated_at", "2020-02-11 20:01:25.318309"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3063e02a-d937-47a8-979a-87ca27518092) to Async(default) with arguments: #<GlobalID:0x00007fcacd149200 @uri=#<URI::GID gid://chat-app/ChatMessage/211>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 211], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3063e02a-d937-47a8-979a-87ca27518092] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3063e02a-d937-47a8-979a-87ca27518092) from Async(default) enqueued at 2020-02-11T20:01:25Z with arguments: #<GlobalID:0x00007fcace336990 @uri=#<URI::GID gid://chat-app/ChatMessage/211>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3063e02a-d937-47a8-979a-87ca27518092]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3063e02a-d937-47a8-979a-87ca27518092]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3063e02a-d937-47a8-979a-87ca27518092] [ActionCable] Broadcasting to chat_channel: {:id=>211, :created_at=>"20:01", :content=>"hey ", :name=>"Nolan"}
ChatChannel transmitting {"id"=>211, "created_at"=>"20:01", "content"=>"hey ", "name"=>"Nolan"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3063e02a-d937-47a8-979a-87ca27518092] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3063e02a-d937-47a8-979a-87ca27518092) from Async(default) in 3.93ms
ChatChannel transmitting {"id"=>211, "created_at"=>"20:01", "content"=>"hey ", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 20:01:27.812390"], ["updated_at", "2020-02-11 20:01:27.812390"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2fb7479e-b2cc-402b-b220-c0eaf56aea16) to Async(default) with arguments: #<GlobalID:0x00007fcad13ce058 @uri=#<URI::GID gid://chat-app/ChatMessage/212>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 212], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fb7479e-b2cc-402b-b220-c0eaf56aea16] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2fb7479e-b2cc-402b-b220-c0eaf56aea16) from Async(default) enqueued at 2020-02-11T20:01:27Z with arguments: #<GlobalID:0x00007fcad13ed908 @uri=#<URI::GID gid://chat-app/ChatMessage/212>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fb7479e-b2cc-402b-b220-c0eaf56aea16]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fb7479e-b2cc-402b-b220-c0eaf56aea16]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fb7479e-b2cc-402b-b220-c0eaf56aea16] [ActionCable] Broadcasting to chat_channel: {:id=>212, :created_at=>"20:01", :content=>"hey", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fb7479e-b2cc-402b-b220-c0eaf56aea16] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2fb7479e-b2cc-402b-b220-c0eaf56aea16) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>212, "created_at"=>"20:01", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>212, "created_at"=>"20:01", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:02:19 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:02:19 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:02:19.830400"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:02:19 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:02:19 -0500
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:02:19.855284"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:02:41 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2519)


Started GET "/cable" for ::1 at 2020-02-11 15:02:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:02:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 15:02:42 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 2003)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:02:42.178037"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:02:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2568)


Started GET "/cable" for ::1 at 2020-02-11 15:02:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:02:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 15:02:48 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 2002)


ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:02:48.782890"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:03:45 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:03:45.827875"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:03:45 -0500
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:03:45.838403"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:03:52 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1010ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-11 15:03:53 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:03:53 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 15:03:53 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 2039)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:03:53.708865"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 15:03:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 996ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-11 15:03:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:03:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 15:03:59 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1914)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:03:59.959141"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 20:09:52.020039"], ["updated_at", "2020-02-11 20:09:52.020039"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 29143fec-1669-41fb-9264-056acfa88a8a) to Async(default) with arguments: #<GlobalID:0x00007fcad149eac8 @uri=#<URI::GID gid://chat-app/ChatMessage/213>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 213], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [29143fec-1669-41fb-9264-056acfa88a8a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 29143fec-1669-41fb-9264-056acfa88a8a) from Async(default) enqueued at 2020-02-11T20:09:52Z with arguments: #<GlobalID:0x00007fcacd1ce130 @uri=#<URI::GID gid://chat-app/ChatMessage/213>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [29143fec-1669-41fb-9264-056acfa88a8a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [29143fec-1669-41fb-9264-056acfa88a8a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [29143fec-1669-41fb-9264-056acfa88a8a] [ActionCable] Broadcasting to chat_channel: {:id=>213, :created_at=>"20:09", :content=>"hey", :name=>"Casey"}
ChatChannel transmitting {"id"=>213, "created_at"=>"20:09", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [29143fec-1669-41fb-9264-056acfa88a8a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 29143fec-1669-41fb-9264-056acfa88a8a) from Async(default) in 0.96ms
ChatChannel transmitting {"id"=>213, "created_at"=>"20:09", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:13:00 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:13:00.381972"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 15:13:00 -0500
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 20:13:00.401766"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 15:13:09 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:13:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:13:09.759653"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 15:13:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 15:13:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 20:13:09.825910"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mChatMessage Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "chat_messages" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mChatMessage Load (0.6ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages"[0m
Started GET "/cable" for ::1 at 2020-02-11 16:21:28 -0500
Started GET "/cable" for ::1 at 2020-02-11 16:21:28 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:21:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:21:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/messages" for ::1 at 2020-02-11 16:21:30 -0500
  
ActionController::RoutingError (No route matches [GET] "/messages"):
  
actionpack (6.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.2.1) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.2.1) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.1.2) lib/rack/runtime.rb:24:in `call'
activesupport (6.0.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.1.2) lib/rack/sendfile.rb:113:in `call'
actionpack (6.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (6.0.2.1) lib/rails/engine.rb:526:in `call'
puma (4.3.1) lib/puma/configuration.rb:228:in `call'
puma (4.3.1) lib/puma/server.rb:681:in `handle_request'
puma (4.3.1) lib/puma/server.rb:472:in `process_client'
puma (4.3.1) lib/puma/server.rb:328:in `block in run'
puma (4.3.1) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/chat_messages" for ::1 at 2020-02-11 16:21:45 -0500
Processing by ChatMessagesController#index as */*
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 427)


Started POST "/auth/login" for ::1 at 2020-02-11 16:21:54 -0500
Processing by AuthenticationController#authenticate as */*
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1094ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2854)


Started GET "/chat_messages" for ::1 at 2020-02-11 16:22:05 -0500
Processing by ChatMessagesController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mChatMessage Load (1.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 46ms (Views: 41.7ms | ActiveRecord: 2.0ms | Allocations: 33692)


Started GET "/chat_messages" for ::1 at 2020-02-11 16:28:29 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mChatMessage Load (0.4ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" IN (?, ?)[0m  [["id", nil], ["id", nil]]
  â†³ app/controllers/chat_messages_controller.rb:6:in `index'
Completed 404 Not Found in 21ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7607)


Started GET "/cable" for ::1 at 2020-02-11 16:28:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:28:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 16:28:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:28:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/chat_messages" for ::1 at 2020-02-11 16:29:22 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" ORDER BY "chat_messages"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:6:in `index'
Completed 200 OK in 31ms (Views: 2.7ms | ActiveRecord: 3.0ms | Allocations: 12175)


Started GET "/cable" for ::1 at 2020-02-11 16:29:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:29:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 16:29:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:29:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/chat_messages" for ::1 at 2020-02-11 16:29:34 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mChatMessage Load (0.4ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" ORDER BY "chat_messages"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:6:in `index'
Completed 200 OK in 38ms (Views: 2.5ms | ActiveRecord: 4.6ms | Allocations: 12120)


Started GET "/cable" for ::1 at 2020-02-11 16:29:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:29:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 16:29:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:29:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 16:42:00 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 21:42:00.579020"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 16:42:06 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1023ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2624)


Started GET "/cable" for ::1 at 2020-02-11 16:42:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:42:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 16:42:07 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Started GET "/chat_messages" for ::1 at 2020-02-11 16:42:07 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 2429)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" ORDER BY "chat_messages"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:6:in `index'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 9ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 5493)


  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 16:42:24 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 21:42:24.066581"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 16:42:29 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-11 16:42:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:42:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-11 16:42:30 -0500
Started GET "/users" for ::1 at 2020-02-11 16:42:30 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" ORDER BY "chat_messages"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#appear({"userId"=>6})
  â†³ app/controllers/chat_messages_controller.rb:6:in `index'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3802)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 3454)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 21:42:30.980255"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 21:54:15.661798"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 16:54:24 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1043ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 10819)


Started GET "/cable" for ::1 at 2020-02-11 16:54:25 -0500
Started GET "/chat_messages" for ::1 at 2020-02-11 16:54:25 -0500
Started GET "/users" for ::1 at 2020-02-11 16:54:25 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:54:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:7:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 8409)


ChatChannel is streaming from chat_channel
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 5832)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 21:54:25.817336"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 16:54:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:54:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 16:54:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:54:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 21:55:11.944681"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 16:55:18 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1059ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 10269)


Started GET "/cable" for ::1 at 2020-02-11 16:55:19 -0500
Started GET "/chat_messages" for ::1 at 2020-02-11 16:55:19 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:55:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 16:55:19 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>6})
  â†³ app/controllers/chat_messages_controller.rb:7:in `index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 14ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 6574)


Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 3552)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 21:55:19.733776"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 16:55:25 -0500
Started GET "/cable" for ::1 at 2020-02-11 16:55:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:55:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:55:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 16:55:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 16:55:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT ChatMessage.id, "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (User.id = ChatMessage.created_by) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT ChatMessage.id, User.name, content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by)[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", User.name, content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by)[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by) ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (users.id = chat_messages.created_by) ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", content, created_by FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" WHERE (user.id = chat_messages.created_by) ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", chat_message.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", "users"."name", chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mChatMessage Load (0.4ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" ORDER BY "chat_messages"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" ORDER BY "chat_messages"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" LEFT OUTER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Started GET "/cable" for ::1 at 2020-02-11 17:55:55 -0500
Started GET "/chat_messages" for ::1 at 2020-02-11 17:55:55 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ChatMessagesController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:10:in `index'
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 17:55:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Completed 200 OK in 54ms (Views: 1.0ms | ActiveRecord: 1.2ms | Allocations: 14580)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 17:55:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 17:55:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 17:55:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 17:55:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 22:56:12.738800"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 17:56:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 17:56:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 22:56:17.361603"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 17:56:17 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 997ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2638)


Started GET "/cable" for ::1 at 2020-02-11 17:56:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 17:56:18 -0500
Started GET "/chat_messages" for ::1 at 2020-02-11 17:56:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 17:56:18 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:10:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 3745)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 14ms (Views: 3.7ms | ActiveRecord: 0.4ms | Allocations: 3617)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:21:42 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 8073)


Started GET "/cable" for ::1 at 2020-02-11 18:21:43 -0500
Started GET "/chat_messages" for ::1 at 2020-02-11 18:21:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 18:21:44 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.7ms | Allocations: 5128)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 4338)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:21:44.024938"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 18:21:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 18:21:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 18:21:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 18:21:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:50 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:50 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:50 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:50 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:21:50.704106"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 18:21:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:21:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:21:51.300087"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:21:57 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 251ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 913)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:22:07 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:22:07.176929"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:23:13 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-11 18:23:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:23:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-11 18:23:14 -0500
Started GET "/users" for ::1 at 2020-02-11 18:23:14 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 21ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 3705)


Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.2ms | Allocations: 4018)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:23:36 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1003ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2522)


Started GET "/cable" for ::1 at 2020-02-11 18:23:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:23:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-11 18:23:37 -0500
Started GET "/users" for ::1 at 2020-02-11 18:23:37 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 3091)


Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms | Allocations: 3794)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:23:37.330136"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>7})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:23:57.491423"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:24:03 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1021ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2508)


Started GET "/cable" for ::1 at 2020-02-11 18:24:04 -0500
Started GET "/chat_messages" for ::1 at 2020-02-11 18:24:04 -0500
Started GET "/users" for ::1 at 2020-02-11 18:24:04 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:24:04 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 3349)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 4536)


  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:24:04.401712"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:24:09 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:24:09 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:24:09.220227"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-11 23:31:09.763997"], ["updated_at", "2020-02-11 23:31:09.763997"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1e535806-e2e5-4f4a-b1f9-be197ff6165d) to Async(default) with arguments: #<GlobalID:0x00007f7fe3674458 @uri=#<URI::GID gid://chat-app/ChatMessage/214>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 214], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1e535806-e2e5-4f4a-b1f9-be197ff6165d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1e535806-e2e5-4f4a-b1f9-be197ff6165d) from Async(default) enqueued at 2020-02-11T23:31:09Z with arguments: #<GlobalID:0x00007f7fe0a33628 @uri=#<URI::GID gid://chat-app/ChatMessage/214>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1e535806-e2e5-4f4a-b1f9-be197ff6165d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1e535806-e2e5-4f4a-b1f9-be197ff6165d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1e535806-e2e5-4f4a-b1f9-be197ff6165d] [ActionCable] Broadcasting to chat_channel: {:id=>214, :created_at=>"23:31", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1e535806-e2e5-4f4a-b1f9-be197ff6165d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1e535806-e2e5-4f4a-b1f9-be197ff6165d) from Async(default) in 4.88ms
ChatChannel transmitting {"id"=>214, "created_at"=>"23:31", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>214, "created_at"=>"23:31", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 18:40:28 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:40:28.569722"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:47:27 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1000ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2405)


Started GET "/cable" for ::1 at 2020-02-11 18:47:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:47:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-11 18:47:28 -0500
Started GET "/users" for ::1 at 2020-02-11 18:47:28 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Processing by UsersController#index as HTML
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 3549)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 9ms (Views: 4.3ms | ActiveRecord: 0.4ms | Allocations: 4884)


  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:47:28.792221"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:47:58.468727"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-11 23:48:00.377950"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:48:06 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 997ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-11 18:48:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:48:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-11 18:48:07 -0500
Started GET "/users" for ::1 at 2020-02-11 18:48:07 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Processing by ChatMessagesController#index as HTML
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.4ms | Allocations: 2709)


ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 3318)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:48:07.549997"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-11 18:48:13 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 997ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-11 18:48:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 18:48:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-11 18:48:14 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 1700)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-11 23:48:14.456553"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:05 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:05 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 00:12:05.974963"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:05 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:05 -0500
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 00:12:05.997278"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 19:12:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-11 19:12:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 00:12:12.213184"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 19:12:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 00:12:16.355979"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 19:12:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 19:12:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 22:12:56 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-11 22:12:56 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 03:12:56.147289"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-11 22:12:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 22:12:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 03:12:56.843115"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
Started GET "/cable" for ::1 at 2020-02-11 22:12:56 -0500
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-11 22:12:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:32 -0500
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (24.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (123.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:40:32.701397"], ["id", 6]]
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:32 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (29.0ms)[0m  [1m[36mcommit transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:33 -0500
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:33 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (7.7ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:40:33.098451"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (16.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 08:40:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:40:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
Started GET "/cable" for ::1 at 2020-02-12 08:40:35 -0500
  [1m[36mUser Update (3.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:40:35.200907"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (3.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:35 -0500
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/cable" for ::1 at 2020-02-12 08:40:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:40:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (4.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:40:35.303956"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[36mChatMessage Create (1.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 13:44:15.348074"], ["updated_at", "2020-02-12 13:44:15.348074"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:57:in `create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:57:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4761fbc8-6a61-4857-9ed2-138282995cfa) to Async(default) with arguments: #<GlobalID:0x00007f7fe3260560 @uri=#<URI::GID gid://chat-app/ChatMessage/215>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 215], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4761fbc8-6a61-4857-9ed2-138282995cfa] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4761fbc8-6a61-4857-9ed2-138282995cfa) from Async(default) enqueued at 2020-02-12T13:44:15Z with arguments: #<GlobalID:0x00007f7fe32bad30 @uri=#<URI::GID gid://chat-app/ChatMessage/215>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4761fbc8-6a61-4857-9ed2-138282995cfa]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4761fbc8-6a61-4857-9ed2-138282995cfa]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4761fbc8-6a61-4857-9ed2-138282995cfa] [ActionCable] Broadcasting to chat_channel: {:id=>215, :created_at=>"13:44", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4761fbc8-6a61-4857-9ed2-138282995cfa] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4761fbc8-6a61-4857-9ed2-138282995cfa) from Async(default) in 1.08ms
ChatChannel transmitting {"id"=>215, "created_at"=>"13:44", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>215, "created_at"=>"13:44", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:48:20.682975"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:48:23.495413"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 08:48:30 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1037ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 10341)


Started GET "/cable" for ::1 at 2020-02-12 08:48:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:48:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-12 08:48:31 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>5})
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 2625)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:48:31.238998"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 08:48:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:48:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:48:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:48:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:48:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:48:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:48:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:48:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/auth/login" for ::1 at 2020-02-12 08:49:12 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 997ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-12 08:49:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:49:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-12 08:49:13 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Started GET "/chat_messages" for ::1 at 2020-02-12 08:49:13 -0500
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 0.5ms | Allocations: 1889)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.5ms | Allocations: 3143)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:49:13.149968"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:00 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:00 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:00 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:51:00.312628"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>5})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:51:06.030385"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 08:51:21 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1048ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 10791)


Started GET "/cable" for ::1 at 2020-02-12 08:51:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 08:51:22 -0500
Started GET "/users" for ::1 at 2020-02-12 08:51:22 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 2753)


Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 2956)


  
NoMethodError (undefined method `strftime' for "chat_messages.created_at":String
Did you mean?  strip):
  
app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>5})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:51:22.261556"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 08:51:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:51:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:51:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:51:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:52:40 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:52:40.649154"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 08:52:45 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 275ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 7398)


Started POST "/auth/login" for ::1 at 2020-02-12 08:52:48 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 252ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 797)


Started POST "/auth/login" for ::1 at 2020-02-12 08:52:53 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3164)


Started GET "/cable" for ::1 at 2020-02-12 08:52:54 -0500
Started GET "/chat_messages" for ::1 at 2020-02-12 08:52:54 -0500
Started GET "/users" for ::1 at 2020-02-12 08:52:54 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:52:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by ChatMessagesController#index as HTML
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 3679)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at.strftime('%H:%M') FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.0ms | Allocations: 5116)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:52:54.176468"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  
ActiveRecord::StatementInvalid (SQLite3::SQLException: near "(": syntax error):
  
app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 08:52:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:52:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:52:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:52:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for ::1 at 2020-02-12 08:52:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:52:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started POST "/auth/login" for ::1 at 2020-02-12 08:53:43 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 10644)


Started GET "/cable" for ::1 at 2020-02-12 08:53:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:53:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-12 08:53:44 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.5ms | Allocations: 2400)


ChatChannel#appear({"userId"=>5})
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:53:44.853917"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:53:48 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:53:48.080906"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 08:53:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:53:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 08:53:54 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"john@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"john@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 991ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-12 08:53:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:53:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 08:53:55 -0500
Started GET "/users" for ::1 at 2020-02-12 08:53:55 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Processing by ChatMessagesController#index as HTML
ChatChannel#appear({"userId"=>5})
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.4ms | Allocations: 2769)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 4539)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:53:55.115111"], ["id", 5]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>5, :name=>"john"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 08:58:28 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 13:58:28.121884"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 08:58:35 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1037ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3316)


Started GET "/cable" for ::1 at 2020-02-12 08:58:36 -0500
Started GET "/users" for ::1 at 2020-02-12 08:58:36 -0500
Started GET "/chat_messages" for ::1 at 2020-02-12 08:58:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 08:58:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>6})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.2ms | Allocations: 3068)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 19ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 5758)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 13:58:36.538350"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>5})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 13:58:43.241575"], ["updated_at", "2020-02-12 13:58:43.241575"], ["created_by", "5"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d) to Async(default) with arguments: #<GlobalID:0x00007f7fe033dda0 @uri=#<URI::GID gid://chat-app/ChatMessage/216>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 216], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d) from Async(default) enqueued at 2020-02-12T13:58:43Z with arguments: #<GlobalID:0x00007f7fe1fbe808 @uri=#<URI::GID gid://chat-app/ChatMessage/216>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d] [ActionCable] Broadcasting to chat_channel: {:id=>216, :created_at=>"13:58", :content=>"hey", :name=>"john"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1dc96e98-2c6c-4e6f-b8d2-cc8559e6411d) from Async(default) in 1.97ms
ChatChannel transmitting {"id"=>216, "created_at"=>"13:58", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>216, "created_at"=>"13:58", "content"=>"hey", "name"=>"john"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 13:58:47.432544"], ["updated_at", "2020-02-12 13:58:47.432544"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 7c777ff6-8e86-4525-9f27-bca648ca800b) to Async(default) with arguments: #<GlobalID:0x00007f7fe1b8de00 @uri=#<URI::GID gid://chat-app/ChatMessage/217>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 217], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7c777ff6-8e86-4525-9f27-bca648ca800b] Performing ChatMessageCreationEventBroadcastJob (Job ID: 7c777ff6-8e86-4525-9f27-bca648ca800b) from Async(default) enqueued at 2020-02-12T13:58:47Z with arguments: #<GlobalID:0x00007f7fe31046d0 @uri=#<URI::GID gid://chat-app/ChatMessage/217>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7c777ff6-8e86-4525-9f27-bca648ca800b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7c777ff6-8e86-4525-9f27-bca648ca800b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7c777ff6-8e86-4525-9f27-bca648ca800b] [ActionCable] Broadcasting to chat_channel: {:id=>217, :created_at=>"13:58", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [7c777ff6-8e86-4525-9f27-bca648ca800b] Performed ChatMessageCreationEventBroadcastJob (Job ID: 7c777ff6-8e86-4525-9f27-bca648ca800b) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>217, "created_at"=>"13:58", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>217, "created_at"=>"13:58", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 09:43:10 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 14:43:10.441430"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 09:43:10 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "john@gmail.com"], ["id", 5], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 14:43:10.472235"], ["id", 5]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>5, :name=>"john"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>5, "name"=>"john"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 09:49:30 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1012ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3272)


Started GET "/cable" for ::1 at 2020-02-12 09:49:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 09:49:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 09:49:31 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
Started GET "/users" for ::1 at 2020-02-12 09:49:31 -0500
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 0.9ms | Allocations: 3316)


ChatChannel#appear({"userId"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 14:49:31.519751"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 3257)


  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-12 14:49:37.376741"], ["updated_at", "2020-02-12 14:49:37.376741"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 53cb5875-620a-4d06-83e7-7a1d9dbc5f97) to Async(default) with arguments: #<GlobalID:0x00007f7fe36b7438 @uri=#<URI::GID gid://chat-app/ChatMessage/218>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 218], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [53cb5875-620a-4d06-83e7-7a1d9dbc5f97] Performing ChatMessageCreationEventBroadcastJob (Job ID: 53cb5875-620a-4d06-83e7-7a1d9dbc5f97) from Async(default) enqueued at 2020-02-12T14:49:37Z with arguments: #<GlobalID:0x00007f7fe0a62720 @uri=#<URI::GID gid://chat-app/ChatMessage/218>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [53cb5875-620a-4d06-83e7-7a1d9dbc5f97]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [53cb5875-620a-4d06-83e7-7a1d9dbc5f97]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [53cb5875-620a-4d06-83e7-7a1d9dbc5f97] [ActionCable] Broadcasting to chat_channel: {:id=>218, :created_at=>"14:49", :content=>"hi", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [53cb5875-620a-4d06-83e7-7a1d9dbc5f97] Performed ChatMessageCreationEventBroadcastJob (Job ID: 53cb5875-620a-4d06-83e7-7a1d9dbc5f97) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>218, "created_at"=>"14:49", "content"=>"hi", "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 09:49:54 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 14:49:54.462091"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 09:50:07 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1015ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-12 09:50:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 09:50:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 09:50:08 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.8ms | Allocations: 2594)


Started GET "/users" for ::1 at 2020-02-12 09:50:08 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 1668)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 14:50:08.399505"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 14:50:19.475847"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 10:08:46 -0500
Started POST "/auth/login" for ::1 at 2020-02-12 10:09:08 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3259)


Started GET "/cable" for ::1 at 2020-02-12 10:09:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 10:09:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 10:09:09 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-12 10:09:09 -0500
Processing by ChatMessagesController#index as HTML
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.3ms | Allocations: 3632)


  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 15:09:09.059890"], ["id", 6]]
Completed 200 OK in 17ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 8919)


  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:09:15.853500"], ["updated_at", "2020-02-12 15:09:15.853500"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5d4edff8-64d8-4b34-a154-b589a4735bbf) to Async(default) with arguments: #<GlobalID:0x00007f7fe32c10b8 @uri=#<URI::GID gid://chat-app/ChatMessage/219>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 219], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d4edff8-64d8-4b34-a154-b589a4735bbf] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5d4edff8-64d8-4b34-a154-b589a4735bbf) from Async(default) enqueued at 2020-02-12T15:09:15Z with arguments: #<GlobalID:0x00007f7fe33133e0 @uri=#<URI::GID gid://chat-app/ChatMessage/219>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d4edff8-64d8-4b34-a154-b589a4735bbf]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d4edff8-64d8-4b34-a154-b589a4735bbf]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d4edff8-64d8-4b34-a154-b589a4735bbf] [ActionCable] Broadcasting to chat_channel: {:id=>219, :created_at=>"15:09", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5d4edff8-64d8-4b34-a154-b589a4735bbf] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5d4edff8-64d8-4b34-a154-b589a4735bbf) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>219, "created_at"=>"15:09", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:09:19.949822"], ["updated_at", "2020-02-12 15:09:19.949822"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 00efe401-d919-4b7f-8816-e0b8c8f2af33) to Async(default) with arguments: #<GlobalID:0x00007f7fe350f3b0 @uri=#<URI::GID gid://chat-app/ChatMessage/220>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 220], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00efe401-d919-4b7f-8816-e0b8c8f2af33] Performing ChatMessageCreationEventBroadcastJob (Job ID: 00efe401-d919-4b7f-8816-e0b8c8f2af33) from Async(default) enqueued at 2020-02-12T15:09:19Z with arguments: #<GlobalID:0x00007f7fe3566f20 @uri=#<URI::GID gid://chat-app/ChatMessage/220>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00efe401-d919-4b7f-8816-e0b8c8f2af33]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00efe401-d919-4b7f-8816-e0b8c8f2af33]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00efe401-d919-4b7f-8816-e0b8c8f2af33] [ActionCable] Broadcasting to chat_channel: {:id=>220, :created_at=>"15:09", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [00efe401-d919-4b7f-8816-e0b8c8f2af33] Performed ChatMessageCreationEventBroadcastJob (Job ID: 00efe401-d919-4b7f-8816-e0b8c8f2af33) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>220, "created_at"=>"15:09", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:09:20.639385"], ["updated_at", "2020-02-12 15:09:20.639385"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec) to Async(default) with arguments: #<GlobalID:0x00007f7fe1e96520 @uri=#<URI::GID gid://chat-app/ChatMessage/221>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 221], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec] Performing ChatMessageCreationEventBroadcastJob (Job ID: f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec) from Async(default) enqueued at 2020-02-12T15:09:20Z with arguments: #<GlobalID:0x00007f7fe361e940 @uri=#<URI::GID gid://chat-app/ChatMessage/221>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec] [ActionCable] Broadcasting to chat_channel: {:id=>221, :created_at=>"15:09", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec] Performed ChatMessageCreationEventBroadcastJob (Job ID: f452b29a-31bf-4d99-8fd5-ea6e06d8c7ec) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>221, "created_at"=>"15:09", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:09:21.509375"], ["updated_at", "2020-02-12 15:09:21.509375"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 81f828b3-71f7-4e14-aa7c-7aeaf11ba8af) to Async(default) with arguments: #<GlobalID:0x00007f7fe3636f90 @uri=#<URI::GID gid://chat-app/ChatMessage/222>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 222], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81f828b3-71f7-4e14-aa7c-7aeaf11ba8af] Performing ChatMessageCreationEventBroadcastJob (Job ID: 81f828b3-71f7-4e14-aa7c-7aeaf11ba8af) from Async(default) enqueued at 2020-02-12T15:09:21Z with arguments: #<GlobalID:0x00007f7fe0a1af60 @uri=#<URI::GID gid://chat-app/ChatMessage/222>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81f828b3-71f7-4e14-aa7c-7aeaf11ba8af]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81f828b3-71f7-4e14-aa7c-7aeaf11ba8af]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81f828b3-71f7-4e14-aa7c-7aeaf11ba8af] [ActionCable] Broadcasting to chat_channel: {:id=>222, :created_at=>"15:09", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [81f828b3-71f7-4e14-aa7c-7aeaf11ba8af] Performed ChatMessageCreationEventBroadcastJob (Job ID: 81f828b3-71f7-4e14-aa7c-7aeaf11ba8af) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>222, "created_at"=>"15:09", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 10:09:31 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-12 10:09:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 10:09:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 10:09:32 -0500
Started GET "/users" for ::1 at 2020-02-12 10:09:32 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 3933)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
ChatChannel is streaming from chat_channel
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms | Allocations: 3689)


  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 15:09:32.126890"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:09:34.637224"], ["updated_at", "2020-02-12 15:09:34.637224"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b9be52f1-cae5-431d-b23b-020817e22ded) to Async(default) with arguments: #<GlobalID:0x00007f7fe1f7f7c0 @uri=#<URI::GID gid://chat-app/ChatMessage/223>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 223], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b9be52f1-cae5-431d-b23b-020817e22ded] Performing ChatMessageCreationEventBroadcastJob (Job ID: b9be52f1-cae5-431d-b23b-020817e22ded) from Async(default) enqueued at 2020-02-12T15:09:34Z with arguments: #<GlobalID:0x00007f7fe370df18 @uri=#<URI::GID gid://chat-app/ChatMessage/223>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b9be52f1-cae5-431d-b23b-020817e22ded]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b9be52f1-cae5-431d-b23b-020817e22ded]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b9be52f1-cae5-431d-b23b-020817e22ded] [ActionCable] Broadcasting to chat_channel: {:id=>223, :created_at=>"15:09", :content=>"hey", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b9be52f1-cae5-431d-b23b-020817e22ded] Performed ChatMessageCreationEventBroadcastJob (Job ID: b9be52f1-cae5-431d-b23b-020817e22ded) from Async(default) in 1.04ms
ChatChannel transmitting {"id"=>223, "created_at"=>"15:09", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>223, "created_at"=>"15:09", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:09:41.653093"], ["updated_at", "2020-02-12 15:09:41.653093"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 51dd3ef5-1eb5-410d-bc9c-bb5311a66b46) to Async(default) with arguments: #<GlobalID:0x00007f7fe1fbe4e8 @uri=#<URI::GID gid://chat-app/ChatMessage/224>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 224], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51dd3ef5-1eb5-410d-bc9c-bb5311a66b46] Performing ChatMessageCreationEventBroadcastJob (Job ID: 51dd3ef5-1eb5-410d-bc9c-bb5311a66b46) from Async(default) enqueued at 2020-02-12T15:09:41Z with arguments: #<GlobalID:0x00007f7fe375f6b0 @uri=#<URI::GID gid://chat-app/ChatMessage/224>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51dd3ef5-1eb5-410d-bc9c-bb5311a66b46]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51dd3ef5-1eb5-410d-bc9c-bb5311a66b46]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51dd3ef5-1eb5-410d-bc9c-bb5311a66b46] [ActionCable] Broadcasting to chat_channel: {:id=>224, :created_at=>"15:09", :content=>"hey", :name=>"Casey"}
ChatChannel transmitting {"id"=>224, "created_at"=>"15:09", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>224, "created_at"=>"15:09", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51dd3ef5-1eb5-410d-bc9c-bb5311a66b46] Performed ChatMessageCreationEventBroadcastJob (Job ID: 51dd3ef5-1eb5-410d-bc9c-bb5311a66b46) from Async(default) in 0.98ms
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:23:28.194605"], ["updated_at", "2020-02-12 15:23:28.194605"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: af1fbd77-247b-486a-b75d-fddafb016c7d) to Async(default) with arguments: #<GlobalID:0x00007f7fe6800120 @uri=#<URI::GID gid://chat-app/ChatMessage/225>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 225], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [af1fbd77-247b-486a-b75d-fddafb016c7d] Performing ChatMessageCreationEventBroadcastJob (Job ID: af1fbd77-247b-486a-b75d-fddafb016c7d) from Async(default) enqueued at 2020-02-12T15:23:28Z with arguments: #<GlobalID:0x00007f7fe3784ff0 @uri=#<URI::GID gid://chat-app/ChatMessage/225>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [af1fbd77-247b-486a-b75d-fddafb016c7d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [af1fbd77-247b-486a-b75d-fddafb016c7d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [af1fbd77-247b-486a-b75d-fddafb016c7d] [ActionCable] Broadcasting to chat_channel: {:id=>225, :created_at=>"15:23", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [af1fbd77-247b-486a-b75d-fddafb016c7d] Performed ChatMessageCreationEventBroadcastJob (Job ID: af1fbd77-247b-486a-b75d-fddafb016c7d) from Async(default) in 1.18ms
ChatChannel transmitting {"id"=>225, "created_at"=>"15:23", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>225, "created_at"=>"15:23", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 10:34:05 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 15:34:05.791903"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel stopped streaming from chat_channel
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 10:34:05 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 15:34:05.844782"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 10:34:15 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1009ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3269)


Started GET "/cable" for ::1 at 2020-02-12 10:34:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 10:34:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 10:34:16 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 10:34:16 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 3428)


Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 3005)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 15:34:16.839519"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey"], ["created_at", "2020-02-12 15:34:21.682084"], ["updated_at", "2020-02-12 15:34:21.682084"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 92b3dc85-a979-4ba7-8793-290612738f8a) to Async(default) with arguments: #<GlobalID:0x00007f7fe0ad99d8 @uri=#<URI::GID gid://chat-app/ChatMessage/226>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 226], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [92b3dc85-a979-4ba7-8793-290612738f8a] Performing ChatMessageCreationEventBroadcastJob (Job ID: 92b3dc85-a979-4ba7-8793-290612738f8a) from Async(default) enqueued at 2020-02-12T15:34:21Z with arguments: #<GlobalID:0x00007f7fe0ae3fa0 @uri=#<URI::GID gid://chat-app/ChatMessage/226>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [92b3dc85-a979-4ba7-8793-290612738f8a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [92b3dc85-a979-4ba7-8793-290612738f8a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [92b3dc85-a979-4ba7-8793-290612738f8a] [ActionCable] Broadcasting to chat_channel: {:id=>226, :created_at=>"15:34", :content=>"Hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [92b3dc85-a979-4ba7-8793-290612738f8a] Performed ChatMessageCreationEventBroadcastJob (Job ID: 92b3dc85-a979-4ba7-8793-290612738f8a) from Async(default) in 0.92ms
ChatChannel transmitting {"id"=>226, "created_at"=>"15:34", "content"=>"Hey", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"what is up my homefry", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "what is up my homefry"], ["created_at", "2020-02-12 15:34:28.273703"], ["updated_at", "2020-02-12 15:34:28.273703"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 557994be-c134-41e9-aa06-1289e671d0a1) to Async(default) with arguments: #<GlobalID:0x00007f7fe1feda68 @uri=#<URI::GID gid://chat-app/ChatMessage/227>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 227], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [557994be-c134-41e9-aa06-1289e671d0a1] Performing ChatMessageCreationEventBroadcastJob (Job ID: 557994be-c134-41e9-aa06-1289e671d0a1) from Async(default) enqueued at 2020-02-12T15:34:28Z with arguments: #<GlobalID:0x00007f7fe0b00600 @uri=#<URI::GID gid://chat-app/ChatMessage/227>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [557994be-c134-41e9-aa06-1289e671d0a1]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [557994be-c134-41e9-aa06-1289e671d0a1]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [557994be-c134-41e9-aa06-1289e671d0a1] [ActionCable] Broadcasting to chat_channel: {:id=>227, :created_at=>"15:34", :content=>"what is up my homefry", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [557994be-c134-41e9-aa06-1289e671d0a1] Performed ChatMessageCreationEventBroadcastJob (Job ID: 557994be-c134-41e9-aa06-1289e671d0a1) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>227, "created_at"=>"15:34", "content"=>"what is up my homefry", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"I'm waiting for 10:35 to see if that works", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "I'm waiting for 10:35 to see if that works"], ["created_at", "2020-02-12 15:34:35.161480"], ["updated_at", "2020-02-12 15:34:35.161480"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2fdd2520-0120-4ff5-91d7-56d5894eb491) to Async(default) with arguments: #<GlobalID:0x00007f7fe03b4540 @uri=#<URI::GID gid://chat-app/ChatMessage/228>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 228], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fdd2520-0120-4ff5-91d7-56d5894eb491] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2fdd2520-0120-4ff5-91d7-56d5894eb491) from Async(default) enqueued at 2020-02-12T15:34:35Z with arguments: #<GlobalID:0x00007f7fe30f7160 @uri=#<URI::GID gid://chat-app/ChatMessage/228>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fdd2520-0120-4ff5-91d7-56d5894eb491]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fdd2520-0120-4ff5-91d7-56d5894eb491]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fdd2520-0120-4ff5-91d7-56d5894eb491] [ActionCable] Broadcasting to chat_channel: {:id=>228, :created_at=>"15:34", :content=>"I'm waiting for 10:35 to see if that works", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2fdd2520-0120-4ff5-91d7-56d5894eb491] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2fdd2520-0120-4ff5-91d7-56d5894eb491) from Async(default) in 1.71ms
ChatChannel transmitting {"id"=>228, "created_at"=>"15:34", "content"=>"I'm waiting for 10:35 to see if that works", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"It's not working..yet", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "It's not working..yet"], ["created_at", "2020-02-12 15:34:40.817621"], ["updated_at", "2020-02-12 15:34:40.817621"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 518a3ae9-0d53-4770-b9e1-cb5effa8e8e4) to Async(default) with arguments: #<GlobalID:0x00007f7fe3308080 @uri=#<URI::GID gid://chat-app/ChatMessage/229>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 229], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [518a3ae9-0d53-4770-b9e1-cb5effa8e8e4] Performing ChatMessageCreationEventBroadcastJob (Job ID: 518a3ae9-0d53-4770-b9e1-cb5effa8e8e4) from Async(default) enqueued at 2020-02-12T15:34:40Z with arguments: #<GlobalID:0x00007f7fe33731c8 @uri=#<URI::GID gid://chat-app/ChatMessage/229>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [518a3ae9-0d53-4770-b9e1-cb5effa8e8e4]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [518a3ae9-0d53-4770-b9e1-cb5effa8e8e4]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [518a3ae9-0d53-4770-b9e1-cb5effa8e8e4] [ActionCable] Broadcasting to chat_channel: {:id=>229, :created_at=>"15:34", :content=>"It's not working..yet", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [518a3ae9-0d53-4770-b9e1-cb5effa8e8e4] Performed ChatMessageCreationEventBroadcastJob (Job ID: 518a3ae9-0d53-4770-b9e1-cb5effa8e8e4) from Async(default) in 1.03ms
ChatChannel transmitting {"id"=>229, "created_at"=>"15:34", "content"=>"It's not working..yet", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"comeon time let's go", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "comeon time let's go"], ["created_at", "2020-02-12 15:34:45.017045"], ["updated_at", "2020-02-12 15:34:45.017045"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 30e7d44f-0b75-413c-ae4b-70a28d4765cb) to Async(default) with arguments: #<GlobalID:0x00007f7fe35673d0 @uri=#<URI::GID gid://chat-app/ChatMessage/230>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 230], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [30e7d44f-0b75-413c-ae4b-70a28d4765cb] Performing ChatMessageCreationEventBroadcastJob (Job ID: 30e7d44f-0b75-413c-ae4b-70a28d4765cb) from Async(default) enqueued at 2020-02-12T15:34:45Z with arguments: #<GlobalID:0x00007f7fe1d74908 @uri=#<URI::GID gid://chat-app/ChatMessage/230>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [30e7d44f-0b75-413c-ae4b-70a28d4765cb]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [30e7d44f-0b75-413c-ae4b-70a28d4765cb]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [30e7d44f-0b75-413c-ae4b-70a28d4765cb] [ActionCable] Broadcasting to chat_channel: {:id=>230, :created_at=>"15:34", :content=>"comeon time let's go", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [30e7d44f-0b75-413c-ae4b-70a28d4765cb] Performed ChatMessageCreationEventBroadcastJob (Job ID: 30e7d44f-0b75-413c-ae4b-70a28d4765cb) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>230, "created_at"=>"15:34", "content"=>"comeon time let's go", "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 10:34:51 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"casey@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"casey@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1005ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2531)


Started GET "/cable" for ::1 at 2020-02-12 10:34:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 10:34:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 10:34:52 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
Started GET "/users" for ::1 at 2020-02-12 10:34:52 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 3485)


Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>7})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1829)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 15:34:52.635231"], ["id", 7]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>7, :name=>"Casey"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:34:57.840556"], ["updated_at", "2020-02-12 15:34:57.840556"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: ad2fbb59-fe4c-473f-afc3-4d0963771d65) to Async(default) with arguments: #<GlobalID:0x00007f7fe36b7dc0 @uri=#<URI::GID gid://chat-app/ChatMessage/231>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 231], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ad2fbb59-fe4c-473f-afc3-4d0963771d65] Performing ChatMessageCreationEventBroadcastJob (Job ID: ad2fbb59-fe4c-473f-afc3-4d0963771d65) from Async(default) enqueued at 2020-02-12T15:34:57Z with arguments: #<GlobalID:0x00007f7fe0a6b118 @uri=#<URI::GID gid://chat-app/ChatMessage/231>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ad2fbb59-fe4c-473f-afc3-4d0963771d65]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ad2fbb59-fe4c-473f-afc3-4d0963771d65]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ad2fbb59-fe4c-473f-afc3-4d0963771d65] [ActionCable] Broadcasting to chat_channel: {:id=>231, :created_at=>"15:34", :content=>"hey", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [ad2fbb59-fe4c-473f-afc3-4d0963771d65] Performed ChatMessageCreationEventBroadcastJob (Job ID: ad2fbb59-fe4c-473f-afc3-4d0963771d65) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>231, "created_at"=>"15:34", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>231, "created_at"=>"15:34", "content"=>"hey", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"is it 10:35 yet", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "is it 10:35 yet"], ["created_at", "2020-02-12 15:35:02.240338"], ["updated_at", "2020-02-12 15:35:02.240338"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b690a3ec-8118-445d-b64e-fe80993da40b) to Async(default) with arguments: #<GlobalID:0x00007f7fe0ab8760 @uri=#<URI::GID gid://chat-app/ChatMessage/232>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 232], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b690a3ec-8118-445d-b64e-fe80993da40b] Performing ChatMessageCreationEventBroadcastJob (Job ID: b690a3ec-8118-445d-b64e-fe80993da40b) from Async(default) enqueued at 2020-02-12T15:35:02Z with arguments: #<GlobalID:0x00007f7fe36f7880 @uri=#<URI::GID gid://chat-app/ChatMessage/232>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b690a3ec-8118-445d-b64e-fe80993da40b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b690a3ec-8118-445d-b64e-fe80993da40b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b690a3ec-8118-445d-b64e-fe80993da40b] [ActionCable] Broadcasting to chat_channel: {:id=>232, :created_at=>"15:35", :content=>"is it 10:35 yet", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b690a3ec-8118-445d-b64e-fe80993da40b] Performed ChatMessageCreationEventBroadcastJob (Job ID: b690a3ec-8118-445d-b64e-fe80993da40b) from Async(default) in 0.85ms
ChatChannel transmitting {"id"=>232, "created_at"=>"15:35", "content"=>"is it 10:35 yet", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>232, "created_at"=>"15:35", "content"=>"is it 10:35 yet", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"wait... LOL", "created_by"=>7})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "wait... LOL"], ["created_at", "2020-02-12 15:35:23.920061"], ["updated_at", "2020-02-12 15:35:23.920061"], ["created_by", "7"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a0128740-af46-462e-b8d2-1a3412517e08) to Async(default) with arguments: #<GlobalID:0x00007f7fe375cb68 @uri=#<URI::GID gid://chat-app/ChatMessage/233>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 233], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a0128740-af46-462e-b8d2-1a3412517e08] Performing ChatMessageCreationEventBroadcastJob (Job ID: a0128740-af46-462e-b8d2-1a3412517e08) from Async(default) enqueued at 2020-02-12T15:35:23Z with arguments: #<GlobalID:0x00007f7fe03555e0 @uri=#<URI::GID gid://chat-app/ChatMessage/233>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a0128740-af46-462e-b8d2-1a3412517e08]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a0128740-af46-462e-b8d2-1a3412517e08]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a0128740-af46-462e-b8d2-1a3412517e08] [ActionCable] Broadcasting to chat_channel: {:id=>233, :created_at=>"15:35", :content=>"wait... LOL", :name=>"Casey"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a0128740-af46-462e-b8d2-1a3412517e08] Performed ChatMessageCreationEventBroadcastJob (Job ID: a0128740-af46-462e-b8d2-1a3412517e08) from Async(default) in 0.89ms
ChatChannel transmitting {"id"=>233, "created_at"=>"15:35", "content"=>"wait... LOL", "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>233, "created_at"=>"15:35", "content"=>"wait... LOL", "name"=>"Casey"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 10:37:50 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "casey@gmail.com"], ["id", 7], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 15:37:50.532980"], ["id", 7]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 10:37:50 -0500
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>7, :name=>"Casey"}
ChatChannel stopped streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>7, "name"=>"Casey"} (via streamed from chat_channel)
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 15:37:50.638905"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 10:38:00 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1012ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-12 10:38:01 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 10:38:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 10:38:01 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 10:38:01 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.4ms | Allocations: 2709)


  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Completed 200 OK in 14ms (Views: 1.9ms | ActiveRecord: 0.5ms | Allocations: 5215)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 15:38:01.584312"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 10:38:52 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 15:38:52.021169"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 10:38:59 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1020ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 10:39:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 10:39:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 10:39:00 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/users" for ::1 at 2020-02-12 10:39:00 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 8ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 3549)


Processing by UsersController#index as HTML
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 2580)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 15:39:00.625242"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>6})
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 15:44:54.964664"], ["updated_at", "2020-02-12 15:44:54.964664"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3511cba4-dc40-487f-85ef-155b939527a0) to Async(default) with arguments: #<GlobalID:0x00007f7fe1f8f940 @uri=#<URI::GID gid://chat-app/ChatMessage/234>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 234], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3511cba4-dc40-487f-85ef-155b939527a0] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3511cba4-dc40-487f-85ef-155b939527a0) from Async(default) enqueued at 2020-02-12T15:44:54Z with arguments: #<GlobalID:0x00007f7fe3715268 @uri=#<URI::GID gid://chat-app/ChatMessage/234>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3511cba4-dc40-487f-85ef-155b939527a0]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3511cba4-dc40-487f-85ef-155b939527a0]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3511cba4-dc40-487f-85ef-155b939527a0] [ActionCable] Broadcasting to chat_channel: {:id=>234, :created_at=>"15:44", :content=>"hey", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3511cba4-dc40-487f-85ef-155b939527a0] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3511cba4-dc40-487f-85ef-155b939527a0) from Async(default) in 1.49ms
ChatChannel transmitting {"id"=>234, "created_at"=>"15:44", "content"=>"hey", "name"=>"Nolan"} (via streamed from chat_channel)
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT chat_messages.id, users.name, :chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at.strftime('%H:%M') FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:15:06 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:15:06.092151"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:15:30 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1011ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3259)


Started GET "/cable" for ::1 at 2020-02-12 11:15:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:15:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:15:31 -0500
Started GET "/users" for ::1 at 2020-02-12 11:15:31 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by ChatMessagesController#index as HTML
ChatChannel#appear({"userId"=>6})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 5782)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 0.3ms | Allocations: 5047)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:15:31.695753"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:26:08 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:26:08.601800"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:26:18 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1012ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-12 11:26:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:26:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:26:19 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/users" for ::1 at 2020-02-12 11:26:19 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 3317)


Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.4ms | Allocations: 3876)


  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:26:19.627976"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:28:43 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:28:43.621211"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:28:49 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmai.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmai.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmai.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2112)


Started POST "/auth/login" for ::1 at 2020-02-12 11:28:56 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3249)


Started GET "/cable" for ::1 at 2020-02-12 11:28:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:28:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:28:57 -0500
Started GET "/users" for ::1 at 2020-02-12 11:28:57 -0500
Processing by ChatMessagesController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.3ms | Allocations: 3094)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 15ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 6793)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:28:57.463434"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:32:43 -0500
  [1m[35m (1.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:32:43.998290"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:32:49 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1028ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:32:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:32:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:32:50 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 11:32:50 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 3328)


Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 3228)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:32:50.336962"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:33:23 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:33:23.365973"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:33:32 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1014ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3218)


Started GET "/cable" for ::1 at 2020-02-12 11:33:33 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:33:33 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:33:33 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/users" for ::1 at 2020-02-12 11:33:33 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 18ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 3778)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.2ms | Allocations: 4489)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:33:34.011649"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:36:20 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:36:20.074311"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:36:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1013ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:36:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:36:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:36:59 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-12 11:36:59 -0500
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 3292)


Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1668)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:36:59.978433"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:37:49 -0500
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:37:49.479205"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:37:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-12 11:37:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:37:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:37:59 -0500
Started GET "/users" for ::1 at 2020-02-12 11:37:59 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 3962)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (2.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:37:59.510585"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 0.7ms | Allocations: 7504)


ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:38:22 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:38:22.099674"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:38:31 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1011ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-12 11:38:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:38:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:38:32 -0500
Started GET "/users" for ::1 at 2020-02-12 11:38:32 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 3780)


  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.3ms | Allocations: 5846)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:38:32.119988"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:38:59 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:38:59.166877"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:39:08 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1025ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:39:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:39:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:39:09 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/users" for ::1 at 2020-02-12 11:39:09 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 1.6ms | Allocations: 3292)


ChatChannel#appear({"userId"=>6})
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:39:09.167023"], ["id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.3ms | Allocations: 4808)


  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:39:37 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:39:37.426978"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:39:43 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1009ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:39:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:39:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:39:44 -0500
Started GET "/users" for ::1 at 2020-02-12 11:39:44 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.5ms | Allocations: 2950)


ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 4315)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:39:44.399270"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:39:56 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:39:56.623913"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:40:07 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1024ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:40:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:40:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:40:08 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 11:40:08 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 10ms (Views: 1.5ms | ActiveRecord: 0.7ms | Allocations: 3373)


Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 2374)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (2.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:40:08.706887"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:40:40 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:40:40.422113"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:41:06 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1035ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3252)


Started GET "/cable" for ::1 at 2020-02-12 11:41:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:41:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:41:07 -0500
Started GET "/users" for ::1 at 2020-02-12 11:41:07 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 10ms (Views: 1.8ms | ActiveRecord: 0.5ms | Allocations: 4215)


Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 2792)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:41:07.340721"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:41:57 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:41:57.469411"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:42:02 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1033ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:42:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:42:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:42:03 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Started GET "/users" for ::1 at 2020-02-12 11:42:03 -0500
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 0.5ms | Allocations: 3476)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:42:03.841467"], ["id", 6]]
Completed 200 OK in 14ms (Views: 5.6ms | ActiveRecord: 0.4ms | Allocations: 3531)


  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:42:27 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:42:27.756641"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:42:35 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2522)


Started GET "/cable" for ::1 at 2020-02-12 11:42:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:42:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:42:36 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Started GET "/users" for ::1 at 2020-02-12 11:42:36 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1668)


Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.4ms | Allocations: 4995)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:42:36.981007"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:43:03 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:43:03.318222"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:43:17 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1030ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-12 11:43:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:43:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:43:18 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Started GET "/users" for ::1 at 2020-02-12 11:43:18 -0500
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 2832)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 3241)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:43:18.309172"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:43:36 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:43:36.636192"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:44:46 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2388)


Started GET "/cable" for ::1 at 2020-02-12 11:44:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:44:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:44:47 -0500
Started GET "/users" for ::1 at 2020-02-12 11:44:47 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.2ms | Allocations: 3598)


Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 5206)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:44:47.897898"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:49:53 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:49:53.962769"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:51:16 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1036ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3246)


Started GET "/cable" for ::1 at 2020-02-12 11:51:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:51:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:51:17 -0500
Started GET "/users" for ::1 at 2020-02-12 11:51:17 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Processing by UsersController#index as HTML
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 4253)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 2371)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:51:17.202678"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:51:47 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:51:47.966031"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:51:55 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3218)


Started GET "/cable" for ::1 at 2020-02-12 11:51:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:51:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:51:56 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 11:51:56 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.3ms | Allocations: 2916)


ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 3629)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:51:56.770135"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:53:21 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:53:21.047197"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 11:53:27 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 11:53:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 11:53:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 11:53:28 -0500
Started GET "/users" for ::1 at 2020-02-12 11:53:28 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 4042)


ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.2ms | Allocations: 4006)


ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 16:53:28.387225"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 11:53:48 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 16:53:48.284149"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:02:06 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1035ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2414)


Started GET "/cable" for ::1 at 2020-02-12 12:02:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:02:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:02:07 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 12:02:07 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 11ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 4533)


  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 0.3ms | Allocations: 4128)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:02:07.641773"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:03:29 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:03:29.785448"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 12:03:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:03:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:03:36.741983"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:13:41 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:13:41.307857"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 12:13:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:13:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:13:42.446986"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:17:23 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:17:23.396926"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:17:30 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1025ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3261)


Started GET "/cable" for ::1 at 2020-02-12 12:17:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:17:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:17:31 -0500
Started GET "/users" for ::1 at 2020-02-12 12:17:31 -0500
Processing by ChatMessagesController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 4360)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:17:31.183337"], ["id", 6]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 18ms (Views: 8.9ms | ActiveRecord: 0.9ms | Allocations: 7263)


  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:17:37 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:17:37.326382"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (6.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:17:43 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1028ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2410)


Started GET "/cable" for ::1 at 2020-02-12 12:17:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:17:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:17:44 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/users" for ::1 at 2020-02-12 12:17:44 -0500
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Completed 200 OK in 9ms (Views: 1.5ms | ActiveRecord: 0.7ms | Allocations: 3234)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.3ms | Allocations: 2735)


  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:17:44.626987"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:18:39 -0500
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:18:39.063984"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:18:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1023ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2400)


Started GET "/cable" for ::1 at 2020-02-12 12:18:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:18:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
Started GET "/chat_messages" for ::1 at 2020-02-12 12:18:45 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
Started GET "/users" for ::1 at 2020-02-12 12:18:45 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
Processing by ChatMessagesController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
Processing by UsersController#index as HTML
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:18:45.895889"], ["id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 5482)


Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.4ms | Allocations: 5169)


[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:19:25 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:19:25.679849"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:19:33 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2522)


Started GET "/cable" for ::1 at 2020-02-12 12:19:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:19:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:19:34 -0500
Started GET "/users" for ::1 at 2020-02-12 12:19:34 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 0.2ms | Allocations: 3485)


  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 5310)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:19:34.519492"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hh", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hh"], ["created_at", "2020-02-12 17:23:17.722971"], ["updated_at", "2020-02-12 17:23:17.722971"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 79189c29-aa95-4d83-a361-63e495b771e1) to Async(default) with arguments: #<GlobalID:0x00007f7fe02a2ff8 @uri=#<URI::GID gid://chat-app/ChatMessage/235>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 235], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [79189c29-aa95-4d83-a361-63e495b771e1] Performing ChatMessageCreationEventBroadcastJob (Job ID: 79189c29-aa95-4d83-a361-63e495b771e1) from Async(default) enqueued at 2020-02-12T17:23:17Z with arguments: #<GlobalID:0x00007f7fe1edd740 @uri=#<URI::GID gid://chat-app/ChatMessage/235>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [79189c29-aa95-4d83-a361-63e495b771e1]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [79189c29-aa95-4d83-a361-63e495b771e1]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [79189c29-aa95-4d83-a361-63e495b771e1] [ActionCable] Broadcasting to chat_channel: {:id=>235, :created_at=>"17:23", :content=>"hh", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [79189c29-aa95-4d83-a361-63e495b771e1] Performed ChatMessageCreationEventBroadcastJob (Job ID: 79189c29-aa95-4d83-a361-63e495b771e1) from Async(default) in 1.0ms
ChatChannel transmitting {"id"=>235, "created_at"=>"17:23", "content"=>"hh", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>",l,", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", ",l,"], ["created_at", "2020-02-12 17:23:30.029959"], ["updated_at", "2020-02-12 17:23:30.029959"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 51a6b357-d6ae-4168-9ce9-1d72ddff2a33) to Async(default) with arguments: #<GlobalID:0x00007f7fe36ac330 @uri=#<URI::GID gid://chat-app/ChatMessage/236>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 236], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51a6b357-d6ae-4168-9ce9-1d72ddff2a33] Performing ChatMessageCreationEventBroadcastJob (Job ID: 51a6b357-d6ae-4168-9ce9-1d72ddff2a33) from Async(default) enqueued at 2020-02-12T17:23:30Z with arguments: #<GlobalID:0x00007f7fe1f2e2f8 @uri=#<URI::GID gid://chat-app/ChatMessage/236>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51a6b357-d6ae-4168-9ce9-1d72ddff2a33]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51a6b357-d6ae-4168-9ce9-1d72ddff2a33]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51a6b357-d6ae-4168-9ce9-1d72ddff2a33] [ActionCable] Broadcasting to chat_channel: {:id=>236, :created_at=>"17:23", :content=>",l,", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51a6b357-d6ae-4168-9ce9-1d72ddff2a33] Performed ChatMessageCreationEventBroadcastJob (Job ID: 51a6b357-d6ae-4168-9ce9-1d72ddff2a33) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>236, "created_at"=>"17:23", "content"=>",l,", "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>",", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", ","], ["created_at", "2020-02-12 17:23:31.175544"], ["updated_at", "2020-02-12 17:23:31.175544"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f17e9176-e3ee-4a1b-a0a1-3d4327a0618d) to Async(default) with arguments: #<GlobalID:0x00007f7fe1f57e28 @uri=#<URI::GID gid://chat-app/ChatMessage/237>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 237], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f17e9176-e3ee-4a1b-a0a1-3d4327a0618d] Performing ChatMessageCreationEventBroadcastJob (Job ID: f17e9176-e3ee-4a1b-a0a1-3d4327a0618d) from Async(default) enqueued at 2020-02-12T17:23:31Z with arguments: #<GlobalID:0x00007f7fe1f5e2c8 @uri=#<URI::GID gid://chat-app/ChatMessage/237>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f17e9176-e3ee-4a1b-a0a1-3d4327a0618d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f17e9176-e3ee-4a1b-a0a1-3d4327a0618d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f17e9176-e3ee-4a1b-a0a1-3d4327a0618d] [ActionCable] Broadcasting to chat_channel: {:id=>237, :created_at=>"17:23", :content=>",", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f17e9176-e3ee-4a1b-a0a1-3d4327a0618d] Performed ChatMessageCreationEventBroadcastJob (Job ID: f17e9176-e3ee-4a1b-a0a1-3d4327a0618d) from Async(default) in 0.9ms
ChatChannel transmitting {"id"=>237, "created_at"=>"17:23", "content"=>",", "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:24:03 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:24:03.586504"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:24:18 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1025ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2404)


Started GET "/cable" for ::1 at 2020-02-12 12:24:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:24:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:24:19 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Started GET "/users" for ::1 at 2020-02-12 12:24:19 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Processing by UsersController#index as HTML
Completed 200 OK in 24ms (Views: 15.7ms | ActiveRecord: 0.4ms | Allocations: 4457)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.4ms | Allocations: 3667)


  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:24:19.801830"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:25:27 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:25:27.288608"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:30:34 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1026ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3252)


Started GET "/cable" for ::1 at 2020-02-12 12:30:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:30:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:30:35 -0500
Started GET "/users" for ::1 at 2020-02-12 12:30:35 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 2523)


Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 4110)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:30:35.876740"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:31:04 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:31:04.397646"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:31:17 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 257ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 814)


Started POST "/auth/login" for ::1 at 2020-02-12 12:31:24 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 12:31:25 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:31:25 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:31:25 -0500
Started GET "/users" for ::1 at 2020-02-12 12:31:25 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>6})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 4605)


Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.3ms | Allocations: 3625)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:31:25.693868"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:32:15 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:32:15.793018"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:32:25 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-12 12:32:26 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:32:26 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:32:26 -0500
Started GET "/users" for ::1 at 2020-02-12 12:32:26 -0500
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 10ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 4954)


  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 12ms (Views: 2.3ms | ActiveRecord: 0.4ms | Allocations: 6076)


  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:32:26.181837"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:35:06.528606"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/signup" for ::1 at 2020-02-12 12:35:14 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"c", "email"=>"c@c", "password"=>"[FILTERED]", "user"=>{"name"=>"c", "email"=>"c@c"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c@c"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "c"], ["email", "c@c"], ["password_digest", "$2a$12$ukaTln3snxwtY5erbrxyV.zhiWsWUXd.IQm9l/l8mLg50RQXiau7."], ["created_at", "2020-02-12 17:35:14.708382"], ["updated_at", "2020-02-12 17:35:14.708382"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c@c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c@c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c@c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c@c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1280ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 8183)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:36:30 -0500
Started POST "/signup" for ::1 at 2020-02-12 12:36:43 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"c", "email"=>"c", "password"=>"[FILTERED]", "user"=>{"name"=>"c", "email"=>"c"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "c"], ["email", "c"], ["password_digest", "$2a$12$.YGYo9XI4dPgj6I2eJXBU.tqpP5tAgUG/cMZ3cAnJQpW2f0l0CWuC"], ["created_at", "2020-02-12 17:36:44.119888"], ["updated_at", "2020-02-12 17:36:44.119888"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1307ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 8387)


Started POST "/signup" for ::1 at 2020-02-12 12:37:23 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"a", "email"=>"a", "password"=>"[FILTERED]", "user"=>{"name"=>"a", "email"=>"a"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "a"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "a"], ["email", "a"], ["password_digest", "$2a$12$2zsGC3YgkjP6L.qT5k79Fel9HyWiAgoV0JqTibpZChFHheTTfA3J6"], ["created_at", "2020-02-12 17:37:23.587372"], ["updated_at", "2020-02-12 17:37:23.587372"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "a"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "a"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "a"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "a"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1309ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 8404)


Started POST "/signup" for ::1 at 2020-02-12 12:38:21 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"q", "email"=>"q", "password"=>"[FILTERED]", "user"=>{"name"=>"q", "email"=>"q"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "q"], ["email", "q"], ["password_digest", "$2a$12$9BTU5FIEdSfg6I0NuwoxduUXH6MnEJC/mO.IDxavn0xJU2fPiFWiK"], ["created_at", "2020-02-12 17:38:22.231645"], ["updated_at", "2020-02-12 17:38:22.231645"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1306ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 7265)


Started POST "/signup" for ::1 at 2020-02-12 12:39:39 -0500
Processing by UsersController#create as HTML
  Parameters: {"name"=>"t", "email"=>"t", "password"=>"[FILTERED]", "user"=>{"name"=>"t", "email"=>"t"}}
[31mUnpermitted parameter: :user[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "t"], ["email", "t"], ["password_digest", "$2a$12$nqhhx1gkyUNM9c/Xb7tTeu/CViusbG8Xb3SOG18CAayde2jBW2bH."], ["created_at", "2020-02-12 17:39:39.354634"], ["updated_at", "2020-02-12 17:39:39.354634"]]
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:13:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 201 Created in 1292ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 7854)


Started GET "/cable" for ::1 at 2020-02-12 12:39:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:39:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:39:40 -0500
Started GET "/users" for ::1 at 2020-02-12 12:39:40 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>12})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 3709)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 11ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 5621)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:39:40.423677"], ["id", 12]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>12})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 17:39:56.383851"], ["updated_at", "2020-02-12 17:39:56.383851"], ["created_by", "12"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: aa652395-599e-45b2-8002-e79562bd1606) to Async(default) with arguments: #<GlobalID:0x00007f7fe33bb450 @uri=#<URI::GID gid://chat-app/ChatMessage/238>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 238], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [aa652395-599e-45b2-8002-e79562bd1606] Performing ChatMessageCreationEventBroadcastJob (Job ID: aa652395-599e-45b2-8002-e79562bd1606) from Async(default) enqueued at 2020-02-12T17:39:56Z with arguments: #<GlobalID:0x00007f7fe3413538 @uri=#<URI::GID gid://chat-app/ChatMessage/238>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [aa652395-599e-45b2-8002-e79562bd1606]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [aa652395-599e-45b2-8002-e79562bd1606]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [aa652395-599e-45b2-8002-e79562bd1606] [ActionCable] Broadcasting to chat_channel: {:id=>238, :created_at=>"17:39", :content=>"hey", :name=>"t"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [aa652395-599e-45b2-8002-e79562bd1606] Performed ChatMessageCreationEventBroadcastJob (Job ID: aa652395-599e-45b2-8002-e79562bd1606) from Async(default) in 1.06ms
ChatChannel transmitting {"id"=>238, "created_at"=>"17:39", "content"=>"hey", "name"=>"t"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>12})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 17:40:00.337335"], ["updated_at", "2020-02-12 17:40:00.337335"], ["created_by", "12"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 26d6fb62-cf26-400c-804c-2c8fa428e7c8) to Async(default) with arguments: #<GlobalID:0x00007f7fe1dd48f8 @uri=#<URI::GID gid://chat-app/ChatMessage/239>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 239], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26d6fb62-cf26-400c-804c-2c8fa428e7c8] Performing ChatMessageCreationEventBroadcastJob (Job ID: 26d6fb62-cf26-400c-804c-2c8fa428e7c8) from Async(default) enqueued at 2020-02-12T17:40:00Z with arguments: #<GlobalID:0x00007f7fe1e2ca80 @uri=#<URI::GID gid://chat-app/ChatMessage/239>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26d6fb62-cf26-400c-804c-2c8fa428e7c8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26d6fb62-cf26-400c-804c-2c8fa428e7c8]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26d6fb62-cf26-400c-804c-2c8fa428e7c8] [ActionCable] Broadcasting to chat_channel: {:id=>239, :created_at=>"17:40", :content=>"hey", :name=>"t"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [26d6fb62-cf26-400c-804c-2c8fa428e7c8] Performed ChatMessageCreationEventBroadcastJob (Job ID: 26d6fb62-cf26-400c-804c-2c8fa428e7c8) from Async(default) in 0.86ms
ChatChannel transmitting {"id"=>239, "created_at"=>"17:40", "content"=>"hey", "name"=>"t"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>12})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 17:40:01.183285"], ["updated_at", "2020-02-12 17:40:01.183285"], ["created_by", "12"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d79592c7-f9fe-44ee-b08b-6658ea2c375b) to Async(default) with arguments: #<GlobalID:0x00007f7fe1ec7eb8 @uri=#<URI::GID gid://chat-app/ChatMessage/240>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 240], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d79592c7-f9fe-44ee-b08b-6658ea2c375b] Performing ChatMessageCreationEventBroadcastJob (Job ID: d79592c7-f9fe-44ee-b08b-6658ea2c375b) from Async(default) enqueued at 2020-02-12T17:40:01Z with arguments: #<GlobalID:0x00007f7fe0288dd8 @uri=#<URI::GID gid://chat-app/ChatMessage/240>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d79592c7-f9fe-44ee-b08b-6658ea2c375b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d79592c7-f9fe-44ee-b08b-6658ea2c375b]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d79592c7-f9fe-44ee-b08b-6658ea2c375b] [ActionCable] Broadcasting to chat_channel: {:id=>240, :created_at=>"17:40", :content=>"hey", :name=>"t"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d79592c7-f9fe-44ee-b08b-6658ea2c375b] Performed ChatMessageCreationEventBroadcastJob (Job ID: d79592c7-f9fe-44ee-b08b-6658ea2c375b) from Async(default) in 0.86ms
ChatChannel transmitting {"id"=>240, "created_at"=>"17:40", "content"=>"hey", "name"=>"t"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:40:36 -0500
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:40:36.997414"], ["id", 12]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>12, :name=>"t"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:40:44 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2410)


Started GET "/cable" for ::1 at 2020-02-12 12:40:45 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:40:45 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:40:45 -0500
Started GET "/users" for ::1 at 2020-02-12 12:40:45 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:40:45.193923"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 0.6ms | Allocations: 3364)


Processing by UsersController#index as HTML
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms | Allocations: 2457)


  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"aasdf", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "aasdf"], ["created_at", "2020-02-12 17:40:48.701803"], ["updated_at", "2020-02-12 17:40:48.701803"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 724dae1f-e9c6-4d09-af63-811e42f3c982) to Async(default) with arguments: #<GlobalID:0x00007f7fe03778e8 @uri=#<URI::GID gid://chat-app/ChatMessage/241>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 241], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724dae1f-e9c6-4d09-af63-811e42f3c982] Performing ChatMessageCreationEventBroadcastJob (Job ID: 724dae1f-e9c6-4d09-af63-811e42f3c982) from Async(default) enqueued at 2020-02-12T17:40:48Z with arguments: #<GlobalID:0x00007f7fe6833b10 @uri=#<URI::GID gid://chat-app/ChatMessage/241>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724dae1f-e9c6-4d09-af63-811e42f3c982]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724dae1f-e9c6-4d09-af63-811e42f3c982]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724dae1f-e9c6-4d09-af63-811e42f3c982] [ActionCable] Broadcasting to chat_channel: {:id=>241, :created_at=>"17:40", :content=>"aasdf", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [724dae1f-e9c6-4d09-af63-811e42f3c982] Performed ChatMessageCreationEventBroadcastJob (Job ID: 724dae1f-e9c6-4d09-af63-811e42f3c982) from Async(default) in 1.21ms
ChatChannel transmitting {"id"=>241, "created_at"=>"17:40", "content"=>"aasdf", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:40:54 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:40:54.909395"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:40:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-12 12:41:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:41:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:41:00 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Started GET "/users" for ::1 at 2020-02-12 12:41:00 -0500
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 3749)


Processing by UsersController#index as HTML
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:41:00.066689"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 4099)


ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hhh", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hhh"], ["created_at", "2020-02-12 17:44:16.653905"], ["updated_at", "2020-02-12 17:44:16.653905"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6692aea8-f116-4783-b11f-6788933bf0ff) to Async(default) with arguments: #<GlobalID:0x00007f7fe32f86f8 @uri=#<URI::GID gid://chat-app/ChatMessage/242>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 242], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6692aea8-f116-4783-b11f-6788933bf0ff] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6692aea8-f116-4783-b11f-6788933bf0ff) from Async(default) enqueued at 2020-02-12T17:44:16Z with arguments: #<GlobalID:0x00007f7fe33836e0 @uri=#<URI::GID gid://chat-app/ChatMessage/242>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6692aea8-f116-4783-b11f-6788933bf0ff]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6692aea8-f116-4783-b11f-6788933bf0ff]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6692aea8-f116-4783-b11f-6788933bf0ff] [ActionCable] Broadcasting to chat_channel: {:id=>242, :created_at=>"17:44", :content=>"hhh", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6692aea8-f116-4783-b11f-6788933bf0ff] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6692aea8-f116-4783-b11f-6788933bf0ff) from Async(default) in 1.47ms
ChatChannel transmitting {"id"=>242, "created_at"=>"17:44", "content"=>"hhh", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>9})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:45:07.665129"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:45:14 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 11081)


Started GET "/cable" for ::1 at 2020-02-12 12:45:15 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:45:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-12 12:45:15 -0500
Started GET "/chat_messages" for ::1 at 2020-02-12 12:45:15 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
ChatChannel#appear({"userId"=>6})
Processing by ChatMessagesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 19ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 3206)


  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 6285)


  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:45:15.238168"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"heyheyehehe", "created_by"=>6})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "heyheyehehe"], ["created_at", "2020-02-12 17:45:19.764668"], ["updated_at", "2020-02-12 17:45:19.764668"], ["created_by", "6"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: a1fceed4-743c-4c9c-b77b-eb5c0971ca9a) to Async(default) with arguments: #<GlobalID:0x00007f7fe1dd55a0 @uri=#<URI::GID gid://chat-app/ChatMessage/243>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 243], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a1fceed4-743c-4c9c-b77b-eb5c0971ca9a] Performing ChatMessageCreationEventBroadcastJob (Job ID: a1fceed4-743c-4c9c-b77b-eb5c0971ca9a) from Async(default) enqueued at 2020-02-12T17:45:19Z with arguments: #<GlobalID:0x00007f7fe1e2d340 @uri=#<URI::GID gid://chat-app/ChatMessage/243>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a1fceed4-743c-4c9c-b77b-eb5c0971ca9a]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a1fceed4-743c-4c9c-b77b-eb5c0971ca9a]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a1fceed4-743c-4c9c-b77b-eb5c0971ca9a] [ActionCable] Broadcasting to chat_channel: {:id=>243, :created_at=>Wed, 12 Feb 2020 17:45:19 UTC +00:00, :content=>"heyheyehehe", :name=>"Nolan"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [a1fceed4-743c-4c9c-b77b-eb5c0971ca9a] Performed ChatMessageCreationEventBroadcastJob (Job ID: a1fceed4-743c-4c9c-b77b-eb5c0971ca9a) from Async(default) in 1.38ms
ChatChannel transmitting {"id"=>243, "created_at"=>"2020-02-12T17:45:19.764Z", "content"=>"heyheyehehe", "name"=>"Nolan"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 12:45:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:45:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel#disappear({"userId"=>6})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:45:35.984063"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:45:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"nolan@gmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"nolan@gmail.com", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1024ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3408)


Started GET "/cable" for ::1 at 2020-02-12 12:45:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:45:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:45:43 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 2973)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-12 12:45:43 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>6})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 0.4ms | Allocations: 3049)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:45:43.675130"], ["id", 6]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>6, :name=>"Nolan"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:45:51 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 995ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3449)


Started GET "/cable" for ::1 at 2020-02-12 12:45:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:45:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:45:52 -0500
Started GET "/users" for ::1 at 2020-02-12 12:45:52 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 3987)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.3ms | Allocations: 6573)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:45:52.633205"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:45:56 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:45:56.849939"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:46:03 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 994ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2521)


Started GET "/cable" for ::1 at 2020-02-12 12:46:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:46:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:46:04 -0500
Started GET "/users" for ::1 at 2020-02-12 12:46:04 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 3982)


Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms | Allocations: 4518)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:46:04.253069"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 17:46:06.868816"], ["updated_at", "2020-02-12 17:46:06.868816"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d3c01854-8bb0-47c0-bfdf-62f2d72e62f0) to Async(default) with arguments: #<GlobalID:0x00007f7fe1f05c18 @uri=#<URI::GID gid://chat-app/ChatMessage/244>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 244], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d3c01854-8bb0-47c0-bfdf-62f2d72e62f0] Performing ChatMessageCreationEventBroadcastJob (Job ID: d3c01854-8bb0-47c0-bfdf-62f2d72e62f0) from Async(default) enqueued at 2020-02-12T17:46:06Z with arguments: #<GlobalID:0x00007f7fe0a39438 @uri=#<URI::GID gid://chat-app/ChatMessage/244>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d3c01854-8bb0-47c0-bfdf-62f2d72e62f0]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d3c01854-8bb0-47c0-bfdf-62f2d72e62f0]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d3c01854-8bb0-47c0-bfdf-62f2d72e62f0] [ActionCable] Broadcasting to chat_channel: {:id=>244, :created_at=>Wed, 12 Feb 2020 17:46:06 UTC +00:00, :content=>"hey", :name=>"c"}
ChatChannel transmitting {"id"=>244, "created_at"=>"2020-02-12T17:46:06.868Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>244, "created_at"=>"2020-02-12T17:46:06.868Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d3c01854-8bb0-47c0-bfdf-62f2d72e62f0] Performed ChatMessageCreationEventBroadcastJob (Job ID: d3c01854-8bb0-47c0-bfdf-62f2d72e62f0) from Async(default) in 0.98ms
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:46:58 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:46:58 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:46:58 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "nolan@gmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:46:58.213033"], ["id", 6]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>6, :name=>"Nolan"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:46:58 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:46:58.236846"], ["id", 9]]
ChatChannel transmitting {"event"=>"disappear", "user_id"=>6, "name"=>"Nolan"} (via streamed from chat_channel)
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:47:18 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1005ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 12:47:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:47:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:47:19 -0500
Started GET "/users" for ::1 at 2020-02-12 12:47:19 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.4ms | Allocations: 3176)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 4218)


ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:47:19.251942"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:47:33 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:47:33.872458"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:47:40 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1001ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 12:47:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:47:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:47:41 -0500
Started GET "/users" for ::1 at 2020-02-12 12:47:41 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by ChatMessagesController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 3277)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 5972)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:47:41.933421"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"might be", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "might be"], ["created_at", "2020-02-12 17:47:46.286929"], ["updated_at", "2020-02-12 17:47:46.286929"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2aaaba37-e35c-479e-ba7e-5122123f32ac) to Async(default) with arguments: #<GlobalID:0x00007f7fe3774c40 @uri=#<URI::GID gid://chat-app/ChatMessage/245>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 245], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2aaaba37-e35c-479e-ba7e-5122123f32ac] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2aaaba37-e35c-479e-ba7e-5122123f32ac) from Async(default) enqueued at 2020-02-12T17:47:46Z with arguments: #<GlobalID:0x00007f7fe68033e8 @uri=#<URI::GID gid://chat-app/ChatMessage/245>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2aaaba37-e35c-479e-ba7e-5122123f32ac]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2aaaba37-e35c-479e-ba7e-5122123f32ac]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2aaaba37-e35c-479e-ba7e-5122123f32ac] [ActionCable] Broadcasting to chat_channel: {:id=>245, :created_at=>Wed, 12 Feb 2020 17:47:46 UTC +00:00, :content=>"might be", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2aaaba37-e35c-479e-ba7e-5122123f32ac] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2aaaba37-e35c-479e-ba7e-5122123f32ac) from Async(default) in 0.91ms
ChatChannel transmitting {"id"=>245, "created_at"=>"2020-02-12T17:47:46.286Z", "content"=>"might be", "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 12:47:57 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1004ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3335)


Started GET "/cable" for ::1 at 2020-02-12 12:47:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 12:47:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 12:47:59 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
Started GET "/users" for ::1 at 2020-02-12 12:47:59 -0500
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>11})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 4049)


  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 17:47:59.019816"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.2ms | Allocations: 6142)


[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"wow", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "wow"], ["created_at", "2020-02-12 17:48:01.494608"], ["updated_at", "2020-02-12 17:48:01.494608"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d9d7ee6f-dff9-4698-99ff-d8a32d24a547) to Async(default) with arguments: #<GlobalID:0x00007f7fe48234d8 @uri=#<URI::GID gid://chat-app/ChatMessage/246>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 246], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d9d7ee6f-dff9-4698-99ff-d8a32d24a547] Performing ChatMessageCreationEventBroadcastJob (Job ID: d9d7ee6f-dff9-4698-99ff-d8a32d24a547) from Async(default) enqueued at 2020-02-12T17:48:01Z with arguments: #<GlobalID:0x00007f7fe4843580 @uri=#<URI::GID gid://chat-app/ChatMessage/246>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d9d7ee6f-dff9-4698-99ff-d8a32d24a547]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d9d7ee6f-dff9-4698-99ff-d8a32d24a547]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d9d7ee6f-dff9-4698-99ff-d8a32d24a547] [ActionCable] Broadcasting to chat_channel: {:id=>246, :created_at=>Wed, 12 Feb 2020 17:48:01 UTC +00:00, :content=>"wow", :name=>"q"}
ChatChannel transmitting {"id"=>246, "created_at"=>"2020-02-12T17:48:01.494Z", "content"=>"wow", "name"=>"q"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d9d7ee6f-dff9-4698-99ff-d8a32d24a547] Performed ChatMessageCreationEventBroadcastJob (Job ID: d9d7ee6f-dff9-4698-99ff-d8a32d24a547) from Async(default) in 0.93ms
ChatChannel transmitting {"id"=>246, "created_at"=>"2020-02-12T17:48:01.494Z", "content"=>"wow", "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 12:54:07 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 17:54:07.972404"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 13:14:45 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"t", "password"=>"[FILTERED]", "authentication"=>{"email"=>"t", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-12 13:14:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 13:14:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 13:14:47 -0500
Started GET "/users" for ::1 at 2020-02-12 13:14:47 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 2615)


Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.4ms | Allocations: 2187)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>12})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 18:14:47.054377"], ["id", 12]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 13:55:22 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 18:55:22.972999"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 13:56:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 258ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2154)


Started POST "/auth/login" for ::1 at 2020-02-12 13:56:15 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 756)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 13:59:05 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 18:59:05.476587"], ["id", 12]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>12, :name=>"t"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 13:59:11 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 756)


Started POST "/auth/login" for ::1 at 2020-02-12 13:59:37 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 756)


Started POST "/auth/login" for ::1 at 2020-02-12 14:00:08 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"ee", "password"=>"[FILTERED]", "authentication"=>{"email"=>"ee", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ee"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 756)


Started POST "/auth/login" for ::1 at 2020-02-12 14:01:27 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 759)


Started POST "/auth/login" for ::1 at 2020-02-12 14:19:30 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-12 14:19:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 14:19:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 14:19:31 -0500
Started GET "/users" for ::1 at 2020-02-12 14:19:31 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Processing by UsersController#index as HTML
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3014)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.9ms | Allocations: 2330)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 19:19:31.901661"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>9})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 19:19:34.831298"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 14:19:37 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 775)


Started POST "/auth/login" for ::1 at 2020-02-12 14:19:43 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 249ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 795)


Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 14:20:07 -0500
Started POST "/auth/login" for ::1 at 2020-02-12 14:20:11 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 756)


Started POST "/auth/login" for ::1 at 2020-02-12 14:28:01 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 779)


Started POST "/auth/login" for ::1 at 2020-02-12 14:33:21 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 251ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 799)


Started POST "/auth/login" for ::1 at 2020-02-12 14:34:40 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 758)


Started POST "/auth/login" for ::1 at 2020-02-12 14:35:31 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 997ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 14:35:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 14:35:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 14:35:32 -0500
Started GET "/users" for ::1 at 2020-02-12 14:35:32 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>9})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 5031)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 11ms (Views: 3.3ms | ActiveRecord: 0.4ms | Allocations: 6551)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 19:35:32.879729"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>9})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 19:35:34.176028"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 14:43:29 -0500
Started POST "/auth/login" for ::1 at 2020-02-12 14:43:34 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1009ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3309)


Started GET "/cable" for ::1 at 2020-02-12 14:43:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 14:43:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 14:43:35 -0500
Started GET "/users" for ::1 at 2020-02-12 14:43:35 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 4298)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 0.3ms | Allocations: 6004)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 19:43:35.705131"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"her", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "her"], ["created_at", "2020-02-12 19:43:38.021026"], ["updated_at", "2020-02-12 19:43:38.021026"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 4588b4bb-6fbc-48e9-a02e-033506caaf19) to Async(default) with arguments: #<GlobalID:0x00007f7fe1e5de28 @uri=#<URI::GID gid://chat-app/ChatMessage/247>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 247], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4588b4bb-6fbc-48e9-a02e-033506caaf19] Performing ChatMessageCreationEventBroadcastJob (Job ID: 4588b4bb-6fbc-48e9-a02e-033506caaf19) from Async(default) enqueued at 2020-02-12T19:43:38Z with arguments: #<GlobalID:0x00007f7fe09e6148 @uri=#<URI::GID gid://chat-app/ChatMessage/247>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4588b4bb-6fbc-48e9-a02e-033506caaf19]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4588b4bb-6fbc-48e9-a02e-033506caaf19]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4588b4bb-6fbc-48e9-a02e-033506caaf19] [ActionCable] Broadcasting to chat_channel: {:id=>247, :created_at=>Wed, 12 Feb 2020 19:43:38 UTC +00:00, :content=>"her", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [4588b4bb-6fbc-48e9-a02e-033506caaf19] Performed ChatMessageCreationEventBroadcastJob (Job ID: 4588b4bb-6fbc-48e9-a02e-033506caaf19) from Async(default) in 0.93ms
ChatChannel transmitting {"id"=>247, "created_at"=>"2020-02-12T19:43:38.021Z", "content"=>"her", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>9})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 19:43:39.314513"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 14:43:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"cc", "password"=>"[FILTERED]", "authentication"=>{"email"=>"cc", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "cc"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 775)


Started POST "/auth/login" for ::1 at 2020-02-12 14:43:46 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1000ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2404)


Started GET "/cable" for ::1 at 2020-02-12 14:43:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 14:43:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 14:43:47 -0500
Started GET "/users" for ::1 at 2020-02-12 14:43:47 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>9})
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 4124)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.2ms | Allocations: 4656)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 19:43:47.374914"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>9})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 19:43:48.657536"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 14:44:23 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1000ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 14:44:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 14:44:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
Started GET "/chat_messages" for ::1 at 2020-02-12 14:44:24 -0500
ChatChannel is streaming from chat_channel
Started GET "/users" for ::1 at 2020-02-12 14:44:24 -0500
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by ChatMessagesController#index as HTML
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 15ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 3387)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6361)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 19:44:24.985752"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 15:07:22 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 15:07:22 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 15:07:22 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (3.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 20:07:22.261316"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 15:08:38 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1005ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2400)


Started GET "/cable" for ::1 at 2020-02-12 15:08:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 15:08:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 15:08:39 -0500
Started GET "/users" for ::1 at 2020-02-12 15:08:39 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 17ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 4124)


ChatChannel is streaming from chat_channel
Completed 200 OK in 16ms (Views: 4.5ms | ActiveRecord: 0.4ms | Allocations: 4267)


ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 20:08:39.707260"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 20:17:28.878383"], ["updated_at", "2020-02-12 20:17:28.878383"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae) to Async(default) with arguments: #<GlobalID:0x00007f7fe33b3ea8 @uri=#<URI::GID gid://chat-app/ChatMessage/248>>
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 248], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae] Performing ChatMessageCreationEventBroadcastJob (Job ID: 1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae) from Async(default) enqueued at 2020-02-12T20:17:28Z with arguments: #<GlobalID:0x00007f7fe342aa80 @uri=#<URI::GID gid://chat-app/ChatMessage/248>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae] [ActionCable] Broadcasting to chat_channel: {:id=>248, :created_at=>Wed, 12 Feb 2020 20:17:28 UTC +00:00, :content=>"hey", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae] Performed ChatMessageCreationEventBroadcastJob (Job ID: 1ad6cf93-2dd1-4ae8-9e6e-3b1564cc22ae) from Async(default) in 1.28ms
ChatChannel transmitting {"id"=>248, "created_at"=>"2020-02-12T20:17:28.878Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 15:29:45 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1067ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2411)


Started GET "/cable" for ::1 at 2020-02-12 15:29:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 15:29:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 15:29:46 -0500
Started GET "/users" for ::1 at 2020-02-12 15:29:46 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 4310)


ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 3394)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 20:29:46.328493"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"h", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "h"], ["created_at", "2020-02-12 20:31:35.570260"], ["updated_at", "2020-02-12 20:31:35.570260"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 9bee7ad7-d7d8-4d08-8304-fd85bd829786) to Async(default) with arguments: #<GlobalID:0x00007f7fe0a92d80 @uri=#<URI::GID gid://chat-app/ChatMessage/249>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 249], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bee7ad7-d7d8-4d08-8304-fd85bd829786] Performing ChatMessageCreationEventBroadcastJob (Job ID: 9bee7ad7-d7d8-4d08-8304-fd85bd829786) from Async(default) enqueued at 2020-02-12T20:31:35Z with arguments: #<GlobalID:0x00007f7fe0aa0ef8 @uri=#<URI::GID gid://chat-app/ChatMessage/249>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bee7ad7-d7d8-4d08-8304-fd85bd829786]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bee7ad7-d7d8-4d08-8304-fd85bd829786]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bee7ad7-d7d8-4d08-8304-fd85bd829786] [ActionCable] Broadcasting to chat_channel: {:id=>249, :created_at=>Wed, 12 Feb 2020 20:31:35 UTC +00:00, :content=>"h", :name=>"q"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [9bee7ad7-d7d8-4d08-8304-fd85bd829786] Performed ChatMessageCreationEventBroadcastJob (Job ID: 9bee7ad7-d7d8-4d08-8304-fd85bd829786) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>249, "created_at"=>"2020-02-12T20:31:35.570Z", "content"=>"h", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>249, "created_at"=>"2020-02-12T20:31:35.570Z", "content"=>"h", "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"bbb", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "bbb"], ["created_at", "2020-02-12 20:31:37.697574"], ["updated_at", "2020-02-12 20:31:37.697574"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d95680a0-972e-48e3-9161-8ec56e03e150) to Async(default) with arguments: #<GlobalID:0x00007f7fe1f7d628 @uri=#<URI::GID gid://chat-app/ChatMessage/250>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 250], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d95680a0-972e-48e3-9161-8ec56e03e150] Performing ChatMessageCreationEventBroadcastJob (Job ID: d95680a0-972e-48e3-9161-8ec56e03e150) from Async(default) enqueued at 2020-02-12T20:31:37Z with arguments: #<GlobalID:0x00007f7fe1f8f288 @uri=#<URI::GID gid://chat-app/ChatMessage/250>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d95680a0-972e-48e3-9161-8ec56e03e150]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d95680a0-972e-48e3-9161-8ec56e03e150]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d95680a0-972e-48e3-9161-8ec56e03e150] [ActionCable] Broadcasting to chat_channel: {:id=>250, :created_at=>Wed, 12 Feb 2020 20:31:37 UTC +00:00, :content=>"bbb", :name=>"q"}
ChatChannel transmitting {"id"=>250, "created_at"=>"2020-02-12T20:31:37.697Z", "content"=>"bbb", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>250, "created_at"=>"2020-02-12T20:31:37.697Z", "content"=>"bbb", "name"=>"q"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d95680a0-972e-48e3-9161-8ec56e03e150] Performed ChatMessageCreationEventBroadcastJob (Job ID: d95680a0-972e-48e3-9161-8ec56e03e150) from Async(default) in 1.42ms
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 15:32:36 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 20:32:36.390566"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 15:59:43 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 20:59:43.101252"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 15:59:48 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3307)


Started GET "/cable" for ::1 at 2020-02-12 15:59:49 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 15:59:49 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-12 15:59:49 -0500
Started GET "/chat_messages" for ::1 at 2020-02-12 15:59:49 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
ChatChannel#appear({"userId"=>9})
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.4ms | Allocations: 4741)


  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 5771)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 20:59:49.471113"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hi Paul, any plans for tonight?", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hi Paul, any plans for tonight?"], ["created_at", "2020-02-12 21:13:13.862086"], ["updated_at", "2020-02-12 21:13:13.862086"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 587fc17a-1bea-4b48-973c-712366c2cd86) to Async(default) with arguments: #<GlobalID:0x00007f7fe3724c18 @uri=#<URI::GID gid://chat-app/ChatMessage/251>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 251], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [587fc17a-1bea-4b48-973c-712366c2cd86] Performing ChatMessageCreationEventBroadcastJob (Job ID: 587fc17a-1bea-4b48-973c-712366c2cd86) from Async(default) enqueued at 2020-02-12T21:13:13Z with arguments: #<GlobalID:0x00007f7fe3734438 @uri=#<URI::GID gid://chat-app/ChatMessage/251>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [587fc17a-1bea-4b48-973c-712366c2cd86]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [587fc17a-1bea-4b48-973c-712366c2cd86]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [587fc17a-1bea-4b48-973c-712366c2cd86] [ActionCable] Broadcasting to chat_channel: {:id=>251, :created_at=>Wed, 12 Feb 2020 21:13:13 UTC +00:00, :content=>"Hi Paul, any plans for tonight?", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [587fc17a-1bea-4b48-973c-712366c2cd86] Performed ChatMessageCreationEventBroadcastJob (Job ID: 587fc17a-1bea-4b48-973c-712366c2cd86) from Async(default) in 0.98ms
ChatChannel transmitting {"id"=>251, "created_at"=>"2020-02-12T21:13:13.862Z", "content"=>"Hi Paul, any plans for tonight?", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey Jen, checking my e-mail before Kevin gets back from class. We don't have any plans yet.", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey Jen, checking my e-mail before Kevin gets back from class. We don't have any plans yet."], ["created_at", "2020-02-12 21:13:29.074321"], ["updated_at", "2020-02-12 21:13:29.074321"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3a61a83d-ed3f-443a-838f-607ebfb686bc) to Async(default) with arguments: #<GlobalID:0x00007f7fe03866b8 @uri=#<URI::GID gid://chat-app/ChatMessage/252>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 252], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a61a83d-ed3f-443a-838f-607ebfb686bc] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3a61a83d-ed3f-443a-838f-607ebfb686bc) from Async(default) enqueued at 2020-02-12T21:13:29Z with arguments: #<GlobalID:0x00007f7fe6842138 @uri=#<URI::GID gid://chat-app/ChatMessage/252>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a61a83d-ed3f-443a-838f-607ebfb686bc]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a61a83d-ed3f-443a-838f-607ebfb686bc]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a61a83d-ed3f-443a-838f-607ebfb686bc] [ActionCable] Broadcasting to chat_channel: {:id=>252, :created_at=>Wed, 12 Feb 2020 21:13:29 UTC +00:00, :content=>"Hey Jen, checking my e-mail before Kevin gets back from class. We don't have any plans yet.", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a61a83d-ed3f-443a-838f-607ebfb686bc] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3a61a83d-ed3f-443a-838f-607ebfb686bc) from Async(default) in 1.22ms
ChatChannel transmitting {"id"=>252, "created_at"=>"2020-02-12T21:13:29.074Z", "content"=>"Hey Jen, checking my e-mail before Kevin gets back from class. We don't have any plans yet.", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 16:23:18 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 21:23:18.306883"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 16:23:31 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 995ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-12 16:23:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 16:23:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 16:23:32 -0500
Started GET "/users" for ::1 at 2020-02-12 16:23:32 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 5087)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 4174)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 21:23:32.832058"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 16:26:37 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 21:26:37.585363"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 16:26:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 999ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-12 16:26:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 16:26:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 16:26:43 -0500
Started GET "/users" for ::1 at 2020-02-12 16:26:43 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 9ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 3583)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 0.3ms | Allocations: 4569)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 21:26:43.836367"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 21:28:39.970348"], ["updated_at", "2020-02-12 21:28:39.970348"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 662eef80-3ddc-46ef-90f5-9f7b0813a3d7) to Async(default) with arguments: #<GlobalID:0x00007f7fe4831010 @uri=#<URI::GID gid://chat-app/ChatMessage/253>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 253], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [662eef80-3ddc-46ef-90f5-9f7b0813a3d7] Performing ChatMessageCreationEventBroadcastJob (Job ID: 662eef80-3ddc-46ef-90f5-9f7b0813a3d7) from Async(default) enqueued at 2020-02-12T21:28:39Z with arguments: #<GlobalID:0x00007f7fe1ebfe98 @uri=#<URI::GID gid://chat-app/ChatMessage/253>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [662eef80-3ddc-46ef-90f5-9f7b0813a3d7]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [662eef80-3ddc-46ef-90f5-9f7b0813a3d7]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [662eef80-3ddc-46ef-90f5-9f7b0813a3d7] [ActionCable] Broadcasting to chat_channel: {:id=>253, :created_at=>Wed, 12 Feb 2020 21:28:39 UTC +00:00, :content=>"hey", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [662eef80-3ddc-46ef-90f5-9f7b0813a3d7] Performed ChatMessageCreationEventBroadcastJob (Job ID: 662eef80-3ddc-46ef-90f5-9f7b0813a3d7) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>253, "created_at"=>"2020-02-12T21:28:39.970Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"test", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "test"], ["created_at", "2020-02-12 21:42:39.665607"], ["updated_at", "2020-02-12 21:42:39.665607"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 55187878-8b7e-4cca-a749-6eebeb913736) to Async(default) with arguments: #<GlobalID:0x00007f7fe374fee0 @uri=#<URI::GID gid://chat-app/ChatMessage/254>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 254], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [55187878-8b7e-4cca-a749-6eebeb913736] Performing ChatMessageCreationEventBroadcastJob (Job ID: 55187878-8b7e-4cca-a749-6eebeb913736) from Async(default) enqueued at 2020-02-12T21:42:39Z with arguments: #<GlobalID:0x00007f7fe3767130 @uri=#<URI::GID gid://chat-app/ChatMessage/254>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [55187878-8b7e-4cca-a749-6eebeb913736]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [55187878-8b7e-4cca-a749-6eebeb913736]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [55187878-8b7e-4cca-a749-6eebeb913736] [ActionCable] Broadcasting to chat_channel: {:id=>254, :created_at=>Wed, 12 Feb 2020 21:42:39 UTC +00:00, :content=>"test", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [55187878-8b7e-4cca-a749-6eebeb913736] Performed ChatMessageCreationEventBroadcastJob (Job ID: 55187878-8b7e-4cca-a749-6eebeb913736) from Async(default) in 2.39ms
ChatChannel transmitting {"id"=>254, "created_at"=>"2020-02-12T21:42:39.665Z", "content"=>"test", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 21:48:34.719440"], ["updated_at", "2020-02-12 21:48:34.719440"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: cbbc4470-b5c2-4b22-bc67-71545dfbe3cd) to Async(default) with arguments: #<GlobalID:0x00007f7fe35178f8 @uri=#<URI::GID gid://chat-app/ChatMessage/255>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 255], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cbbc4470-b5c2-4b22-bc67-71545dfbe3cd] Performing ChatMessageCreationEventBroadcastJob (Job ID: cbbc4470-b5c2-4b22-bc67-71545dfbe3cd) from Async(default) enqueued at 2020-02-12T21:48:34Z with arguments: #<GlobalID:0x00007f7fe3565e68 @uri=#<URI::GID gid://chat-app/ChatMessage/255>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cbbc4470-b5c2-4b22-bc67-71545dfbe3cd]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cbbc4470-b5c2-4b22-bc67-71545dfbe3cd]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cbbc4470-b5c2-4b22-bc67-71545dfbe3cd] [ActionCable] Broadcasting to chat_channel: {:id=>255, :created_at=>Wed, 12 Feb 2020 21:48:34 UTC +00:00, :content=>"hey", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [cbbc4470-b5c2-4b22-bc67-71545dfbe3cd] Performed ChatMessageCreationEventBroadcastJob (Job ID: cbbc4470-b5c2-4b22-bc67-71545dfbe3cd) from Async(default) in 1.28ms
ChatChannel transmitting {"id"=>255, "created_at"=>"2020-02-12T21:48:34.719Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 16:50:27 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 21:50:27.080544"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 16:50:31 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1029ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2541)


Started GET "/cable" for ::1 at 2020-02-12 16:50:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 16:50:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 16:50:32 -0500
Started GET "/users" for ::1 at 2020-02-12 16:50:32 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 4660)


  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.5ms | Allocations: 5521)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 21:50:32.172754"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 16:52:32 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 21:52:32.442033"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 16:52:36 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1021ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-12 16:52:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 16:52:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 16:52:37 -0500
Started GET "/users" for ::1 at 2020-02-12 16:52:37 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>9})
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 1.2ms | Allocations: 4327)


  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 4.2ms | ActiveRecord: 0.2ms | Allocations: 4720)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 21:52:37.301029"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-12 21:52:40.507511"], ["updated_at", "2020-02-12 21:52:40.507511"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 5fbec734-3b91-4b8a-ab06-5dce19e7f4a1) to Async(default) with arguments: #<GlobalID:0x00007f7fe031eb58 @uri=#<URI::GID gid://chat-app/ChatMessage/256>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 256], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5fbec734-3b91-4b8a-ab06-5dce19e7f4a1] Performing ChatMessageCreationEventBroadcastJob (Job ID: 5fbec734-3b91-4b8a-ab06-5dce19e7f4a1) from Async(default) enqueued at 2020-02-12T21:52:40Z with arguments: #<GlobalID:0x00007f7fe0aa81a8 @uri=#<URI::GID gid://chat-app/ChatMessage/256>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5fbec734-3b91-4b8a-ab06-5dce19e7f4a1]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5fbec734-3b91-4b8a-ab06-5dce19e7f4a1]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5fbec734-3b91-4b8a-ab06-5dce19e7f4a1] [ActionCable] Broadcasting to chat_channel: {:id=>256, :created_at=>Wed, 12 Feb 2020 21:52:40 UTC +00:00, :content=>"hey", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [5fbec734-3b91-4b8a-ab06-5dce19e7f4a1] Performed ChatMessageCreationEventBroadcastJob (Job ID: 5fbec734-3b91-4b8a-ab06-5dce19e7f4a1) from Async(default) in 1.01ms
ChatChannel transmitting {"id"=>256, "created_at"=>"2020-02-12T21:52:40.507Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"Hey how's it going? I'm having issues with my kitchen remodeling contractor... He is always stealing my food!", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "Hey how's it going? I'm having issues with my kitchen remodeling contractor... He is always stealing my food!"], ["created_at", "2020-02-12 21:53:01.474661"], ["updated_at", "2020-02-12 21:53:01.474661"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 65d3eab0-8010-4f16-bedb-ebf64067e8b5) to Async(default) with arguments: #<GlobalID:0x00007f7fe3756d30 @uri=#<URI::GID gid://chat-app/ChatMessage/257>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 257], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [65d3eab0-8010-4f16-bedb-ebf64067e8b5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 65d3eab0-8010-4f16-bedb-ebf64067e8b5) from Async(default) enqueued at 2020-02-12T21:53:01Z with arguments: #<GlobalID:0x00007f7fe0afb5b0 @uri=#<URI::GID gid://chat-app/ChatMessage/257>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [65d3eab0-8010-4f16-bedb-ebf64067e8b5]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [65d3eab0-8010-4f16-bedb-ebf64067e8b5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [65d3eab0-8010-4f16-bedb-ebf64067e8b5] [ActionCable] Broadcasting to chat_channel: {:id=>257, :created_at=>Wed, 12 Feb 2020 21:53:01 UTC +00:00, :content=>"Hey how's it going? I'm having issues with my kitchen remodeling contractor... He is always stealing my food!", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [65d3eab0-8010-4f16-bedb-ebf64067e8b5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 65d3eab0-8010-4f16-bedb-ebf64067e8b5) from Async(default) in 0.97ms
ChatChannel transmitting {"id"=>257, "created_at"=>"2020-02-12T21:53:01.474Z", "content"=>"Hey how's it going? I'm having issues with my kitchen remodeling contractor... He is always stealing my food!", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 16:53:34 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 21:53:34.780826"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 16:53:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 16:53:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 21:53:43.846287"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"sadasdasd", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "sadasdasd"], ["created_at", "2020-02-12 22:00:49.873543"], ["updated_at", "2020-02-12 22:00:49.873543"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 072fbcb5-f855-4fa9-8824-a2fbba402ae1) to Async(default) with arguments: #<GlobalID:0x00007f7fe3360118 @uri=#<URI::GID gid://chat-app/ChatMessage/258>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 258], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [072fbcb5-f855-4fa9-8824-a2fbba402ae1] Performing ChatMessageCreationEventBroadcastJob (Job ID: 072fbcb5-f855-4fa9-8824-a2fbba402ae1) from Async(default) enqueued at 2020-02-12T22:00:49Z with arguments: #<GlobalID:0x00007f7fe33b3700 @uri=#<URI::GID gid://chat-app/ChatMessage/258>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [072fbcb5-f855-4fa9-8824-a2fbba402ae1]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [072fbcb5-f855-4fa9-8824-a2fbba402ae1]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [072fbcb5-f855-4fa9-8824-a2fbba402ae1] [ActionCable] Broadcasting to chat_channel: {:id=>258, :created_at=>Wed, 12 Feb 2020 22:00:49 UTC +00:00, :content=>"sadasdasd", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [072fbcb5-f855-4fa9-8824-a2fbba402ae1] Performed ChatMessageCreationEventBroadcastJob (Job ID: 072fbcb5-f855-4fa9-8824-a2fbba402ae1) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>258, "created_at"=>"2020-02-12T22:00:49.873Z", "content"=>"sadasdasd", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:10:23 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:10:23.772484"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:10:26 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1032ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2408)


Started GET "/cable" for ::1 at 2020-02-12 17:10:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:10:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:10:27 -0500
Started GET "/users" for ::1 at 2020-02-12 17:10:27 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 4507)


  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.4ms | Allocations: 4418)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:10:27.267461"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:11:03 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:11:03.888504"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:11:06 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1027ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-12 17:11:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:11:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:11:07 -0500
Started GET "/users" for ::1 at 2020-02-12 17:11:07 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 2094)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 20ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 5703)


ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:11:07.697941"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:24:17 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:24:17.340935"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 17:24:23 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:24:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:24:23.444935"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:28:14 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (5.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:28:14.044828"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (72.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 17:28:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:28:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:28:14.596869"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:29:47 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3346)


Started GET "/cable" for ::1 at 2020-02-12 17:29:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:29:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:29:48 -0500
Started GET "/users" for ::1 at 2020-02-12 17:29:48 -0500
Processing by ChatMessagesController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 2130)


Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 5943)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:29:48.180949"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:29:56 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"t", "password"=>"[FILTERED]", "authentication"=>{"email"=>"t", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1020ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-12 17:29:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:29:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:29:57 -0500
Started GET "/users" for ::1 at 2020-02-12 17:29:57 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 3200)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 4716)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>12})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:29:57.483394"], ["id", 12]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>9})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:31:23.476645"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:31:28 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1020ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-12 17:31:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:31:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:31:29 -0500
Processing by ChatMessagesController#index as HTML
Started GET "/users" for ::1 at 2020-02-12 17:31:29 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 4337)


  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 3672)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:31:29.304072"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:31:31 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:31:31 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:31:31.193360"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:31:34 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1025ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2527)


Started GET "/cable" for ::1 at 2020-02-12 17:31:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:31:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:31:35 -0500
Started GET "/users" for ::1 at 2020-02-12 17:31:35 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>9})
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 1.0ms | Allocations: 4512)


Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 4608)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:31:35.536981"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:35:35 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:35:35.289806"], ["id", 12]]
  â†³ app/models/user.rb:20:in `disappear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:35:35 -0500
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>12, :name=>"t"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
  â†³ app/models/user.rb:20:in `disappear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:35:35 -0500
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:35:35.303884"], ["id", 11]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (5246.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
Started POST "/auth/login" for ::1 at 2020-02-12 17:35:40 -0500
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:35:40.554168"], ["id", 9]]
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1034ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 6545)


Started GET "/cable" for ::1 at 2020-02-12 17:35:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:35:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:35:41 -0500
Started GET "/users" for ::1 at 2020-02-12 17:35:41 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by ChatMessagesController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3672)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 6043)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:35:57 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:35:57.951168"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:36:01 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2410)


Started GET "/cable" for ::1 at 2020-02-12 17:36:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:36:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:36:02 -0500
Started GET "/users" for ::1 at 2020-02-12 17:36:02 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>9})
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.2ms | Allocations: 4420)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 4753)


ChatChannel is streaming from chat_channel
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:36:02.791823"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:40:05 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1023ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-12 17:40:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:40:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:40:06 -0500
Started GET "/users" for ::1 at 2020-02-12 17:40:06 -0500
Processing by UsersController#index as HTML
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.3ms | Allocations: 4109)


[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 8234)


ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:45:51 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:45:51 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:45:51.712831"], ["id", 9]]
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:45:56.961760"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
  [1m[35m (5243.6ms)[0m  [1m[36mcommit transaction[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started POST "/auth/login" for ::1 at 2020-02-12 17:46:36 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1019ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2403)


Started GET "/cable" for ::1 at 2020-02-12 17:46:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:46:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:46:37 -0500
Started GET "/users" for ::1 at 2020-02-12 17:46:37 -0500
Processing by UsersController#index as HTML
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 0.5ms | Allocations: 5984)


Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 4657)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:47:11 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:47:11.883115"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:47:14 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1020ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3295)


Started GET "/cable" for ::1 at 2020-02-12 17:47:15 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:47:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:47:15 -0500
Started GET "/users" for ::1 at 2020-02-12 17:47:15 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#appear({"userId"=>9})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 3990)


  â†³ app/channels/chat_channel.rb:24:in `appear'
ChatChannel is streaming from chat_channel
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 6573)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:47:15.930269"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:47:40 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:47:40.120173"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:47:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 254ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 815)


Started POST "/auth/login" for ::1 at 2020-02-12 17:47:43 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1017ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-12 17:47:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:47:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:47:44 -0500
Started GET "/users" for ::1 at 2020-02-12 17:47:44 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 4207)


  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.2ms | Allocations: 5393)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:47:44.495224"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:48:01 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:48:01.205407"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:48:11 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1015ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3273)


Started GET "/cable" for ::1 at 2020-02-12 17:48:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:48:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:48:12 -0500
Started GET "/users" for ::1 at 2020-02-12 17:48:12 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 3574)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.3ms | Allocations: 4550)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:48:12.824742"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:49:09 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:49:09.742084"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:49:16 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1018ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-12 17:49:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:49:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:49:17 -0500
Started GET "/users" for ::1 at 2020-02-12 17:49:17 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.2ms | Allocations: 3509)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 5766)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:49:17.909301"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:50:39 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:50:39.605917"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-12 17:50:58 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1025ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2386)


Started GET "/cable" for ::1 at 2020-02-12 17:50:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:50:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-12 17:50:59 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Started GET "/users" for ::1 at 2020-02-12 17:50:59 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.5ms | Allocations: 3246)


Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 3052)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:50:59.110299"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 17:53:37 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-12 22:53:37.608141"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 17:53:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 17:53:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-12 22:53:46.683083"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-12 21:30:18 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 02:30:18.148396"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-12 21:30:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-12 21:30:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 02:30:19.031079"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 07:30:04 -0500
  [1m[35m (3.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (6.1ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 12:30:04.571312"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (3.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-13 07:30:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 07:30:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 12:30:07.143133"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (5.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:34:27 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:34:27.784383"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-13 09:34:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:34:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:34:36.619802"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:38:57 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:38:57.501484"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:39:00 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1039ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 3299)


Started GET "/cable" for ::1 at 2020-02-13 09:39:01 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:39:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:39:01 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>9})
Started GET "/users" for ::1 at 2020-02-13 09:39:01 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 3435)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:39:01.555277"], ["id", 9]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 3443)


ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:39:41 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:39:41.835172"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:42:35 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1056ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-13 09:42:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:42:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:42:36 -0500
Started GET "/users" for ::1 at 2020-02-13 09:42:36 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by ChatMessagesController#index as HTML
ChatChannel#appear({"userId"=>9})
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.3ms | Allocations: 5028)


  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 8350)


  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:42:36.782094"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:42:46 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1044ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-13 09:42:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:42:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:42:47 -0500
Started GET "/users" for ::1 at 2020-02-13 09:42:47 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.4ms | Allocations: 2943)


ChatChannel#appear({"userId"=>11})
ChatChannel is streaming from chat_channel
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 5665)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:42:56 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:42:56.866559"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:43:00 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1038ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-13 09:43:01 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:43:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:43:01 -0500
Started GET "/users" for ::1 at 2020-02-13 09:43:01 -0500
ChatChannel is transmitting the subscription confirmation
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:43:01.362615"], ["id", 11]]
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 5474)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 8733)


[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:46:28 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:46:28.574023"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:46:28 -0500
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:46:28.588516"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:50:43 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1045ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3290)


Started GET "/cable" for ::1 at 2020-02-13 09:50:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:50:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:50:44 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Started GET "/users" for ::1 at 2020-02-13 09:50:44 -0500
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>9})
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 3961)


  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 4426)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:50:44.629494"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:50:50 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1042ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-13 09:50:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:50:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:50:51 -0500
Started GET "/users" for ::1 at 2020-02-13 09:50:51 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 4678)


  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:50:52.000687"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 10ms (Views: 4.0ms | ActiveRecord: 0.2ms | Allocations: 6676)


  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:58:50 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:58:50 -0500
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:58:50.666399"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:58:50.707998"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (5257.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:385:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:897:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:919:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `block in _update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_update_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:336:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:124:in `_update_record'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:906:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `block in create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:827:in `_run_save_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/callbacks.rb:328:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/timestamp.rb:129:in `create_or_update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:470:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/validations.rb:47:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `block in save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:279:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:315:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/suppressor.rb:44:in `save'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:621:in `block in update'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `block in transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
  â†³ app/models/user.rb:20:in `disappear'
There was an exception - ActiveRecord::StatementInvalid(SQLite3::BusyException: database is locked)
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `step'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:170:in `next_hash'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:105:in `next'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/resultset.rb:133:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `to_a'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:202:in `block in execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:151:in `prepare'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:193:in `execute'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/sqlite3-1.4.2/lib/sqlite3/database.rb:650:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `block in commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:718:in `block (2 levels) in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:717:in `block in log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract_adapter.rb:708:in `log'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/sqlite3/database_statements.rb:77:in `commit_db_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `commit'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:264:in `block in commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:255:in `commit_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:293:in `block in within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/2.6.0/monitor.rb:235:in `mon_synchronize'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:281:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:212:in `transaction'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activerecord-6.0.2.1/lib/active_record/persistence.rb:619:in `update'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/models/user.rb:20:in `disappear'
/Users/nolan/cheetah/project4/chatty_p4/chat-app/app/channels/chat_channel.rb:39:in `unsubscribed'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:192:in `block in unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:84:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/channel/base.rb:191:in `unsubscribe_from_channel'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:50:in `remove_subscription'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `block in unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `each'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/subscriptions.rb:63:in `unsubscribe_from_all'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/base.rb:186:in `handle_close'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:59:in `block in invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:41:in `block in work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `block in with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `block in tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/connection/tagged_logger_proxy.rb:24:in `tag'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker/active_record_connection_management.rb:16:in `with_database_connections'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:62:in `block (4 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/execution_wrapper.rb:88:in `wrap'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/engine.rb:57:in `block (3 levels) in <class:Engine>'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `instance_exec'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/activesupport-6.0.2.1/lib/active_support/callbacks.rb:139:in `run_callbacks'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:40:in `work'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:58:in `invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/actioncable-6.0.2.1/lib/action_cable/server/worker.rb:53:in `block in async_invoke'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/Users/nolan/.rbenv/versions/2.6.4/lib/ruby/gems/2.6.0/gems/concurrent-ruby-1.1.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started POST "/auth/login" for ::1 at 2020-02-13 09:59:13 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1052ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3279)


Started GET "/cable" for ::1 at 2020-02-13 09:59:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:59:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:59:14 -0500
Started GET "/users" for ::1 at 2020-02-13 09:59:14 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.4ms | Allocations: 3631)


Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 5422)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 09:59:29 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 14:59:29.772073"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 09:59:34 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1048ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2429)


Started GET "/cable" for ::1 at 2020-02-13 09:59:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 09:59:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 09:59:35 -0500
Started GET "/users" for ::1 at 2020-02-13 09:59:35 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 3258)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>9})
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 2607)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 14:59:35.195909"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:02:27 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:02:27.793428"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:05:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1044ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-13 10:05:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:05:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:05:10 -0500
Started GET "/users" for ::1 at 2020-02-13 10:05:10 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Processing by UsersController#index as HTML
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 17ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 4031)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 3050)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:05:10.749805"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:05:34 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:05:34.500349"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:05:37 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3287)


Started GET "/cable" for ::1 at 2020-02-13 10:05:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:05:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:05:39 -0500
Started GET "/users" for ::1 at 2020-02-13 10:05:39 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by ChatMessagesController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.4ms | Allocations: 4460)


ChatChannel is streaming from chat_channel
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 4412)


ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:05:39.057480"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-13 15:06:00.201445"], ["updated_at", "2020-02-13 15:06:00.201445"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b08b1679-974e-489d-9b31-1bf32fc173d8) to Async(default) with arguments: #<GlobalID:0x00007f7fe1f6eda8 @uri=#<URI::GID gid://chat-app/ChatMessage/259>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 259], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b08b1679-974e-489d-9b31-1bf32fc173d8] Performing ChatMessageCreationEventBroadcastJob (Job ID: b08b1679-974e-489d-9b31-1bf32fc173d8) from Async(default) enqueued at 2020-02-13T15:06:00Z with arguments: #<GlobalID:0x00007f7fe1f7f158 @uri=#<URI::GID gid://chat-app/ChatMessage/259>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b08b1679-974e-489d-9b31-1bf32fc173d8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b08b1679-974e-489d-9b31-1bf32fc173d8]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b08b1679-974e-489d-9b31-1bf32fc173d8] [ActionCable] Broadcasting to chat_channel: {:id=>259, :created_at=>Thu, 13 Feb 2020 15:06:00 UTC +00:00, :content=>"hi", :name=>"c"}
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b08b1679-974e-489d-9b31-1bf32fc173d8] Performed ChatMessageCreationEventBroadcastJob (Job ID: b08b1679-974e-489d-9b31-1bf32fc173d8) from Async(default) in 1.04ms
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>259, "created_at"=>"2020-02-13T15:06:00.201Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:06:52 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:06:52.633357"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:06:57 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1049ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2386)


Started GET "/cable" for ::1 at 2020-02-13 10:06:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:06:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:06:58 -0500
Started GET "/users" for ::1 at 2020-02-13 10:06:58 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>9})
Completed 200 OK in 12ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 5258)


Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.4ms | Allocations: 3957)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:06:58.133155"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-13 15:07:03.559126"], ["updated_at", "2020-02-13 15:07:03.559126"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 16899af6-5c5e-472e-8946-3d826ff3d305) to Async(default) with arguments: #<GlobalID:0x00007f7fe3624688 @uri=#<URI::GID gid://chat-app/ChatMessage/260>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 260], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [16899af6-5c5e-472e-8946-3d826ff3d305] Performing ChatMessageCreationEventBroadcastJob (Job ID: 16899af6-5c5e-472e-8946-3d826ff3d305) from Async(default) enqueued at 2020-02-13T15:07:03Z with arguments: #<GlobalID:0x00007f7fe4832ed8 @uri=#<URI::GID gid://chat-app/ChatMessage/260>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [16899af6-5c5e-472e-8946-3d826ff3d305]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [16899af6-5c5e-472e-8946-3d826ff3d305]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [16899af6-5c5e-472e-8946-3d826ff3d305] [ActionCable] Broadcasting to chat_channel: {:id=>260, :created_at=>Thu, 13 Feb 2020 15:07:03 UTC +00:00, :content=>"hey", :name=>"c"}
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [16899af6-5c5e-472e-8946-3d826ff3d305] Performed ChatMessageCreationEventBroadcastJob (Job ID: 16899af6-5c5e-472e-8946-3d826ff3d305) from Async(default) in 1.06ms
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>260, "created_at"=>"2020-02-13T15:07:03.559Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:07:07 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1047ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2399)


Started GET "/cable" for ::1 at 2020-02-13 10:07:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:07:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:07:08 -0500
Started GET "/users" for ::1 at 2020-02-13 10:07:08 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>11})
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 2699)


Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 5231)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", ""], ["created_at", "2020-02-13 15:07:24.157986"], ["updated_at", "2020-02-13 15:07:24.157986"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: c9399633-afad-4ffc-9a52-37d298954c43) to Async(default) with arguments: #<GlobalID:0x00007f7fe0ac9600 @uri=#<URI::GID gid://chat-app/ChatMessage/261>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 261], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c9399633-afad-4ffc-9a52-37d298954c43] Performing ChatMessageCreationEventBroadcastJob (Job ID: c9399633-afad-4ffc-9a52-37d298954c43) from Async(default) enqueued at 2020-02-13T15:07:24Z with arguments: #<GlobalID:0x00007f7fe3705d18 @uri=#<URI::GID gid://chat-app/ChatMessage/261>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c9399633-afad-4ffc-9a52-37d298954c43]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c9399633-afad-4ffc-9a52-37d298954c43]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c9399633-afad-4ffc-9a52-37d298954c43] [ActionCable] Broadcasting to chat_channel: {:id=>261, :created_at=>Thu, 13 Feb 2020 15:07:24 UTC +00:00, :content=>"", :name=>"q"}
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [c9399633-afad-4ffc-9a52-37d298954c43] Performed ChatMessageCreationEventBroadcastJob (Job ID: c9399633-afad-4ffc-9a52-37d298954c43) from Async(default) in 1.11ms
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>261, "created_at"=>"2020-02-13T15:07:24.157Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", ""], ["created_at", "2020-02-13 15:07:25.793252"], ["updated_at", "2020-02-13 15:07:25.793252"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 51b81ee0-cee7-4edd-9a94-276d59b1e978) to Async(default) with arguments: #<GlobalID:0x00007f7fe374c920 @uri=#<URI::GID gid://chat-app/ChatMessage/262>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 262], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51b81ee0-cee7-4edd-9a94-276d59b1e978] Performing ChatMessageCreationEventBroadcastJob (Job ID: 51b81ee0-cee7-4edd-9a94-276d59b1e978) from Async(default) enqueued at 2020-02-13T15:07:25Z with arguments: #<GlobalID:0x00007f7fe1fce398 @uri=#<URI::GID gid://chat-app/ChatMessage/262>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51b81ee0-cee7-4edd-9a94-276d59b1e978]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51b81ee0-cee7-4edd-9a94-276d59b1e978]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51b81ee0-cee7-4edd-9a94-276d59b1e978] [ActionCable] Broadcasting to chat_channel: {:id=>262, :created_at=>Thu, 13 Feb 2020 15:07:25 UTC +00:00, :content=>"", :name=>"q"}
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [51b81ee0-cee7-4edd-9a94-276d59b1e978] Performed ChatMessageCreationEventBroadcastJob (Job ID: 51b81ee0-cee7-4edd-9a94-276d59b1e978) from Async(default) in 1.08ms
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>262, "created_at"=>"2020-02-13T15:07:25.793Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", ""], ["created_at", "2020-02-13 15:07:26.353055"], ["updated_at", "2020-02-13 15:07:26.353055"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: b412a8fd-64cd-4017-abd8-96246e4dfea6) to Async(default) with arguments: #<GlobalID:0x00007f7fe0374670 @uri=#<URI::GID gid://chat-app/ChatMessage/263>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 263], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b412a8fd-64cd-4017-abd8-96246e4dfea6] Performing ChatMessageCreationEventBroadcastJob (Job ID: b412a8fd-64cd-4017-abd8-96246e4dfea6) from Async(default) enqueued at 2020-02-13T15:07:26Z with arguments: #<GlobalID:0x00007f7fe682b2f8 @uri=#<URI::GID gid://chat-app/ChatMessage/263>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b412a8fd-64cd-4017-abd8-96246e4dfea6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b412a8fd-64cd-4017-abd8-96246e4dfea6]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b412a8fd-64cd-4017-abd8-96246e4dfea6] [ActionCable] Broadcasting to chat_channel: {:id=>263, :created_at=>Thu, 13 Feb 2020 15:07:26 UTC +00:00, :content=>"", :name=>"q"}
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [b412a8fd-64cd-4017-abd8-96246e4dfea6] Performed ChatMessageCreationEventBroadcastJob (Job ID: b412a8fd-64cd-4017-abd8-96246e4dfea6) from Async(default) in 1.09ms
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>263, "created_at"=>"2020-02-13T15:07:26.353Z", "content"=>"", "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:09:53 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:09:53.611561"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:09:53 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:09:53.659548"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:09:59 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1043ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3287)


Started GET "/cable" for ::1 at 2020-02-13 10:10:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:10:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:10:00 -0500
Started GET "/users" for ::1 at 2020-02-13 10:10:00 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 3978)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.3ms | Allocations: 5386)


  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:10:00.483915"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:11:43 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:11:43.552291"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:18:27 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1049ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3310)


Started GET "/cable" for ::1 at 2020-02-13 10:18:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:18:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:18:28 -0500
Started GET "/users" for ::1 at 2020-02-13 10:18:28 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 2130)


Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is streaming from chat_channel
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.6ms | Allocations: 3002)


ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:18:28.746034"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:19:08 -0500
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1086ms (Views: 1.4ms | ActiveRecord: 1.3ms | Allocations: 9409)


Started GET "/cable" for ::1 at 2020-02-13 10:19:09 -0500
Started GET "/chat_messages" for ::1 at 2020-02-13 10:19:09 -0500
Started GET "/users" for ::1 at 2020-02-13 10:19:09 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 12ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 4400)


Processing by UsersController#index as HTML
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:19:09 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 3303)


ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-13 15:19:19.107198"], ["updated_at", "2020-02-13 15:19:19.107198"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3d532705-e04c-4746-bf55-c412b83b96fb) to Async(default) with arguments: #<GlobalID:0x00007fb0f5b0fd80 @uri=#<URI::GID gid://chat-app/ChatMessage/264>>
  [1m[36mChatMessage Load (0.3ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 264], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3d532705-e04c-4746-bf55-c412b83b96fb] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3d532705-e04c-4746-bf55-c412b83b96fb) from Async(default) enqueued at 2020-02-13T15:19:19Z with arguments: #<GlobalID:0x00007fb0f4f49e38 @uri=#<URI::GID gid://chat-app/ChatMessage/264>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3d532705-e04c-4746-bf55-c412b83b96fb]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3d532705-e04c-4746-bf55-c412b83b96fb]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3d532705-e04c-4746-bf55-c412b83b96fb] [ActionCable] Broadcasting to chat_channel: {:id=>264, :created_at=>Thu, 13 Feb 2020 15:19:19 UTC +00:00, :content=>"hi", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3d532705-e04c-4746-bf55-c412b83b96fb] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3d532705-e04c-4746-bf55-c412b83b96fb) from Async(default) in 9.86ms
ChatChannel transmitting {"id"=>264, "created_at"=>"2020-02-13T15:19:19.107Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-13 15:19:22.531706"], ["updated_at", "2020-02-13 15:19:22.531706"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 6a7b03a9-c34b-40ca-98b4-05fec54d9358) to Async(default) with arguments: #<GlobalID:0x00007fb0f4fa4ce8 @uri=#<URI::GID gid://chat-app/ChatMessage/265>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 265], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a7b03a9-c34b-40ca-98b4-05fec54d9358] Performing ChatMessageCreationEventBroadcastJob (Job ID: 6a7b03a9-c34b-40ca-98b4-05fec54d9358) from Async(default) enqueued at 2020-02-13T15:19:22Z with arguments: #<GlobalID:0x00007fb0f52a05a0 @uri=#<URI::GID gid://chat-app/ChatMessage/265>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a7b03a9-c34b-40ca-98b4-05fec54d9358]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a7b03a9-c34b-40ca-98b4-05fec54d9358]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a7b03a9-c34b-40ca-98b4-05fec54d9358] [ActionCable] Broadcasting to chat_channel: {:id=>265, :created_at=>Thu, 13 Feb 2020 15:19:22 UTC +00:00, :content=>"hi", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [6a7b03a9-c34b-40ca-98b4-05fec54d9358] Performed ChatMessageCreationEventBroadcastJob (Job ID: 6a7b03a9-c34b-40ca-98b4-05fec54d9358) from Async(default) in 1.09ms
ChatChannel transmitting {"id"=>265, "created_at"=>"2020-02-13T15:19:22.531Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hi", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hi"], ["created_at", "2020-02-13 15:19:23.752084"], ["updated_at", "2020-02-13 15:19:23.752084"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:43:in `create'
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:43:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: d2123e53-c2ee-41c4-9df1-cd8506a9e363) to Async(default) with arguments: #<GlobalID:0x00007fb0f4966020 @uri=#<URI::GID gid://chat-app/ChatMessage/266>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 266], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d2123e53-c2ee-41c4-9df1-cd8506a9e363] Performing ChatMessageCreationEventBroadcastJob (Job ID: d2123e53-c2ee-41c4-9df1-cd8506a9e363) from Async(default) enqueued at 2020-02-13T15:19:23Z with arguments: #<GlobalID:0x00007fb0f4135180 @uri=#<URI::GID gid://chat-app/ChatMessage/266>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d2123e53-c2ee-41c4-9df1-cd8506a9e363]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d2123e53-c2ee-41c4-9df1-cd8506a9e363]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d2123e53-c2ee-41c4-9df1-cd8506a9e363] [ActionCable] Broadcasting to chat_channel: {:id=>266, :created_at=>Thu, 13 Feb 2020 15:19:23 UTC +00:00, :content=>"hi", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [d2123e53-c2ee-41c4-9df1-cd8506a9e363] Performed ChatMessageCreationEventBroadcastJob (Job ID: d2123e53-c2ee-41c4-9df1-cd8506a9e363) from Async(default) in 0.94ms
ChatChannel transmitting {"id"=>266, "created_at"=>"2020-02-13T15:19:23.752Z", "content"=>"hi", "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:20:03 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2614)


Started GET "/cable" for ::1 at 2020-02-13 10:20:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:20:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:20:04 -0500
Started GET "/users" for ::1 at 2020-02-13 10:20:04 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is streaming from chat_channel
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 3014)


ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 2301)


  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:20:04.377404"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:20:55 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:20:55.543733"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:20:55 -0500
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
ChatChannel stopped streaming from chat_channel
  â†³ app/models/user.rb:20:in `disappear'
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:20:55.553854"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:21:42 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1047ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2397)


Started GET "/cable" for ::1 at 2020-02-13 10:21:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:21:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:21:43 -0500
Started GET "/users" for ::1 at 2020-02-13 10:21:43 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 2107)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 16ms (Views: 2.2ms | ActiveRecord: 0.5ms | Allocations: 5609)


ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:21:43.845322"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:22:10 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:22:10.133692"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:22:16 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1049ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2381)


Started GET "/cable" for ::1 at 2020-02-13 10:22:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:22:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:22:18 -0500
Started GET "/users" for ::1 at 2020-02-13 10:22:18 -0500
Processing by ChatMessagesController#index as HTML
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>9})
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:24:in `appear'
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.3ms | Allocations: 5462)


Completed 200 OK in 9ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 4214)


  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:22:18.059463"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:22:28 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1073ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-13 10:22:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:22:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:22:29 -0500
Started GET "/users" for ::1 at 2020-02-13 10:22:29 -0500
Processing by UsersController#index as HTML
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:22:29.497724"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 22ms (Views: 6.6ms | ActiveRecord: 0.3ms | Allocations: 6618)


  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 25ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 8253)


  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:23:11 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"t", "password"=>"[FILTERED]", "authentication"=>{"email"=>"t", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-13 10:23:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:23:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:23:12 -0500
Started GET "/users" for ::1 at 2020-02-13 10:23:12 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
Processing by UsersController#index as HTML
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3847)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 3821)


ChatChannel#appear({"userId"=>12})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:24:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:23:12.276921"], ["id", 12]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>11})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:23:24.816320"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:27:33 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:27:33 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:27:33.722892"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:31:10 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1057ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 10970)


Started GET "/cable" for ::1 at 2020-02-13 10:31:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:31:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users" for ::1 at 2020-02-13 10:31:11 -0500
Started GET "/chat_messages" for ::1 at 2020-02-13 10:31:11 -0500
Processing by UsersController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 13ms (Views: 2.6ms | ActiveRecord: 0.3ms | Allocations: 4680)


Completed 200 OK in 16ms (Views: 9.6ms | ActiveRecord: 0.5ms | Allocations: 6186)


ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:31:11.613283"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[36mChatMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-13 15:31:15.283237"], ["updated_at", "2020-02-13 15:31:15.283237"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 2f55a142-c985-48f8-a1d6-9bd7554a6e42) to Async(default) with arguments: #<GlobalID:0x00007fb0f7030070 @uri=#<URI::GID gid://chat-app/ChatMessage/267>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 267], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f55a142-c985-48f8-a1d6-9bd7554a6e42] Performing ChatMessageCreationEventBroadcastJob (Job ID: 2f55a142-c985-48f8-a1d6-9bd7554a6e42) from Async(default) enqueued at 2020-02-13T15:31:15Z with arguments: #<GlobalID:0x00007fb0f681f5e8 @uri=#<URI::GID gid://chat-app/ChatMessage/267>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f55a142-c985-48f8-a1d6-9bd7554a6e42]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f55a142-c985-48f8-a1d6-9bd7554a6e42]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f55a142-c985-48f8-a1d6-9bd7554a6e42] [ActionCable] Broadcasting to chat_channel: {:id=>267, :created_at=>Thu, 13 Feb 2020 15:31:15 UTC +00:00, :content=>"hey", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [2f55a142-c985-48f8-a1d6-9bd7554a6e42] Performed ChatMessageCreationEventBroadcastJob (Job ID: 2f55a142-c985-48f8-a1d6-9bd7554a6e42) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>267, "created_at"=>"2020-02-13T15:31:15.283Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
Started GET "/cable" for ::1 at 2020-02-13 10:31:18 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:31:18 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>12})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:32:32 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:32:32.414732"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:32:45 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"c", "password"=>"[FILTERED]", "authentication"=>{"email"=>"c", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "c"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1044ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2402)


Started GET "/cable" for ::1 at 2020-02-13 10:32:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:32:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:32:46 -0500
Started GET "/users" for ::1 at 2020-02-13 10:32:46 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
ChatChannel is streaming from chat_channel
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel#appear({"userId"=>9})
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 200 OK in 10ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 3735)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/channels/chat_channel.rb:19:in `appear'
Completed 200 OK in 11ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 5356)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:32:46.128773"], ["id", 9]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>9, :name=>"c"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"hey", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "hey"], ["created_at", "2020-02-13 15:32:49.576616"], ["updated_at", "2020-02-13 15:32:49.576616"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 995c4aa3-b832-4ef9-8aee-3923e8bc9f6f) to Async(default) with arguments: #<GlobalID:0x00007fb0f4b23930 @uri=#<URI::GID gid://chat-app/ChatMessage/268>>
  [1m[36mChatMessage Load (0.2ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 268], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [995c4aa3-b832-4ef9-8aee-3923e8bc9f6f] Performing ChatMessageCreationEventBroadcastJob (Job ID: 995c4aa3-b832-4ef9-8aee-3923e8bc9f6f) from Async(default) enqueued at 2020-02-13T15:32:49Z with arguments: #<GlobalID:0x00007fb0f7809ee0 @uri=#<URI::GID gid://chat-app/ChatMessage/268>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [995c4aa3-b832-4ef9-8aee-3923e8bc9f6f]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [995c4aa3-b832-4ef9-8aee-3923e8bc9f6f]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [995c4aa3-b832-4ef9-8aee-3923e8bc9f6f] [ActionCable] Broadcasting to chat_channel: {:id=>268, :created_at=>Thu, 13 Feb 2020 15:32:49 UTC +00:00, :content=>"hey", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [995c4aa3-b832-4ef9-8aee-3923e8bc9f6f] Performed ChatMessageCreationEventBroadcastJob (Job ID: 995c4aa3-b832-4ef9-8aee-3923e8bc9f6f) from Async(default) in 0.99ms
ChatChannel transmitting {"id"=>268, "created_at"=>"2020-02-13T15:32:49.576Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>268, "created_at"=>"2020-02-13T15:32:49.576Z", "content"=>"hey", "name"=>"c"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:32:54 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1048ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2702)


Started GET "/cable" for ::1 at 2020-02-13 10:32:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:32:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:32:55 -0500
Started GET "/users" for ::1 at 2020-02-13 10:32:55 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
ChatChannel is transmitting the subscription confirmation
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.5ms | Allocations: 2859)


Processing by UsersController#index as HTML
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 2440)


  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:32:55.988538"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel#disappear({"userId"=>12})
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:33:05.001587"], ["id", 12]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>12, :name=>"t"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Unsubscribing from channel: {"channel":"ChatChannel"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:33:07.919305"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:33:09 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1048ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2393)


Started GET "/cable" for ::1 at 2020-02-13 10:33:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:33:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:33:10 -0500
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 2592)


Started GET "/users" for ::1 at 2020-02-13 10:33:10 -0500
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from chat_channel
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 2462)


ChatChannel#appear({"userId"=>11})
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:33:10.736743"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:33:13 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"t", "password"=>"[FILTERED]", "authentication"=>{"email"=>"t", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1051ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2762)


Started GET "/cable" for ::1 at 2020-02-13 10:33:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:33:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:33:14 -0500
Started GET "/users" for ::1 at 2020-02-13 10:33:14 -0500
Processing by ChatMessagesController#index as HTML
ChatChannel is transmitting the subscription confirmation
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>12})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:33:14.357493"], ["id", 12]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 5040)


  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
Completed 200 OK in 14ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 9246)


ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:33:23 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:33:23 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:33:23.197423"], ["id", 12]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>12, :name=>"t"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:33:26 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"t", "password"=>"[FILTERED]", "authentication"=>{"email"=>"t", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "t"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1046ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2383)


Started GET "/cable" for ::1 at 2020-02-13 10:33:27 -0500
Started GET "/chat_messages" for ::1 at 2020-02-13 10:33:27 -0500
Started GET "/users" for ::1 at 2020-02-13 10:33:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:33:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatMessagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
Processing by UsersController#index as HTML
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/auth/authorize_api_request.rb:20:in `user'
ChatChannel is transmitting the subscription confirmation
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
ChatChannel is streaming from chat_channel
ChatChannel#appear({"userId"=>12})
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 4091)


Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.2ms | Allocations: 6059)


  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:33:27.131382"], ["id", 12]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>12, :name=>"t"}
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"appear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"whatup c", "created_by"=>11})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[36mChatMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "whatup c"], ["created_at", "2020-02-13 15:36:03.338125"], ["updated_at", "2020-02-13 15:36:03.338125"], ["created_by", "11"]]
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: f4d6855e-025d-439b-a023-b69c09edbd1d) to Async(default) with arguments: #<GlobalID:0x00007fb0f4fd6658 @uri=#<URI::GID gid://chat-app/ChatMessage/269>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 269], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f4d6855e-025d-439b-a023-b69c09edbd1d] Performing ChatMessageCreationEventBroadcastJob (Job ID: f4d6855e-025d-439b-a023-b69c09edbd1d) from Async(default) enqueued at 2020-02-13T15:36:03Z with arguments: #<GlobalID:0x00007fb0f4fed970 @uri=#<URI::GID gid://chat-app/ChatMessage/269>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f4d6855e-025d-439b-a023-b69c09edbd1d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f4d6855e-025d-439b-a023-b69c09edbd1d]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f4d6855e-025d-439b-a023-b69c09edbd1d] [ActionCable] Broadcasting to chat_channel: {:id=>269, :created_at=>Thu, 13 Feb 2020 15:36:03 UTC +00:00, :content=>"whatup c", :name=>"q"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [f4d6855e-025d-439b-a023-b69c09edbd1d] Performed ChatMessageCreationEventBroadcastJob (Job ID: f4d6855e-025d-439b-a023-b69c09edbd1d) from Async(default) in 1.19ms
ChatChannel transmitting {"id"=>269, "created_at"=>"2020-02-13T15:36:03.338Z", "content"=>"whatup c", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>269, "created_at"=>"2020-02-13T15:36:03.338Z", "content"=>"whatup c", "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>269, "created_at"=>"2020-02-13T15:36:03.338Z", "content"=>"whatup c", "name"=>"q"} (via streamed from chat_channel)
ChatChannel#create({"content"=>"whatup cuh", "created_by"=>9})
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[36mChatMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "chat_messages" ("content", "created_at", "updated_at", "created_by") VALUES (?, ?, ?, ?)[0m  [["content", "whatup cuh"], ["created_at", "2020-02-13 15:36:10.065806"], ["updated_at", "2020-02-13 15:36:10.065806"], ["created_by", "9"]]
  â†³ app/channels/chat_channel.rb:33:in `create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/channels/chat_channel.rb:33:in `create'
[ActiveJob] Enqueued ChatMessageCreationEventBroadcastJob (Job ID: 3a45c4e0-edd6-4333-a3f1-4d80563833a5) to Async(default) with arguments: #<GlobalID:0x00007fb0f531f238 @uri=#<URI::GID gid://chat-app/ChatMessage/270>>
  [1m[36mChatMessage Load (0.1ms)[0m  [1m[34mSELECT "chat_messages".* FROM "chat_messages" WHERE "chat_messages"."id" = ? LIMIT ?[0m  [["id", 270], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a45c4e0-edd6-4333-a3f1-4d80563833a5] Performing ChatMessageCreationEventBroadcastJob (Job ID: 3a45c4e0-edd6-4333-a3f1-4d80563833a5) from Async(default) enqueued at 2020-02-13T15:36:10Z with arguments: #<GlobalID:0x00007fb0f7032280 @uri=#<URI::GID gid://chat-app/ChatMessage/270>>
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a45c4e0-edd6-4333-a3f1-4d80563833a5]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a45c4e0-edd6-4333-a3f1-4d80563833a5]   â†³ app/jobs/chat_message_creation_event_broadcast_job.rb:6:in `perform'
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a45c4e0-edd6-4333-a3f1-4d80563833a5] [ActionCable] Broadcasting to chat_channel: {:id=>270, :created_at=>Thu, 13 Feb 2020 15:36:10 UTC +00:00, :content=>"whatup cuh", :name=>"c"}
[ActiveJob] [ChatMessageCreationEventBroadcastJob] [3a45c4e0-edd6-4333-a3f1-4d80563833a5] Performed ChatMessageCreationEventBroadcastJob (Job ID: 3a45c4e0-edd6-4333-a3f1-4d80563833a5) from Async(default) in 1.46ms
ChatChannel transmitting {"id"=>270, "created_at"=>"2020-02-13T15:36:10.065Z", "content"=>"whatup cuh", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>270, "created_at"=>"2020-02-13T15:36:10.065Z", "content"=>"whatup cuh", "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"id"=>270, "created_at"=>"2020-02-13T15:36:10.065Z", "content"=>"whatup cuh", "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:37:11 -0500
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:37:11 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:37:11.957421"], ["id", 11]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>11, :name=>"q"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:37:11 -0500
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "c"], ["id", 9], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:37:11.970413"], ["id", 9]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>9, :name=>"c"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
ChatChannel transmitting {"event"=>"disappear", "user_id"=>9, "name"=>"c"} (via streamed from chat_channel)
Finished "/cable/" [WebSocket] for ::1 at 2020-02-13 10:37:12 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "t"], ["id", 12], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 0], ["updated_at", "2020-02-13 15:37:12.011631"], ["id", 12]]
  â†³ app/models/user.rb:20:in `disappear'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:20:in `disappear'
[ActionCable] Broadcasting to chat_channel: {:event=>"disappear", :user_id=>12, :name=>"t"}
ChatChannel stopped streaming from chat_channel
ChatChannel transmitting {"event"=>"disappear", "user_id"=>12, "name"=>"t"} (via streamed from chat_channel)
Started POST "/auth/login" for ::1 at 2020-02-13 10:37:19 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
Completed 401 Unauthorized in 268ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2138)


Started POST "/auth/login" for ::1 at 2020-02-13 10:37:20 -0500
Processing by AuthenticationController#authenticate as HTML
  Parameters: {"email"=>"q", "password"=>"[FILTERED]", "authentication"=>{"email"=>"q", "password"=>"[FILTERED]"}}
[31mUnpermitted parameter: :authentication[0m
[31mUnpermitted parameter: :authentication[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "q"], ["LIMIT", 1]]
  â†³ app/auth/authenticate_user.rb:18:in `user'
[31mUnpermitted parameter: :authentication[0m
Completed 200 OK in 1050ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2380)


Started GET "/cable" for ::1 at 2020-02-13 10:37:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2020-02-13 10:37:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/chat_messages" for ::1 at 2020-02-13 10:37:21 -0500
Started GET "/users" for ::1 at 2020-02-13 10:37:21 -0500
Processing by UsersController#index as HTML
Processing by ChatMessagesController#index as HTML
ChatChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
ChatChannel#appear({"userId"=>11})
ChatChannel is streaming from chat_channel
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/channels/chat_channel.rb:19:in `appear'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  â†³ app/auth/authorize_api_request.rb:20:in `user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT chat_messages.id, users.name, chat_messages.content, chat_messages.created_at FROM "users" INNER JOIN "chat_messages" ON "chat_messages"."created_by" = "users"."id" ORDER BY chat_messages.id DESC LIMIT ?[0m  [["LIMIT", 10]]
  â†³ app/controllers/chat_messages_controller.rb:5:in `index'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "q"], ["id", 11], ["LIMIT", 1]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "is_online" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["is_online", 1], ["updated_at", "2020-02-13 15:37:21.837767"], ["id", 11]]
  â†³ app/models/user.rb:15:in `appear'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/user.rb:15:in `appear'
Completed 200 OK in 18ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 4240)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id", "users"."name", "users"."email", "users"."is_online" FROM "users"[0m
[ActionCable] Broadcasting to chat_channel: {:event=>"appear", :user_id=>11, :name=>"q"}
  â†³ app/controllers/concerns/response.rb:3:in `json_response'
ChatChannel transmitting {"event"=>"appear", "user_id"=>11, "name"=>"q"} (via streamed from chat_channel)
Completed 200 OK in 26ms (Views: 10.3ms | ActiveRecord: 0.3ms | Allocations: 9104)


